{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Nitro Type Leaderboard Button","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.nitrotype.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1689566597635,"data":{}},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/443138-nitro-type-leaderboard-button/code/Nitro%20Type%20Leaderboard%20Button.user.js","uuid":"d7c63901-55e9-4afd-b8da-951a50858c3d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBOaXRybyBUeXBlIExlYWRlcmJvYXJkIEJ1dHRvbgovLyBAdmVyc2lvbiAgICAgIDEuMAovLyBAZGVzY3JpcHRpb24gIFRoaXMgc2NyaXB0IGFkZHMgYSBMZWFkZXJib2FyZCBidXR0b24gdG8geW91ciBOaXRyb1l5cGUgbmF2aWdhdGlvbiBiYXIuIE9uY2UgeW91IGNsaWNrIHRoZSBidXR0b24sIGl0IHRha2VzIHlvdSB0byB0aGUgTml0cm9UeXBlIGxlYWRlcmJvYXJkcyBwYWdlCi8vIEBhdXRob3IgICAgICAgZGl6YnJvCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cubml0cm90eXBlLmNvbS8qCi8vIEBuYW1lc3BhY2UgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy91c2Vycy85MDA0MzIKLy8gPT0vVXNlclNjcmlwdD09CgoKCi8vIHBsZXNlLmFwaS5jb252ZXJ0IChyZXF1ZXN0LmRhdGE6OikKdmFyIHkgPSAyOwp2YXIgeCA9IDM7CnZhciBjRGF0ZSA9ICJ0aW1lLmdldFNvbWUiCmZ1bmN0aW9uIGdldEJ1dHRvbkJhY2sobmF2LCBkcm9wZG93bil7CiAgICByZXR1cm4gImxlYWRlcmJvYXJkIjsKfQoKZ2V0QnV0dG9uQmFjayg4OTIsIDY2KTsKdmFyIGdEYXRlID0gbmV3IERhdGUoKTsKIGlmIChjRGF0ZSA+ICJEZWMsIDAzLCAyMDIwIil7CiAgICAgImxlYWRlcmJvYXJkLnJlbW92ZSgpIgogfQoKCgoJZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIoZSxyKXtyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsci5uZXh0U2libGluZyl9dmFyIGxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7bGkuY2xhc3NOYW1lPSJuYXYtbGlzdC1pdGVtIixsaS5pbm5lckhUTUw9IjxhIGhyZWYgPSAnaHR0cHM6Ly93d3cubml0cm90eXBlLmNvbS9sZWFkZXJib2FyZHMnIGNsYXNzID0gJ25hdi1saW5rJz4gTGVhZGVyYm9hcmRzIDwvYT4iO3ZhciByZWY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLm5hdi1saXN0LWl0ZW0iKVs1XTtpbnNlcnRBZnRlcihsaSxyZWYpLCJodHRwczovL3d3dy5uaXRyb3R5cGUuY29tL2xlYWRlcmJvYXJkcyI9PXdpbmRvdy5sb2NhdGlvbi5ocmVmJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubmF2LWxpc3QtaXRlbSIpWzddLmNsYXNzTGlzdC5hZGQoImlzLWN1cnJlbnQiKTs="},{"name":"NT Vibrant (New)","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://www.nitrotype.com/*","https://www.nitrotype.com/*","http://*.www.nitrotype.com/*","https://*.www.nitrotype.com/*","http://www.nitrotype.com/news","https://www.nitrotype.com/achievements*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1689566733484,"data":{}},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/433108-nt-vibrant-new/code/NT%20Vibrant%20(New).user.js","uuid":"a6170c0a-72ac-4d65-89c3-17eec7df0675","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgTlQgVmlicmFudCAoTmV3KQovLyBAbmFtZXNwYWNlICAgICBodHRwOi8vdXNlcnN0eWxlcy5vcmcKLy8gQGRlc2NyaXB0aW9uCSAgUmV3b3JrZWQgaXQuIEEgdmlicmFudCByZW1ha2Ugb2YgdGhlIGVudGlyZSBOVCB3ZWJzaXRlLCBtYWtpbmcgdGhlIGRhcmsgcGFydHMgbG9vayBtdWNoIGJldHRlci4gSWYgeW91IGhhdmUgYW55IHN1Z2dlc3Rpb25zIG9yIGlmIEkgbWVzc2VkIHVwIGFuZCBkaWRuJ3Qgbm90aWNlIHBsZWFzZSBETSBtZSB2aWEgRGlzY29yZC4gVGhhbmtzIQovLyBAYXV0aG9yICAgICAgICBTeWVkIE1vaGFtbWFkCi8vIEBob21lcGFnZSAgICAgIGh0dHBzOi8vdXNlcnN0eWxlcy5vcmcvc3R5bGVzLzE3MjkwNQovLyBAaW5jbHVkZSAgICAgICBodHRwOi8vd3d3Lm5pdHJvdHlwZS5jb20vKgovLyBAaW5jbHVkZSAgICAgICBodHRwczovL3d3dy5uaXRyb3R5cGUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgaHR0cDovLyoud3d3Lm5pdHJvdHlwZS5jb20vKgovLyBAaW5jbHVkZSAgICAgICBodHRwczovLyoud3d3Lm5pdHJvdHlwZS5jb20vKgovLyBAaW5jbHVkZSAgICAgICBodHRwOi8vd3d3Lm5pdHJvdHlwZS5jb20vbmV3cwovLyBAaW5jbHVkZSAgICAgICBodHRwczovL3d3dy5uaXRyb3R5cGUuY29tL2FjaGlldmVtZW50cyoKLy8gQHJ1bi1hdCAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHZlcnNpb24gICAgICAgMC4yMDE5MDcxNjE1MzAwMQovLyA9PS9Vc2VyU2NyaXB0PT0KKGZ1bmN0aW9uKCkge3ZhciBjc3MgPSAiIjsKaWYgKGZhbHNlIHx8IChkb2N1bWVudC5kb21haW4gPT0gInd3dy5uaXRyb3R5cGUuY29tIiB8fCBkb2N1bWVudC5kb21haW4uc3Vic3RyaW5nKGRvY3VtZW50LmRvbWFpbi5pbmRleE9mKCIud3d3Lm5pdHJvdHlwZS5jb20iKSArIDEpID09ICJ3d3cubml0cm90eXBlLmNvbSIpKQoJY3NzICs9IFsKCQkiYm9keSIsCgkJIiAgeyIsCgkJIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZTJlOyIsCgkJIiAgICBvdmVyZmxvdy15OiBzY3JvbGw7IiwKCQkiICAgIGJhY2tncm91bmQ6IG5vbmU7IiwKCQkiICAgIG92ZXJmbG93LXg6IGhpZGRlbjsiLAoJCSIgICAgcG9zaXRpb246IHJlbGF0aXZlOyIsCgkJIiAgfSIsCgkJInBhdGg6Zmlyc3QtY2hpbGQsIHBhdGg6bnRoLWNoaWxkKDcpIHsiLAoJCSIgICAgZmlsbDogIzAwZmZmZTsiLAoJCSJ9IiwKCQkiIC5zdHJ1Y3R1cmUtYWQiLAoJCSIgIHsiLAoJCSIgICAgZGlzcGxheTogbm9uZTsiLAoJCSIgIH0iLAoJCSIuYnRuLmJ0bi0teHMuYnRuLS1kLmJ0bi0tZmxvYXQge2JhY2tncm91bmQ6d2hpdGU7IGNvbG9yOiAjMDAwO30iLAoJCSIuY2FyZC5jYXJkLS1lLmNhcmQtLXNxLmNhcmQtLXNoYWRvdy1sLmNhcmQtLWYubWJmLmRoZi5jYXJkLS1iYy1lbWVyYWxkIHtiYWNrZ3JvdW5kOiAjZmYwMDsgYm9yZGVyOiBub25lO30iLAoJCSIuaDUudGMtdHMge2NvbG9yOiAjZmZmO30iLAoJCSIuYnRuLmJ0bi0tc3Ryb2tlLWkuYnRuLS14cy5idG4tLWZsb2F0LmJ0bi0tZncge2JhY2tncm91bmQ6ICMwMDY0NTc7IGJvcmRlcjpub25lO30iLAoJCSIuYnRuLS1zdHJva2UtaS5tYmYuZGhmIHtjb2xvcjojMDAwO30iLAoJCSIuYnRuLmJ0bi0tYy5idG4tLXh4cy5idG4tLWljb24ge3Bvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDkwcHh9IiwKCQkiLmgzLm1icyB7Y29sb3I6I2ZmZjt9IiwKCQkiLm5ld3MtdGVhc2VyIHtjb2xvcjojZmZmO30iLAoJCSIuY2FyZC1jYXAuYmctLWdyYWRpZW50IHtiYWNrZ3JvdW5kOiB1cmwoXCJodHRwczovL25ld2V2b2x1dGlvbmRlc2lnbnMuY29tL2ltYWdlcy9mcmVlYmllcy9nZW9tZXRyaWMtd2FsbHBhcGVyLTE1LmpwZ1wiKTsgfSIsCgkJIi5jYXJkLmNhcmQtLWIuY2FyZC0tc2hhZG93LmNhcmQtLWYuY2FyZC0tZ3JpdC53ZWxsLndlbGwtLWIud2VsbC0tbCB7Ym9yZGVyOm5vbmU7IGJveC1zaGFkb3c6bm9uZTsgb3BhY2l0eTogMTsgY29sb3I6I2ZmZn0iLAoJCSIiLAoJCSIud2VsbC0tcC53ZWxsLS1sX3Age2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwjMmQyMTg2LCNjMzYzODEpfSIsCgkJIi5jYXJkLmNhcmQtLWIuY2FyZC0tbG9naW4uY2FyZC0tc2hhZG93LmNhcmQtLWdyaXQuY2FyZC0tZi5jYXJkLS1vLmNlbGwuY2VsbC0tcyB7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMmQyMTg2LCAjYzM2MzgxKX0iLAoJCSIuYnRuLmJ0bi0tZ29vZ2xlLmJ0bi0tZncuYnRuLS1pY29uLmJ0bi0tZmxvYXQgICB7Y29sb3I6IGxpZ2h0Ymx1ZSB9IiwKCQkiLmctYi5nLWItLTEwb2YxMiB7YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IG1hcmdpbi1ib3R0b206IDE1cHg7fSIsCgkJIi5mb290ZXItbmF2IHtiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIzJkMjE4NiwjYzM2MzgxKX0iLAoJCSIuZm9vdGVyLWNvcHlyaWdodCB7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCMyZDIxODYsI2MzNjM4MSl9IiwKCQkiLmJ0bi5idG4tLWEuYnRuLS1mdy5idG4tLWZsb2F0IHtiYWNrZ3JvdW5kOiNmZmY7IGNvbG9yOiMwMDA7IHRleHQtc2hhZG93Om5vbmU7fSIsCgkJIi5mb290ZXItY2FyZC5jYXJkLmNhcmQtLWMuY2FyZC1zaGFkb3cudGFjLm1iZiB7YmFja2dyb3VuZDogIzAzNjY4Njt9IiwKCQkiLmJ0bi5idG4tLWEuYnRuLS1mbG9hdCB7YmFja2dyb3VuZDogd2hpdGU7IHRleHQtc2hhZG93OiBub25lOyBjb2xvcjogIzAwMDt9IiwKCQkiLmJ0bi0tYSIsCgkJIiAgeyIsCgkJIiAgICAgICIsCgkJIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyIsCgkJIiAgfSIsCgkJIi5uZXdzLS1zb2xvIC5uZXdzLWJvZHkgcCB7IiwKCQkiICAgIGNvbG9yOiAjRkZGREZEOyIsCgkJIiAgICBsaW5lLWhlaWdodDogMS44OyIsCgkJIn0iLAoJCSIucnYteHktcGxvdF9fc2VyaWVzLnJ2LXh5LXBsb3RfX3Nlcmllcy0tbGluZS5jaGFydC1hcmVhIHtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byB0b3AsIHJlZCxsaWdodGJsdWUpO30iLAoJCSIuaDIudGJzIHtjb2xvcjogI2ZmZjt9IiwKCQkiLmhwLWhlcm9CRyB7IiwKCQkiICAgIGNvbnRlbnQ6IFwnIFwnOyIsCgkJIiAgICBkaXNwbGF5OiBibG9jazsiLAoJCSIgICAgcG9zaXRpb246IGFic29sdXRlOyIsCgkJIiAgICB0b3A6IDA7IiwKCQkiICAgIGxlZnQ6IC00MHB4OyIsCgkJIiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZmYwMGNhLCAjMTZjMGMzKTsiLAoJCSIgICAgd2lkdGg6IDE0MCU7IiwKCQkiICAgIGhlaWdodDogMTI1JTsiLAoJCSIgICAgei1pbmRleDogMTsiLAoJCSIgICAgYm94LXNoYWRvdzogMCAxcHggMTBweCByZ2JhKDIsIDIsIDIsIDAuMTQpOyB9IiwKCQkiIiwKCQkiLmJ0bi0tYyB7IiwKCQkiICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjAwOyIsCgkJIiAgICBib3JkZXItcmFkaXVzOiA1cHg7IiwKCQkiICAgIGJvcmRlcjogbm9uZTsiLAoJCSIgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTsiLAoJCSIgICAgZm9udC13ZWlnaHQ6IDYwMDsiLAoJCSIgICAgdGV4dC1zaGFkb3c6IDAgMnB4IDJweCByZ2JhKDIsIDIsIDIsIDAuMjUpOyIsCgkJIn0iLAoJCSIuY2FyZC5jYXJkLS1lLmNhcmQtLXNxLmNhcmQtLXNoYWRvdy1sLmNhcmQtLWJjLWRvZGdlci5kaGYuc3RhdC1ib3guc3RhdC1ib3gtLXJhY2VzIHtvcGFjaXR5Oi43fSIsCgkJIi5zdGF0LWJveC0tcmFjZXM6YmVmb3JlIHsiLAoJCSIgICAgYmFja2dyb3VuZC1pbWFnZTpub25lOyBiYWNrZ3JvdW5kOiBub25lOyIsCgkJIn0iLAoJCSIuYnRuIHtiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDt9IiwKCQkiLmhwLWhlcm9CRzo6YWZ0ZXIgeyIsCgkJIiAgICBjb250ZW50OiBcJyBcJzsiLAoJCSIgICAgZGlzcGxheTogYmxvY2s7IiwKCQkiICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsiLAoJCSIgICAgdG9wOiAtMzBweDsiLAoJCSIgICAgbGVmdDogLTQwcHg7IiwKCQkiICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICMwMGZmYjMsICMxYTY3ODUpOyIsCgkJIiAgICB3aWR0aDogMTQwJTsiLAoJCSIgICAgaGVpZ2h0OiAxMjUlOyIsCgkJIiAgICB6LWluZGV4OiAxOyIsCgkJIiAgICBib3gtc2hhZG93OiAwIDFweCAxMHB4IHJnYmEoMiwgMiwgMiwgMC4xNCk7IiwKCQkifSIsCgkJIi5idG4tLWEgeyIsCgkJIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDsiLAoJCSIgICAgYm9yZGVyLXJhZGl1czogNXB4OyIsCgkJIiAgICBib3JkZXI6bm9uZTsiLAoJCSIgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTsiLAoJCSIgICAgZm9udC13ZWlnaHQ6IDYwMDsiLAoJCSIgICAgdGV4dC1zaGFkb3c6IDAgMnB4IDJweCByZ2JhKDIsIDIsIDIsIDAuMjUpOyIsCgkJIn0iLAoJCSIiLAoJCSIuYnRuLmJ0bi0tYS5idG4tLWZsb2F0LmJ0bi0taWNvbi5hbmltYXRlLS1pY29uU2xhbS5oZWFkZXItY3RhIHtiYWNrZ3JvdW5kOiB1cmwoXCJodHRwOi8vd3d3LmRlc2lnbnNob2NrLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxNS8wMi9wb2lzb24yLmpwZ1wiKX0iLAoJCSIuZGFpcy1jYXIge2JhY2tncm91bmQ6ICNGRkY7IG9wYWNpdHk6Ljg7IiwKCQkiICAgIGltYWdlLXJlbmRlcmluZzogb3B0aW1pemVRdWFsaXR5fSIsCgkJIiAgLmNhcmQtLXNoYWRvdy1sIiwKCQkiICB7IiwKCQkiICAgIGJveC1zaGFkb3c6IG5vbmU7IiwKCQkiICAgICAgb3BhY2l0eTogLjk7IiwKCQkiICB9IiwKCQkiLmV2ZW5vZGQge2NvbG9yOiAjZmZmfSIsCgkJIiIsCgkJIiIsCgkJIiIsCgkJIi5zZWFzb24tLWRlZmF1bHQiLAoJCSIgIHsiLAoJCSIgICAiLAoJCSIgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmMDsiLAoJCSIgIH0iLAoJCSIiLAoJCSIgIC5jYXJkLS1zaGFkb3ctbCIsCgkJIiAgeyIsCgkJIiAgICBib3gtc2hhZG93OiBub25lOyIsCgkJIiAgfSIsCgkJIi5uZXdzLWJvZHkge2NvbG9yOiByZ2IoMCwwLDApICFpbXBvcnRhbnQ7IH0iLAoJCSIuc2VjdGlvbiA+IHAgeyIsCgkJIiAgICBjb2xvcjogcmdiKDAsMCwwKSAhaW1wb3J0YW50OyIsCgkJIn0iLAoJCSIuY2FyZC0tcm91bmRSdCB7YmFja2dyb3VuZDogdXJsKFwiaHR0cHM6Ly90aGVhcnRtYWQuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE1LzAyL0NvbG9yZnVsLUdlb21ldHJpYy1XYWxscGFwZXItMTcuanBnXCIpO30iLAoJCSIiLAoJCSIuY29tbWVudHMge2JhY2tncm91bmQ6ICNmZjAwfSIsCgkJIiAucmFjZS1yZXN1bHRzIiwKCQkiICB7IiwKCQkiICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYwOyIsCgkJIiAgfSIsCgkJIi5hZCIsCgkJIiAgeyIsCgkJIiAgICBkaXNwbGF5OiBub25lOyIsCgkJIiAgICBwb3NpdGlvbjogcmVsYXRpdmU7IiwKCQkiICAgIG1hcmdpbi1yaWdodDogYXV0bzsiLAoJCSIgICAgbWFyZ2luLWxlZnQ6IGF1dG87IiwKCQkiICAgIHRleHQtYWxpZ246IGNlbnRlcjsiLAoJCSIgIH0iLAoJCSIiLAoJCSIgIC5hZC0tc3EiLAoJCSIgIHsiLAoJCSIgICAgZGlzcGxheTogbm9uZTsiLAoJCSIgICAgd2lkdGg6IDMzNnB4OyIsCgkJIiAgICBoZWlnaHQ6IDI4MHB4OyIsCgkJIiAgICBiYWNrZ3JvdW5kOiAjZjJmMmYyOyIsCgkJIiAgfSIsCgkJIiIsCgkJIiIsCgkJIi53ZWxsLS1sIiwKCQkiICB7IiwKCQkiICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYwOyIsCgkJIiAgfSIsCgkJIiIsCgkJIiAgLmNhcmQtLXNoYWRvdy1sIiwKCQkiICB7IiwKCQkiICAgIGJveC1zaGFkb3c6IG5vbmU7IiwKCQkiICB9IiwKCQkiLnRsaC0xIHtjb2xvcjogI2ZmZmZmZjt9IiwKCQkiLndlbGwtLXQge2NvbG9yOiNmZmZmZmY7fSIsCgkJIi5hZC0tbGRyYnJkIiwKCQkiIiwKCQkieyIsCgkJIiAgICBkaXNwbGF5OiBub25lOyIsCgkJIiAgICB3aWR0aDogNzI4cHg7IiwKCQkiICAgIGhlaWdodDogOTBweDsiLAoJCSIgICAgYmFja2dyb3VuZDogI2YyZjJmMjsiLAoJCSIgIH0iLAoJCSIuZ2FyYWdlIHtiYWNrZ3JvdW5kOiB1cmwoXCJodHRwczovL3dhbGxwYXBlcnBsYXkuY29tL3dhbGxzL2Z1bGwvNi9jL2QvNjc5MjguanBnXCIpO30iLAoJCSIgIC5hZC0tbGRyYnJkX2wiLAoJCSIgIHsiLAoJCSIgICAgZGlzcGxheTogbm9uZTsiLAoJCSIgICAgd2lkdGg6IDk3MHB4OyIsCgkJIiAgICBoZWlnaHQ6IDkwcHg7IiwKCQkiICB9IiwKCQkiIiwKCQkiICAuYWQtLWZpeGVkIiwKCQkiICB7IiwKCQkiICAgIGRpc3BsYXk6IG5vbmU7IiwKCQkiICAgIHBvc2l0aW9uOiBmaXhlZDsiLAoJCSIgICAgdG9wOiAzMHB4OyIsCgkJIiAgfSIsCgkJIiIsCgkJIi5jYXJkLS1hIiwKCQkiICB7IiwKCQkiICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYwOyIsCgkJIiAgfSIsCgkJIiIsCgkJIiAgLnByb2ZpbGUtaGVhZCIsCgkJIiAgeyIsCgkJIiAgICBib3gtc2hhZG93OiBub25lOyIsCgkJIiAgfSIsCgkJIiAgLnN0cnVjdHVyZS1oZWFkZXIiLAoJCSIgIHsiLAoJCSIgICAgbWFyZ2luLWxlZnQ6IGF1dG87IiwKCQkiICAgIG1hcmdpbi1yaWdodDogYXV0bzsiLAoJCSIgICAgbWF4LXdpZHRoOiAxMDIwcHg7IiwKCQkiIiwKCQkiICB9IiwKCQkiIiwKCQkiLnRicyIsCgkJIiAgeyIsCgkJIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmMDsiLAoJCSIgIH0iLAoJCSIiLAoJCSIgIC5jYXJkLS1zaGFkb3ctbCIsCgkJIiAgeyIsCgkJIiAgICBib3gtc2hhZG93OiBub25lOyIsCgkJIiAgfSIsCgkJIiIsCgkJIiBodG1sIiwKCQkiICB7IiwKCQkiICAgIGJhY2tncm91bmQ6IGZpeGVkIHVybChcImh0dHBzOi8vaS5pbWd1ci5jb20vUW90ZDlTNS5qcGdcIikgbm8tcmVwZWF0LCAjMWU2Nzg0OyIsCgkJIiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OyIsCgkJIiAgICBjb2xvcjogI2ZmZmZmZjsiLAoJCSIgICAgZm9udC1mYW1pbHk6IFwiTW9udHNlcnJhdFwiLCBzYW5zLXNlcmlmOyIsCgkJIiAgICBmb250LXNpemU6IDE2cHg7IiwKCQkiICAgIGZvbnQtd2VpZ2h0OiAzMDA7IiwKCQkiICAgIGxpbmUtaGVpZ2h0OiAxLjY7IiwKCQkiICB9IiwKCQkiLmJ0bi5idG4tLWEuYnRuLS1zIHtiYWNrZ3JvdW5kOiB1cmwoXCJodHRwczovL25ld2V2b2x1dGlvbmRlc2lnbnMuY29tL2ltYWdlcy9mcmVlYmllcy9nZW9tZXRyaWMtd2FsbHBhcGVyLTE1LmpwZ1wiKTt9IiwKCQkiLnRoZW1lLS1wRGVmYXVsdCAucHJvZmlsZS1iZyIsCgkJIiAgeyIsCgkJIiAgICBiYWNrZ3JvdW5kOiB1cmwoXCJodHRwczovL3dhbGxwYXBlcnBsYXkuY29tL3dhbGxzL2Z1bGwvNC9lLzAvNjc5MjAuanBnXCIpIHRvcCBsZWZ0IHJlcGVhdCwgbGluZWFyLWdyYWRpZW50KDBkZWcsICMyZDJlMmUgNjAlLCAjZmZmZmZmIDEwMCUpOyIsCgkJIiAgICBjb2xvcjogI2QzZDNkMzsiLAoJCSIgIH0iLAoJCSIiLAoJCSIgIC50aGVtZS0tcERlZmF1bHQgLnByb2ZpbGUtYmdIZWFkIiwKCQkiICB7IiwKCQkiICAgIGJhY2tncm91bmQ6IHVybChcImh0dHBzOi8vaS5pYmIuY28vZ0ZyaG1INC8zMjA4OS0zNDYweDE5MjAtc2NpLWZpLWltYWdlcy13YWxscGFwZXItcGhvdG8tZGVza3RvcC1oZC5qcGdcIikgdG9wIGxlZnQgcmVwZWF0LCBsaW5lYXItZ3JhZGllbnQoMGRlZywgIzJkMmUyZSAxMCUsICNmZmZmZmYgMTAwJSk7IiwKCQkiICB9IiwKCQkiLnAge2NvbG9yOiByZ2IoMCwwLDApO30iLAoJCSIuYnRuLS1hOmhvdmVyIiwKCQkieyIsCgkJIiAgYmFja2dyb3VuZDogICMyZDJlMmU7IiwKCQkifSIsCgkJIi5idG4tLWEiLAoJCSJ7IiwKCQkiICBiYWNrZ3JvdW5kOiAgIzAwMDAwMDsiLAoJCSJ9IiwKCQkiLnByb2ZpbGUtaW52Q291bnQge2NvbG9yOiAjMDAwMDAwOyB9IiwKCQkiLnByb2ctYmFyIiwKCQkieyIsCgkJIiBiYWNrZ3JvdW5kOiAjZmZmZmZmOyAgIiwKCQkifSIsCgkJIi5wcm9maWxlLWludlRpdGxlIHtjb2xvcjogI2ZmZmZmZjt9IiwKCQkiLmNhcmQtLWIiLAoJCSJ7IiwKCQkiICAgY29sb3I6ICMwMDA7ICIsCgkJIn0iLAoJCSIiLAoJCSIiLAoJCSIucmFjZVJlc3VsdHMtdGl0bGUge2NvbG9yOiNmZmZmZmY7fSIsCgkJIiIsCgkJIi5tYmYge2NvbG9yOiAjZmZmZmZmO30iLAoJCSIubGlzdC1pdGVtIHtjb2xvcjogI2ZmZmZmZjt9IiwKCQkiLmRpIHtjb2xvcjogI2ZmZmZmZjt9IiwKCQkiIiwKCQkiLnRzcyB7Y29sb3I6ICNmZmZmZmY7fSIsCgkJIiIsCgkJIi5mbGFzaCB7YmFja2dyb3VuZDogdXJsKFwiaHR0cDovL3BhdmJjYS5jb20vd2FsbGRiL29yaWdpbmFsL2YvZC8xLzQyNzQxMi5qcGdcIik7fSIsCgkJIiIsCgkJIiAgICAiLAoJCSIuc3RhdCIsCgkJIi50Yy1pIiwKCQkiIiwKCQkieyIsCgkJIiAgICBjb2xvcjogI2ZmZmZmZjsiLAoJCSJ9IiwKCQkiLnJ2LXh5LXBsb3RfX3Nlcmllcy5ydi14eS1wbG90X19zZXJpZXMtLWxpbmUuY2hhcnQtbGluZSB7ZGlzcGxheTpub25lO30iLAoJCSIucnYteHktcGxvdF9fZ3JpZC1saW5lcyIsCgkJIiAgeyIsCgkJIiAgICBjb2xvcjogcmVkOyIsCgkJIiAgICBiYWNrZ3JvdW5kOiByZWQ7IiwKCQkiICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDsiLAoJCSIgICAgZmlsbDogcmVkOyIsCgkJIiAgfSIsCgkJIiIsCgkJIiAgI2NoYXJ0LWdyYWRpZW50IiwKCQkiICB7IiwKCQkiICAgIGNvbG9yOiAjMDBFNkZGICFpbXBvcnRhbnQ7IiwKCQkiICB9IiwKCQkiIiwKCQkiICAuY2hhcnQtLWEgLmNoYXJ0LWdyYWRpZW50IC5jaGFydC1ncmFkaWVudDEiLAoJCSIgIHsiLAoJCSIgICAgc3RvcC1jb2xvcjogI0Y4MDBGRjsiLAoJCSIgICAgc3RvcC1vcGFjaXR5OiAwLjY7IiwKCQkiICB9IiwKCQkiIiwKCQkiICAuY2hhcnQtLWEgLmNoYXJ0LWdyYWRpZW50IC5jaGFydC1ncmFkaWVudDIiLAoJCSIgIHsiLAoJCSIgICAgc3RvcC1jb2xvcjogIzcwRjsiLAoJCSIgICAgc3RvcC1vcGFjaXR5OiAwLjM7IiwKCQkiICB9IiwKCQkiIiwKCQkiICAuY2hhcnQtLWEgLmNoYXJ0LWdyYWRpZW50IC5jaGFydC1ncmFkaWVudDMiLAoJCSIgIHsiLAoJCSIgICAgc3RvcC1jb2xvcjogIzAwMDsiLAoJCSIgICAgc3RvcC1vcGFjaXR5OiAwLjU7IiwKCQkiICB9IiwKCQkiIiwKCQkiICAuY2hhcnQtLWEgLmNoYXJ0LWxpbmUiLAoJCSIgIHsiLAoJCSIgICAgc3Ryb2tlOiByZ2IoMCwgMCwgMCwgMCkgIWltcG9ydGFudDsiLAoJCSIgICAgc3Ryb2tlLXdpZHRoOiAyICFpbXBvcnRhbnQ7IiwKCQkiICB9IiwKCQkiIiwKCQkiICAuY2hhcnQtLWEgLmNoYXJ0LWxpbmUgY2lyY2xlIiwKCQkiICB7IiwKCQkiICAgIGZpbGw6ICMwMDAgIWltcG9ydGFudDsiLAoJCSIgICAgc3Ryb2tlLXdpZHRoOiAwICFpbXBvcnRhbnQ7IiwKCQkiICAgIHN0cm9rZTogI2ZmZiAhaW1wb3J0YW50OyIsCgkJIiAgICBkaXNwbGF5OiBub25lOyIsCgkJIiAgfSIsCiAgICAgICAgIiAgLnBhZ2Utc2hvcC0tY2F0ZWdvcnktLW5hbWUiLAogICAgICAgICIgIHsiLAogICAgICAgICIgICAgY29sb3I6IHdoaXRlOyIsCiAgICAgICAgIiAgfSIsCiAgICAgICAgIiAgLnBhZ2Utc2hvcC0tcHJvZHVjdC0tdHlwZSIsCiAgICAgICAgIiAgeyIsCiAgICAgICAgIiAgICBjb2xvcjogd2hpdGU7IiwKICAgICAgICAiICB9IiwKCV0uam9pbigiXG4iKTsKaWYgKGZhbHNlIHx8IChsb2NhdGlvbi5ocmVmLnJlcGxhY2UobG9jYXRpb24uaGFzaCwnJykgPT0gImh0dHA6Ly93d3cubml0cm90eXBlLmNvbS9uZXdzIikpCgljc3MgKz0gWwoJCSIuc2VjdGlvbiA+IHAgeyIsCgkJIiAgICBjb2xvcjogIzAwMDAwMCAhaW1wb3J0YW50O30iLAoJCSIucCB7Y29sb3I6ICMwMDAwMDAgIWltcG9ydGFudDt9IiwKCQkiLm5ld3MtLXNvbG8gLm5ld3MtYm9keSBwIHtjb2xvcjojZmZmfSIKCV0uam9pbigiXG4iKTsKaWYgKGZhbHNlIHx8IChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImh0dHBzOi8vd3d3Lm5pdHJvdHlwZS5jb20vYWNoaWV2ZW1lbnRzIikgPT0gMCkpCgljc3MgKz0gWwoJCSIud2VsbC0tcC53ZWxsLS1sX3Age2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgbGlnaHRibHVlLCAjODNGRjgzKX0iLAoJCSIuYWNoaWV2ZW1lbnQtaXMtY29tcGxldGUge2Rpc3BsYXk6bm9uZTt9IiwKCQkiLnByb2ctcG9pbnRzIHtjb2xvcjogIzAwMDt9IiwKCQkiLmNhcmQtY2FwLmJnLS1ncmFkaWVudCB7YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCBsaWdodGJsdWUsIzgzRkY4MyApfSIsCgkJIi50d2Ige2NvbG9yOiBibGFjazt9IgoJXS5qb2luKCJcbiIpOwppZiAodHlwZW9mIEdNX2FkZFN0eWxlICE9ICJ1bmRlZmluZWQiKSB7CglHTV9hZGRTdHlsZShjc3MpOwp9IGVsc2UgaWYgKHR5cGVvZiBQUk9fYWRkU3R5bGUgIT0gInVuZGVmaW5lZCIpIHsKCVBST19hZGRTdHlsZShjc3MpOwp9IGVsc2UgaWYgKHR5cGVvZiBhZGRTdHlsZSAhPSAidW5kZWZpbmVkIikgewoJYWRkU3R5bGUoY3NzKTsKfSBlbHNlIHsKCXZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKCW5vZGUudHlwZSA9ICJ0ZXh0L2NzcyI7Cglub2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpOwoJdmFyIGhlYWRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKCWlmIChoZWFkcy5sZW5ndGggPiAwKSB7CgkJaGVhZHNbMF0uYXBwZW5kQ2hpbGQobm9kZSk7Cgl9IGVsc2UgewoJCS8vIG5vIGhlYWQgeWV0LCBzdGljayBpdCB3aGVyZWV2ZXIKCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSk7Cgl9Cn0KfSkoKTsK"},{"name":"Nitro Type - Admin Panel","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.nitrotype.com/race","*://*.nitrotype.com/race/*","*://*.nitrotype.com/garage/customizer","*://*.nitrotype.com/garage/customizer/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1689576826795,"data":{}},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/470301-nitro-type-admin-panel/code/Nitro%20Type%20-%20Admin%20Panel.user.js","uuid":"89a5b726-cf6b-4d1a-9d26-cdb051f7197b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBOaXRybyBUeXBlIC0gQWRtaW4gUGFuZWwKLy8gQHZlcnNpb24gICAgICAwLjEuMAovLyBAZGVzY3JpcHRpb24gIEFsd2F5cyBkaXNwbGF5cyB0aGUgc2VsZWN0ZWQgY2FyLCBodWUgYW5kIHRyYWlsIG9uIHRoZSByYWNlIHRyYWNrLgovLyBAYXV0aG9yICAgICAgIFRvb25pZHkKLy8gQG1hdGNoICAgICAgICAqOi8vKi5uaXRyb3R5cGUuY29tL3JhY2UKLy8gQG1hdGNoICAgICAgICAqOi8vKi5uaXRyb3R5cGUuY29tL3JhY2UvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLm5pdHJvdHlwZS5jb20vZ2FyYWdlL2N1c3RvbWl6ZXIKLy8gQG1hdGNoICAgICAgICAqOi8vKi5uaXRyb3R5cGUuY29tL2dhcmFnZS9jdXN0b21pemVyLyoKLy8gQGljb24gICAgICAgICBodHRwczovL2kuaWJiLmNvL1lSczA2cGMvdG9vbmlkeS11c2Vyc2NyaXB0LnBuZwovLyBAZ3JhbnQgICAgICAgIEdNX2dldFJlc291cmNlVVJMCi8vIEByZXNvdXJjZSAgICAgaWNvbl90YWIgaHR0cHM6Ly9pLmliYi5jby8yOFRzM1hkL2tleS1pY29uLnBuZyNzaGE1MTI9M2I4NzIzZmIwYTZmMjIwYzlmYTAzZWEzOGQ5YTYwMGRmMmVmZTlkYzM4MjE3YjBiZTRhNzExMzJkMTI0NTdlZGQ2MzQ0YzdjMTIzNzBlNWE0NTFlYTYxOTlmYjM5YTA2ZGFiYzk0YzdjOGM5NzgyYzFjNDU4NGI2ZTVkMDRhNTMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDQzNzE4LW5pdHJvLXR5cGUtdXNlcnNjcmlwdC11dGlscy9jb2RlL05pdHJvJTIwVHlwZSUyMFVzZXJzY3JpcHQlMjBVdGlscy5qcz92ZXJzaW9uPTEwNDIzNjAKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9kZXhpZS8zLjIuMi9kZXhpZS5taW4uanMjc2hhNTEyLS9BYTh2R1dJaDBFbk9USVZOL1pXVFMzVXF5SkpEaFdZdElQUy9JcXRhYVNHMFZBNmhDNkNTdnRXZGgyK1Q3MnE3NCsybDFSRmd1K2lnOTFMR0xYNTdBPT0KLy8gQGxpY2Vuc2UgICAgICBNSVQKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3VzZXJzLzg1ODQyNgovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qIGdsb2JhbCBOVEdMT0JBTFMgZmluZFJlYWN0IGNyZWF0ZUxvZ2dlciBEZXhpZSAqLwoKY29uc3QgbG9nZ2luZyA9IGNyZWF0ZUxvZ2dlcigiTml0cm8gVHlwZSBBZG1pbiBQYW5lbCIpCgovLyBDb25maWcgc3RvcmFnZQpjb25zdCBkYiA9IG5ldyBEZXhpZSgiTlRBZG1pblBhbmVsIikKZGIudmVyc2lvbigxKS5zdG9yZXMoewogICAgc2F2ZWRDYXI6ICJ1c2VySUQiLAp9KQpkYi5vcGVuKCkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgIGxvZ2dpbmcuZXJyb3IoIkluaXQiKSgiRmFpbGVkIHRvIG9wZW4gdXAgdGhlIGNvbmZpZyBkYXRhYmFzZSIsIGUpCn0pCgpsZXQgY3VycmVudFVzZXIgPSBudWxsCnRyeSB7CiAgICBjdXJyZW50VXNlciA9IEpTT04ucGFyc2UoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGVyc2lzdDpudCIpKS51c2VyKQogICAgaWYgKCFjdXJyZW50VXNlci5sb2dnZWRJbikgewogICAgICAgIGxvZ2dpbmcuZXJyb3IoIkluaXQiKSgiQ3VzdG9tIENhciBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgbG9nZ2VkIGluIHVzZXJzLiIpCiAgICAgICAgcmV0dXJuCiAgICB9Cn0gY2F0Y2ggKGVycikgewogICAgbG9nZ2luZy5lcnJvcigiSW5pdCIpKCJGYWlsZWQgdG8gaWRlbnRpZnkgY3VycmVudCBsb2dnZWQgaW4gdXNlciIpCiAgICByZXR1cm4KfQoKZGIuc2F2ZWRDYXIuZ2V0KGN1cnJlbnRVc2VyLnVzZXJJRCkudGhlbihtYWluKQoKLy8vLy8vLy8vLy8vCi8vICBNYWluICAvLwovLy8vLy8vLy8vLy8KCmZ1bmN0aW9uIG1haW4oY29uZmlnKSB7CiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gIEN1c3RvbWl6ZXIgUGFnZSAgLy8KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gIi9nYXJhZ2UvY3VzdG9taXplciIgfHwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoIi9nYXJhZ2UvY3VzdG9taXplci8iKSkgewogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNyb290IG1haW4uc3RydWN0dXJlLWNvbnRlbnQgZGl2LmN1c3RvbWl6ZXIiKSwKICAgICAgICAgICAgcmVhY3RPYmogPSBjb250YWluZXIgPyBmaW5kUmVhY3QoY29udGFpbmVyKSA6IG51bGwKICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhcmVhY3RPYmopIHsKICAgICAgICAgICAgbG9nZ2luZy5lcnJvcigiSW5pdCIpKCJVbmFibGUgdG8gZmluZCBjdXN0b21pemVyIGNvbnRhaW5lciIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgY29uc3QgUkFSSVRZX1ZBTFVFUyA9IHsKICAgICAgICAgICAgY29tbW9uOiAxLAogICAgICAgICAgICB1bmNvbW1vbjogMiwKICAgICAgICAgICAgcmFyZTogMywKICAgICAgICAgICAgZXBpYzogNCwKICAgICAgICAgICAgbGVnZW5kYXJ5OiA1LAogICAgICAgIH0KCiAgICAgICAgY29uc3QgdGFiQ29udGFpbmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS10YWJzLm5hdi1saXN0IiksCiAgICAgICAgICAgIHRpdGxlSGVhZGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tYWJvdXQtLXRpdGxlIiksCiAgICAgICAgICAgIHByZXZpZXdlciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tcHJldmlld2VyIiksCiAgICAgICAgICAgIHByZXZpZXdlckNhbnZhcyA9IHByZXZpZXdlci5xdWVyeVNlbGVjdG9yKCJjYW52YXMiKQogICAgICAgIGlmICghdGFiQ29udGFpbmVyIHx8ICF0aXRsZUhlYWRpbmcpIHsKICAgICAgICAgICAgbG9nZ2luZy5lcnJvcigiSW5pdCIpKCJVbmFibGUgdG8gbW9kaWZ5IHRhYiBuYXZpZ2F0aW9uIikKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICAvKiBTdHlsZXMgKi8KICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIikKICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZCgKICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYAouc2VjdGlvbi1udC1hZG1pbi1wYW5lbCAuY3VzdG9taXplci0tcHJldmlld2VyIHsKICAgIHJpZ2h0OiA3MTRweDsKICAgIGJvdHRvbTogMjMwcHg7Cn0KLnNlY3Rpb24tbnQtYWRtaW4tcGFuZWwubnQtYWRtaW4tcGFuZWwtdW5zZXQgLmN1c3RvbWl6ZXItLXByZXZpZXdlciB7CiAgICByaWdodDogNTgwcHg7CiAgICBib3R0b206IDIzMHB4Owp9Ci5udC1hZG1pbi1wYW5lbC1sYWJlbC5jdXN0b21pemVyLS1wcmV2aWV3IHsKICAgIGxlZnQ6IDEwcHg7CiAgICByaWdodDogNzE1cHg7CiAgICB0b3A6IDI4NXB4OwogICAgYm90dG9tOiAyMzBweDsKfQoubnQtYWRtaW4tcGFuZWwtbGFiZWwuY3VzdG9taXplci0tcHJldmlldyAuY3VzdG9taXplci0tdmVoaWNsZS1zZWxlY3Rpb24tLW5hbWUgewogICAgZm9udC1zaXplOiAxNnB4Owp9Ci5udC1hZG1pbi1wYW5lbC1sYWJlbC5jdXN0b21pemVyLS1wcmV2aWV3IC5jdXN0b21pemVyLS12ZWhpY2xlLXNlbGVjdGlvbi0tcmFyaXR5IHsKICAgIHBhZGRpbmctYm90dG9tOiAwOwp9Ci5udC1hZG1pbi1wYW5lbC1uby1jYXJzIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogOTBweDsKICAgIGxlZnQ6IDEwcHg7CiAgICByaWdodDogNTgwcHg7CiAgICBib3R0b206IDIzMHB4OwogICAgZGlzcGxheTogbm9uZTsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMDIwMjA7CiAgICBmb250LXNpemU6IDE4cHg7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgdGV4dC1zaGFkb3c6IDAgMnB4IDNweCByZ2IoMCAwIDAgLyA1MCUpOwogICAgY29sb3I6ICNmZmY7CiAgICB6LWluZGV4OiAyOwp9Ci5udC1hZG1pbi1wYW5lbC11bnNldCAubnQtYWRtaW4tcGFuZWwtbm8tY2FycyB7CiAgICBkaXNwbGF5OiBmbGV4Owp9Ci5udC1hZG1pbi1wYW5lbC1zY3JvbGxhYmxlIHsKICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgIHNjcm9sbGJhci1mYWNlLWNvbG9yOiAjMUM5OUY0OwogICAgc2Nyb2xsYmFyLXRyYWNrLWNvbG9yOiAjMjMyNjMzOwp9Ci5udC1hZG1pbi1wYW5lbC1zY3JvbGxhYmxlOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICB3aWR0aDogMTBweDsKICAgIGhlaWdodDogMTBweDsKfQoubnQtYWRtaW4tcGFuZWwtc2Nyb2xsYWJsZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzFDOTlGNDsKfQoubnQtYWRtaW4tcGFuZWwtc2Nyb2xsYWJsZTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMjYzMzsKfQouc2VjdGlvbi1udC1hZG1pbi1wYW5lbCAuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1jb250cm9scyB7CiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAyMTBweDsKfQouY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci5udC1hZG1pbi1wYW5lbC1jYXItc2VsZWN0b3IgewogICAgd2lkdGg6IDU2MHB4Owp9Ci5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLm50LWFkbWluLXBhbmVsLWNhci1zZWxlY3RvciAuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtcyB7CiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCAxZnIpOwp9Ci5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLm50LWFkbWluLXBhbmVsLXRyYWlsLXNlbGVjdG9yIHsKICAgIHRvcDogMzgwcHg7CiAgICBsZWZ0OiAxMHB4Owp9Ci5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLm50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yIHsKICAgIHRvcDogOTBweDsKICAgIGJvdHRvbTogMjMwcHg7CiAgICBsZWZ0OiAzMjBweDsKICAgIHdpZHRoOiAxMjVweDsKfQouY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci5udC1hZG1pbi1wYW5lbC1wYWludC1zZWxlY3RvciAubnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3ItaGVhZGluZyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGNvbHVtbi1nYXA6IDEwcHg7CiAgICBoZWlnaHQ6IDM1cHg7CiAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA0cHg7CiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzI4MmIzYTsKICAgIGNvbG9yOiAjZWVlOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LXNpemU6IDEzcHg7Cn0KLmN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3IubnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3IgLm50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yLWhlYWRpbmcgLm50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yLWhlYWRpbmctaWNvbiwKLmN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3IubnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3IgLm50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yLWhlYWRpbmcgLm50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yLWhlYWRpbmctaWNvbiBzdmd7CiAgICB3aWR0aDogMjBweDsKICAgIGhlaWdodDogMjBweDsKfQouY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci5udC1hZG1pbi1wYW5lbC1wYWludC1zZWxlY3RvciAubnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3ItaGVhZGluZyAubnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3ItaGVhZGluZy1pY29uIHN2ZyB7CiAgICBmaWxsOiAjY2NjOwp9Ci5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLm50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yIC5udC1hZG1pbi1wYW5lbC1wYWludC1zZWxlY3Rvci1oZWFkaW5nIC5udC1hZG1pbi1wYW5lbC1wYWludC1zZWxlY3Rvci1oZWFkaW5nLWxhYmVsIHsKICAgIGZsZXgtZ3JvdzogMTsKICAgIGNvbG9yOiAjY2NjOwp9Ci5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLm50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yIC5udC1hZG1pbi1wYW5lbC1zY3JvbGxhYmxlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDA7CiAgICB0b3A6IDQwcHg7CiAgICByaWdodDogMDsKICAgIGJvdHRvbTogMDsKfQouY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci5udC1hZG1pbi1wYW5lbC1wYWludC1zZWxlY3RvciAuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtcyB7CiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICAgIGdyaWQtZ2FwOiA1cHg7CiAgICBtYXJnaW46IDAgNXB4IDVweDsKfQoubnQtYWRtaW4tcGFuZWwtdW5zZXQgLmN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3IubnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3IgewogICAgZGlzcGxheTogbm9uZTsKfQoubnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3IgLnBhaW50LXNlbGVjdC1wcmV2aWV3IHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IDUwJSA1MCU7CiAgICBiYWNrZ3JvdW5kLXNpemU6IGF1dG8gNDBweDsKfWApCiAgICAgICAgKQogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpCgogICAgICAgIGNvbnN0IHNhdmVDb25maWcgPSAoY2FySUQsIGh1ZSwgdHJhaWxJRCkgPT4gewogICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgICB1c2VySUQ6IGN1cnJlbnRVc2VyLnVzZXJJRCwKICAgICAgICAgICAgICAgIGNhcjogY2FySUQgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGh1ZTogaHVlIHx8IDAsCiAgICAgICAgICAgICAgICB0cmFpbDogdHJhaWxJRCB8fCBudWxsLAogICAgICAgICAgICB9CiAgICAgICAgICAgIGRiLnNhdmVkQ2FyLnB1dChjb25maWcpCiAgICAgICAgfQoKICAgICAgICBjb25zdCBzZXRDYXIgPSAoY2FySUQsIGh1ZSwgdHJhaWxJRCkgPT4gewogICAgICAgICAgICBjb25zdCBjYXJEYXRhID0gcmVhY3RPYmoucHJvcHMuZ2V0Q2FyTWV0YURhdGEoY2FySUQpLAogICAgICAgICAgICAgICAgaXNBbmltYXRlZCA9IGNhckRhdGEuaXNBbmltYXRlZCwKICAgICAgICAgICAgICAgIHRyYWlsRGF0YSA9IHRyYWlsSUQgPyBOVEdMT0JBTFMuTE9PVC5maW5kKChsKSA9PiBsLmxvb3RJRCA9PT0gdHJhaWxJRCAmJiBsLnR5cGUgPT09ICJ0cmFpbCIpPy5hc3NldEtleSA6IHVuZGVmaW5lZAogICAgICAgICAgICByZWFjdE9iai5wcmV2aWV3ZXIuc2V0Q2FyKHsKICAgICAgICAgICAgICAgIHR5cGU6IGlzQW5pbWF0ZWQgPyBjYXJEYXRhLmFzc2V0S2V5IDogY2FySUQsCiAgICAgICAgICAgICAgICBodWUsCiAgICAgICAgICAgICAgICBpc0FuaW1hdGVkLAogICAgICAgICAgICAgICAgdHJhaWw6IHRyYWlsRGF0YSwKICAgICAgICAgICAgICAgIHR3ZWFrczogY2FyRGF0YS50d2Vha3MsCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvLyBUT0RPOiBTb3VuZCBOL0EsIHdpbGwgaGF2ZSB0byBmaWd1cmUgb3V0IGhvdyB0byB0cmlnZ2VyIG1hbnVhbGx5CiAgICAgICAgfQoKICAgICAgICAvKiBDYXIgUGFpbnQgV29ya2VyICovCiAgICAgICAgY29uc3QgQ2FyUGFpbnRlciA9ICgocmVhY3RPYmopID0+IHsKICAgICAgICAgICAgLy8gU291cmNlOiBodHRwczovL3d3dy5uaXRyb3R5cGUuY29tL2Rpc3Qvc2l0ZS9qcy9jdS5qcwogICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLwogICAgICAgICAgICBmdW5jdGlvbiBjYXJIdWVTaGlmdFdvcmtlclNjcmlwdCgpIHsKICAgICAgICAgICAgICAgIHRoaXMub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ID0gZS5kYXRhLCByID0gdC5waXhlbHMsIG4gPSB0Lmh1ZSwgYSA9IHQuaWQsIG8gPSByLmxlbmd0aCwgaSA9IDA7IGkgPCBvOyBpICs9IDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IHJbaV0gLyAyNTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gcltpICsgMV0gLyAyNTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmID0gcltpICsgMl0gLyAyNTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gTWF0aC5taW4oYywgdSwgZiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gTWF0aC5tYXgoYywgdSwgZiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0gcCAtIGQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoID0gMAogICAgICAgICAgICAgICAgICAgICAgICA7KGggPSAwID09PSBtID8gMCA6IHAgPT09IGMgPyAoKHUgLSBmKSAvIG0pICUgNiA6IHAgPT09IHUgPyAoZiAtIGMpIC8gbSArIDIgOiAoYyAtIHUpIC8gbSArIDQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGggPSBNYXRoLnJvdW5kKDYwICogaCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGggKz0gbikgPCAwICYmIChoICs9IDM2MCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaCAlPSAzNjApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKHMgPSAocCArIGQpIC8gMiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobCA9IDAgPT09IG0gPyAwIDogbSAvICgxIC0gTWF0aC5hYnMoMiAqIHMgLSAxKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gKDEgLSBNYXRoLmFicygyICogcyAtIDEpKSAqIGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gdiAqICgxIC0gTWF0aC5hYnMoKChoIC8gNjApICUgMikgLSAxKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0gcyAtIHYgLyAyCiAgICAgICAgICAgICAgICAgICAgICAgIDAgPD0gaCAmJiBoIDwgNjAKICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKChjID0gdiksICh1ID0gYiksIChmID0gMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDYwIDw9IGggJiYgaCA8IDEyMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoKGMgPSBiKSwgKHUgPSB2KSwgKGYgPSAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMTIwIDw9IGggJiYgaCA8IDE4MAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoKGMgPSAwKSwgKHUgPSB2KSwgKGYgPSBiKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMTgwIDw9IGggJiYgaCA8IDI0MAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoKGMgPSAwKSwgKHUgPSBiKSwgKGYgPSB2KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMjQwIDw9IGggJiYgaCA8IDMwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoKGMgPSBiKSwgKHUgPSAwKSwgKGYgPSB2KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMzAwIDw9IGggJiYgaCA8IDM2MCAmJiAoKGMgPSB2KSwgKHUgPSAwKSwgKGYgPSBiKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocltpXSA9IE1hdGgucm91bmQoMjU1ICogKGMgKyBnKSkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJbaSArIDFdID0gTWF0aC5yb3VuZCgyNTUgKiAodSArIGcpKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocltpICsgMl0gPSBNYXRoLnJvdW5kKDI1NSAqIChmICsgZykpKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IHIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFtyLmJ1ZmZlcl0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqLwoKICAgICAgICAgICAgbGV0IGNhclBhaW50UmVxdWVzdEluZGV4ID0gMCwKICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IHt9LAogICAgICAgICAgICAgICAgcGVuZGluZyA9IHt9LAogICAgICAgICAgICAgICAgb25DYXJQYWludENyZWF0ZWQgPSBudWxsCgogICAgICAgICAgICBjb25zdCBjYXJIdWVTaGlmdFdvcmtlciA9ICgoKSA9PiB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBjYXJIdWVTaGlmdFdvcmtlclNjcmlwdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9eW157XSp7XHMqLywgIiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXHMqfVtefV0qJC8sICIiKSwKICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0QmxvYkRhdGEgPSBuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogInRleHQvamF2YXNjcmlwdCIgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdEJsb2JVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHNjcmlwdEJsb2JEYXRhKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgV29ya2VyKHNjcmlwdEJsb2JVUkwpCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy5lcnJvcigiSW5pdCIpKCJGYWlsZWQgdG8gc2V0dXAgd29ya2VyIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkoY2FySHVlU2hpZnRXb3JrZXJTY3JpcHQpCgogICAgICAgICAgICBjYXJIdWVTaGlmdFdvcmtlci5vbm1lc3NhZ2UgPSAoZSkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgdXBkYXRlZCB9ID0gZS5kYXRhLAogICAgICAgICAgICAgICAgICAgIHsgY2FudmFzLCBjdHgsIHdpZHRoLCBoZWlnaHQgfSA9IHBlbmRpbmdbaWRdLAogICAgICAgICAgICAgICAgICAgIG5ld0ltZ0RhdGEgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpCgogICAgICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdbaWRdCiAgICAgICAgICAgICAgICBuZXdJbWdEYXRhLmRhdGEuc2V0KHVwZGF0ZWQpCiAgICAgICAgICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKG5ld0ltZ0RhdGEsIDAsIDApCgogICAgICAgICAgICAgICAgY29tcGxldGVkW2lkXSA9IGNhbnZhcy50b0RhdGFVUkwoKQoKICAgICAgICAgICAgICAgIGlmIChvbkNhclBhaW50Q3JlYXRlZCkgewogICAgICAgICAgICAgICAgICAgIG9uQ2FyUGFpbnRDcmVhdGVkKGlkLCBjb21wbGV0ZWRbaWRdKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBwZXJmb3JtSHVlU2hpZnQgPSAoY2FySW1nLCBodWUpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLAogICAgICAgICAgICAgICAgICAgIGN0eCA9IHJlbmRlckNhbnZhcy5nZXRDb250ZXh0KCIyZCIpLAogICAgICAgICAgICAgICAgICAgIHsgd2lkdGgsIGhlaWdodCB9ID0gY2FySW1nCgogICAgICAgICAgICAgICAgcmVuZGVyQ2FudmFzLndpZHRoID0gd2lkdGgKICAgICAgICAgICAgICAgIHJlbmRlckNhbnZhcy5oZWlnaHQgPSBoZWlnaHQKICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoY2FySW1nLCAwLCAwKQoKICAgICAgICAgICAgICAgIGNvbnN0IGltZ0RhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpCgogICAgICAgICAgICAgICAgcGVuZGluZ1todWVdID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBodWUsCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LAogICAgICAgICAgICAgICAgICAgIGNhbnZhczogcmVuZGVyQ2FudmFzLAogICAgICAgICAgICAgICAgICAgIGN0eCwKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXJIdWVTaGlmdFdvcmtlci5wb3N0TWVzc2FnZSgKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBodWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGh1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzOiBpbWdEYXRhLmRhdGEsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBbaW1nRGF0YS5kYXRhLmJ1ZmZlcl0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGdlbmVyYXRlU2FtcGxlQ2FyUGFpbnRzOiAoY2FySUQpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJJbWdTcmMgPSByZWFjdE9iai5wcm9wcy5nZXRDYXJVcmwoY2FySUQsIGZhbHNlLCAwKQogICAgICAgICAgICAgICAgICAgIGlmICghY2FySW1nU3JjKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FySW1nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpCiAgICAgICAgICAgICAgICAgICAgY2FySW1nTm9kZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaHVlID0gMDsgaHVlIDw9IDM0MDsgaHVlICs9IDEwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtSHVlU2hpZnQoY2FySW1nTm9kZSwgaHVlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICBjYXJJbWdOb2RlLnNyYyA9IGNhckltZ1NyYwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNldENhclBhaW50Q3JlYXRlZEhhbmRsZXI6IChmbikgPT4gewogICAgICAgICAgICAgICAgICAgIG9uQ2FyUGFpbnRDcmVhdGVkID0gZm4KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0KICAgICAgICB9KShyZWFjdE9iaikKCiAgICAgICAgLyogU29ydCBIYW5kbGVycyAqLwogICAgICAgIGNvbnN0IHNvcnRBbHBoYUhhbmRsZXIgPSAocmV2ZXJzZSkgPT4gewogICAgICAgICAgICByZXR1cm4gKGEsIGIpID0+IChyZXZlcnNlID8gYi5kYXRhLm5hbWUubG9jYWxlQ29tcGFyZShhLmRhdGEubmFtZSkgOiBhLmRhdGEubmFtZS5sb2NhbGVDb21wYXJlKGIuZGF0YS5uYW1lKSkKICAgICAgICB9CiAgICAgICAgY29uc3Qgc29ydFJhcml0eUhhbmRsZXIgPSAocmV2ZXJzZSkgPT4gewogICAgICAgICAgICByZXR1cm4gKGEsIGIpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJhcml0eUEgPSBSQVJJVFlfVkFMVUVTW2EuZGF0YS5vcHRpb25zPy5yYXJpdHldIHx8IDAsCiAgICAgICAgICAgICAgICAgICAgcmFyaXR5QiA9IFJBUklUWV9WQUxVRVNbYi5kYXRhLm9wdGlvbnM/LnJhcml0eV0gfHwgMAogICAgICAgICAgICAgICAgaWYgKHJhcml0eUEgPT09IHJhcml0eUIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHJldmVyc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFyaXR5QSA8IHJhcml0eUIgPyAtMSA6IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByYXJpdHlBID4gcmFyaXR5QiA/IC0xIDogMQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNvbnN0IHNvcnRJREhhbmRsZXIgPSAoaWRLZXksIHJldmVyc2UpID0+IHsKICAgICAgICAgICAgcmV0dXJuIChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoYS5kYXRhW2lkS2V5XSA9PT0gYi5kYXRhW2lkS2V5XSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmV2ZXJzZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmRhdGFbaWRLZXldIDwgYi5kYXRhW2lkS2V5XSA/IDEgOiAtMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGEuZGF0YVtpZEtleV0gPiBiLmRhdGFbaWRLZXldID8gMSA6IC0xCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8qIFNlbGVjdGVkIENhciBMYWJlbCAqLwogICAgICAgIGNvbnN0IHNlbGVjdGVkQ2FyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKQogICAgICAgIHNlbGVjdGVkQ2FyTGFiZWwuY2xhc3NOYW1lID0gIm50LWFkbWluLXBhbmVsLWxhYmVsIGN1c3RvbWl6ZXItLXByZXZpZXcgdmVoaWNsZS1wcmV2aWV3IgogICAgICAgIHNlbGVjdGVkQ2FyTGFiZWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS12ZWhpY2xlLXNlbGVjdGlvbiI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS12ZWhpY2xlLXNlbGVjdGlvbi0tbmFtZSI+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS12ZWhpY2xlLXNlbGVjdGlvbi0tcmFyaXR5Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyYXJpdHktYmFkZ2UgcmFyaXR5LWJhZGdlLS1zbWFsbCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhcml0eS1iYWRnZS0tZXh0cmEiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyYXJpdHktYmFkZ2UtLWNvbnRlbnQiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS12ZWhpY2xlLXNlbGVjdGlvbi0tZXF1aXBwZWQiPkN1cnJlbnRseSBFcXVpcHBlZDwvZGl2PgogICAgICAgICAgICA8L2Rpdj5gCgogICAgICAgIGNvbnN0IGNhckxhYmVsID0gc2VsZWN0ZWRDYXJMYWJlbC5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tdmVoaWNsZS1zZWxlY3Rpb24tLW5hbWUiKSwKICAgICAgICAgICAgcmFyaXR5QmFkZ2UgPSBzZWxlY3RlZENhckxhYmVsLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS12ZWhpY2xlLXNlbGVjdGlvbi0tcmFyaXR5IC5yYXJpdHktYmFkZ2UiKSwKICAgICAgICAgICAgcmFyaXR5TGFiZWwgPSBzZWxlY3RlZENhckxhYmVsLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS12ZWhpY2xlLXNlbGVjdGlvbi0tcmFyaXR5IC5yYXJpdHktYmFkZ2UtLWNvbnRlbnQiKQoKICAgICAgICBjb25zdCB1cGRhdGVDYXJMYWJlbCA9IChjKSA9PiB7CiAgICAgICAgICAgIGNhckxhYmVsLnRleHRDb250ZW50ID0gYy5uYW1lCiAgICAgICAgICAgIGlmIChjLm9wdGlvbnM/LnJhcml0eSkgewogICAgICAgICAgICAgICAgcmFyaXR5QmFkZ2UuY2xhc3NOYW1lID0gYHJhcml0eS1iYWRnZSByYXJpdHktYmFkZ2UtLXNtYWxsICByYXJpdHktYmFkZ2UtLSR7Yy5vcHRpb25zLnJhcml0eX1gCiAgICAgICAgICAgICAgICByYXJpdHlMYWJlbC50ZXh0Q29udGVudCA9IGAke2Mub3B0aW9ucy5yYXJpdHlbMF0udG9VcHBlckNhc2UoKSArIGMub3B0aW9ucy5yYXJpdHkuc3Vic3RyKDEpfSBDYXJgCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8qIFNlbGVjdG9yIFVJICovCiAgICAgICAgY29uc3Qgc2VsZWN0SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikKICAgICAgICBzZWxlY3RJdGVtVGVtcGxhdGUuY2xhc3NOYW1lID0gImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbSIKICAgICAgICBzZWxlY3RJdGVtVGVtcGxhdGUuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWl0ZW0tLWxhYmVscyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWl0ZW0tLWVxdWlwcGVkIj5FcXVpcHBlZDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtLS1jb250cm9scyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWl0ZW0tLWZhdm9yaXRlIj5GYXZvcml0ZTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtLS1oaWRlIj5IaWRlPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWl0ZW0tLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmFyaXR5LWZyYW1lIHJhcml0eS1mcmFtZS0tc21hbGwiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhcml0eS1mcmFtZS0tZXh0cmEiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhcml0eS1mcmFtZS0tY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbS0tY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtLS12ZWhpY2xlIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS10b29sdGlwIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj5gCgogICAgICAgIC8qIEN1c3RvbSBDYXIgU2VsZWN0b3IgVUkgKi8KICAgICAgICBjb25zdCBjdXN0b21DYXJVSSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpCiAgICAgICAgY3VzdG9tQ2FyVUkuY2xhc3NOYW1lID0gIm50LWFkbWluLXBhbmVsLWNhci1zZWxlY3RvciBjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yIHZlaGljbGUtc2VsZWN0b3Igc2hvdy1zZWFyY2ggc2Nyb2xsYWJsZSIKICAgICAgICBjdXN0b21DYXJVSS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItY29udHJvbHMiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1jb250cm9scy0tZmlsdGVyIj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsdGVyIiBjbGFzcz0iaW5wdXQtZmllbGQgY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1jb250cm9scy0tZmlsdGVyLWlucHV0IiBwbGFjZWhvbGRlcj0iU2VhcmNoIiB2YWx1ZT0iIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWNvbnRyb2xzLS1maWx0ZXItY2xlYXIiPsOXPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItY29udHJvbHMtLXNvcnQiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItY29udHJvbHMtLXNvcnQtbGFiZWwiPlNvcnQgQnk8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJpbnB1dC1zZWxlY3QgY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1jb250cm9scy0tc29ydC1vcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0icmFyaXR5X2NvbW1vbnMiPlJhcml0eTogTGVhc3QgUmFyZXN0PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InJhcml0eV9yYXJlc3RzIj5SYXJpdHk6IE1vc3QgUmFyZXN0PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im5hbWVfYS16IiBzZWxlY3RlZD5OYW1lOiBBIC0gWjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJuYW1lX3otYSI+TmFtZTogWiAtIEE8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iaWRfYXNjIj5JRDogQXNjZW5kaW5nPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImlkX2Rlc2MiPklEOiBEZXNjZW5kaW5nPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItY29udGFpbmVyIG50LWFkbWluLXBhbmVsLXNjcm9sbGFibGUiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtcyI+PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PmAKCiAgICAgICAgY29uc3QgY3VzdG9tQ2FyU2VsZWN0b3JDb250YWluZXIgPSBjdXN0b21DYXJVSS5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtcyIpCgogICAgICAgIGNvbnN0IGN1c3RvbUNhck5vUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpCiAgICAgICAgY3VzdG9tQ2FyTm9QcmV2aWV3LmNsYXNzTmFtZSA9ICJudC1hZG1pbi1wYW5lbC1uby1jYXJzIgogICAgICAgIGN1c3RvbUNhck5vUHJldmlldy50ZXh0Q29udGVudCA9ICJDaG9vc2UgeW91ciBDdXN0b20gQ2FyIgogICAgICAgIGlmICghY29uZmlnPy5jYXIpIHsKICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm50LWFkbWluLXBhbmVsLXVuc2V0IikKICAgICAgICB9CgogICAgICAgIGNvbnN0IG5vQ2FySXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpCiAgICAgICAgbm9DYXJJdGVtLmNsYXNzTmFtZSA9ICIgY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtIgogICAgICAgIG5vQ2FySXRlbS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbS0tbGFiZWxzIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbS0tZXF1aXBwZWQiPkVxdWlwcGVkPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWl0ZW0tLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtLS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbS0tcmVtb3ZlIj5ObyBDYXI8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0tdG9vbHRpcCI+UmVtb3ZlIENhcjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PmAKICAgICAgICBub0Nhckl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgKCkgPT4gewogICAgICAgICAgICBpZiAoIWNvbmZpZz8uY2FyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgibnQtYWRtaW4tcGFuZWwtdW5zZXQiKQogICAgICAgICAgICBzYXZlQ29uZmlnKG51bGwsIGNvbmZpZz8uaHVlLCBjb25maWc/LnRyYWlsKQogICAgICAgICAgICBjdXN0b21DYXJTZWxlY3RvckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIuaXMtZXF1aXBwZWQiKS5mb3JFYWNoKChub2RlKSA9PiBub2RlLmNsYXNzTGlzdC5yZW1vdmUoImlzLWVxdWlwcGVkIikpCiAgICAgICAgICAgIG5vQ2FySXRlbS5jbGFzc0xpc3QuYWRkKCJpcy1lcXVpcHBlZCIpCiAgICAgICAgICAgIHNlbGVjdGVkQ2FyTGFiZWwucmVtb3ZlKCkKICAgICAgICB9KQogICAgICAgIGlmICghY29uZmlnPy5jYXIpIHsKICAgICAgICAgICAgbm9DYXJJdGVtLmNsYXNzTGlzdC5hZGQoImlzLWVxdWlwcGVkIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBub0Nhckl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgiaXMtZXF1aXBwZWQiKQogICAgICAgIH0KCiAgICAgICAgY29uc3QgY2FyU2VsZWN0SXRlbXMgPSBOVEdMT0JBTFMuQ0FSUy5tYXAoKGMpID0+IHsKICAgICAgICAgICAgY29uc3QgaXRlbSA9IHNlbGVjdEl0ZW1UZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSkKICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCIucmFyaXR5LWZyYW1lIikuY2xhc3NMaXN0LmFkZChgcmFyaXR5LWZyYW1lLS0ke2Mub3B0aW9ucz8ucmFyaXR5fWApCiAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcigiLmN1c3RvbWl6ZXItLXRvb2x0aXAiKS50ZXh0Q29udGVudCA9IGMubmFtZQogICAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWl0ZW0tLXZlaGljbGUiKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKC9jYXJzLyR7Yy5vcHRpb25zPy5zbWFsbFNyY30pYAogICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsICgpID0+IHsKICAgICAgICAgICAgICAgIGlmIChjLmlkID09PSBjb25maWc/LmNhcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm50LWFkbWluLXBhbmVsLXVuc2V0IikKICAgICAgICAgICAgICAgIHNldENhcihjLmlkLCBjb25maWc/Lmh1ZSwgY29uZmlnPy50cmFpbCkKICAgICAgICAgICAgICAgIHNhdmVDb25maWcoYy5pZCwgY29uZmlnPy5odWUsIGNvbmZpZz8udHJhaWwpCiAgICAgICAgICAgICAgICBDYXJQYWludGVyLmdlbmVyYXRlU2FtcGxlQ2FyUGFpbnRzKGNvbmZpZy5jYXIpCiAgICAgICAgICAgICAgICBjdXN0b21DYXJTZWxlY3RvckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIuaXMtZXF1aXBwZWQiKS5mb3JFYWNoKChub2RlKSA9PiBub2RlLmNsYXNzTGlzdC5yZW1vdmUoImlzLWVxdWlwcGVkIikpCiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoImlzLWVxdWlwcGVkIikKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tcHJldmlldyIpLmFmdGVyKHNlbGVjdGVkQ2FyTGFiZWwpCiAgICAgICAgICAgICAgICB1cGRhdGVDYXJMYWJlbChjKQogICAgICAgICAgICB9KQogICAgICAgICAgICBpZiAoYy5pZCA9PT0gY29uZmlnPy5jYXIpIHsKICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgiaXMtZXF1aXBwZWQiKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGMsIG5vZGU6IGl0ZW0gfQogICAgICAgIH0pCgogICAgICAgIGNvbnN0IHBvcHVsYXRlTGlzdCA9IChzZWFyY2gsIHNvcnRCeSkgPT4gewogICAgICAgICAgICBpZiAoc29ydEJ5ID09PSAibmFtZV9hLXoiKSB7CiAgICAgICAgICAgICAgICBjYXJTZWxlY3RJdGVtcy5zb3J0KHNvcnRBbHBoYUhhbmRsZXIoZmFsc2UpKQogICAgICAgICAgICB9IGVsc2UgaWYgKHNvcnRCeSA9PT0gIm5hbWVfei1hIikgewogICAgICAgICAgICAgICAgY2FyU2VsZWN0SXRlbXMuc29ydChzb3J0QWxwaGFIYW5kbGVyKHRydWUpKQogICAgICAgICAgICB9IGVsc2UgaWYgKHNvcnRCeSA9PT0gInJhcml0eV9yYXJlc3RzIikgewogICAgICAgICAgICAgICAgY2FyU2VsZWN0SXRlbXMuc29ydChzb3J0UmFyaXR5SGFuZGxlcihmYWxzZSkpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydEJ5ID09PSAicmFyaXR5X2NvbW1vbnMiKSB7CiAgICAgICAgICAgICAgICBjYXJTZWxlY3RJdGVtcy5zb3J0KHNvcnRSYXJpdHlIYW5kbGVyKHRydWUpKQogICAgICAgICAgICB9IGVsc2UgaWYgKHNvcnRCeSA9PT0gImlkX2FzYyIpIHsKICAgICAgICAgICAgICAgIGNhclNlbGVjdEl0ZW1zLnNvcnQoc29ydElESGFuZGxlcigiaWQiLCBmYWxzZSkpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydEJ5ID09PSAiaWRfZGVzYyIpIHsKICAgICAgICAgICAgICAgIGNhclNlbGVjdEl0ZW1zLnNvcnQoc29ydElESGFuZGxlcigiaWQiLCB0cnVlKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBjYXJTZWxlY3RvckZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpCiAgICAgICAgICAgIGNhclNlbGVjdG9yRnJhZ21lbnQuYXBwZW5kKG5vQ2FySXRlbSkKICAgICAgICAgICAgY2FyU2VsZWN0SXRlbXMuZm9yRWFjaCgoYykgPT4gewogICAgICAgICAgICAgICAgaWYgKHNlYXJjaCAmJiBjLmRhdGEubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoLnRvTG93ZXJDYXNlKCkpID09PSAtMSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2FyU2VsZWN0b3JGcmFnbWVudC5hcHBlbmQoYy5ub2RlKQogICAgICAgICAgICB9KQogICAgICAgICAgICB3aGlsZSAoY3VzdG9tQ2FyU2VsZWN0b3JDb250YWluZXIuZmlyc3RDaGlsZCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgY3VzdG9tQ2FyU2VsZWN0b3JDb250YWluZXIucmVtb3ZlQ2hpbGQoY3VzdG9tQ2FyU2VsZWN0b3JDb250YWluZXIuZmlyc3RDaGlsZCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjdXN0b21DYXJTZWxlY3RvckNvbnRhaW5lci5hcHBlbmQoY2FyU2VsZWN0b3JGcmFnbWVudCkKICAgICAgICB9CgogICAgICAgIGNvbnN0IGN1c3RvbUNhclNvcnRCeSA9IGN1c3RvbUNhclVJLnF1ZXJ5U2VsZWN0b3IoIi5pbnB1dC1zZWxlY3QuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1jb250cm9scy0tc29ydC1vcHRpb25zIiksCiAgICAgICAgICAgIGN1c3RvbUNhclNlYXJjaCA9IGN1c3RvbUNhclVJLnF1ZXJ5U2VsZWN0b3IoIi5pbnB1dC1maWVsZC5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWNvbnRyb2xzLS1maWx0ZXItaW5wdXQiKSwKICAgICAgICAgICAgY3VzdG9tQ2FyU2VhcmNoQ2xlYXIgPSBjdXN0b21DYXJVSS5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1jb250cm9scy0tZmlsdGVyLWNsZWFyIikKCiAgICAgICAgY3VzdG9tQ2FyU2VhcmNoLnBsYWNlaG9sZGVyID0gIlNlYXJjaCBDYXIiCgogICAgICAgIGNvbnN0IGN1c3RvbUNhckFwcGx5RmlsdGVycyA9IChlKSA9PiB7CiAgICAgICAgICAgIHBvcHVsYXRlTGlzdChjdXN0b21DYXJTZWFyY2gudmFsdWUsIGN1c3RvbUNhclNvcnRCeS52YWx1ZSkKICAgICAgICB9CgogICAgICAgIGN1c3RvbUNhclNvcnRCeS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBjdXN0b21DYXJBcHBseUZpbHRlcnMpCiAgICAgICAgY3VzdG9tQ2FyU2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgY3VzdG9tQ2FyQXBwbHlGaWx0ZXJzKQogICAgICAgIGN1c3RvbUNhclNlYXJjaENsZWFyLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgICAgICBjdXN0b21DYXJTZWFyY2gudmFsdWUgPSAiIgogICAgICAgICAgICBwb3B1bGF0ZUxpc3QoY3VzdG9tQ2FyU2VhcmNoLnZhbHVlLCBjdXN0b21DYXJTb3J0QnkudmFsdWUpCiAgICAgICAgfSkKCiAgICAgICAgLyogQ3VzdG9tIENhciBUcmFpbCBTZWxlY3RvciBVSSAqLwogICAgICAgIGNvbnN0IGN1c3RvbVRyYWlsVUkgPSBjdXN0b21DYXJVSS5jbG9uZU5vZGUodHJ1ZSkKICAgICAgICBjdXN0b21UcmFpbFVJLmNsYXNzTmFtZSA9ICJudC1hZG1pbi1wYW5lbC10cmFpbC1zZWxlY3RvciBjdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yIHZlaGljbGUtc2VsZWN0b3Igc2hvdy1zZWFyY2ggc2Nyb2xsYWJsZSIKCiAgICAgICAgY29uc3QgY3VzdG9tVHJhaWxTZWxlY3RvckNvbnRhaW5lciA9IGN1c3RvbVRyYWlsVUkucXVlcnlTZWxlY3RvcigiLmN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbXMiKQoKICAgICAgICBjb25zdCBub1RyYWlsSXRlbSA9IG5vQ2FySXRlbS5jbG9uZU5vZGUodHJ1ZSkKICAgICAgICBub1RyYWlsSXRlbS5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtLS1yZW1vdmUiKS50ZXh0Q29udGVudCA9ICJObyBUcmFpbCIKICAgICAgICBub1RyYWlsSXRlbS5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tdG9vbHRpcCIpLnRleHRDb250ZW50ID0gIlJlbW92ZSBUcmFpbCIKICAgICAgICBub1RyYWlsSXRlbS5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCAoKSA9PiB7CiAgICAgICAgICAgIGlmICghY29uZmlnPy50cmFpbCkgewogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNvbmZpZz8uY2FyKSB7CiAgICAgICAgICAgICAgICBzZXRDYXIoY29uZmlnLmNhciwgY29uZmlnPy5odWUsIG51bGwpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2F2ZUNvbmZpZyhjb25maWc/LmNhciwgY29uZmlnPy5odWUsIG51bGwpCiAgICAgICAgICAgIGN1c3RvbVRyYWlsU2VsZWN0b3JDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLmlzLWVxdWlwcGVkIikuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCJpcy1lcXVpcHBlZCIpKQogICAgICAgICAgICBub1RyYWlsSXRlbS5jbGFzc0xpc3QuYWRkKCJpcy1lcXVpcHBlZCIpCiAgICAgICAgfSkKICAgICAgICBpZiAoIWNvbmZpZz8udHJhaWwpIHsKICAgICAgICAgICAgbm9UcmFpbEl0ZW0uY2xhc3NMaXN0LmFkZCgiaXMtZXF1aXBwZWQiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5vVHJhaWxJdGVtLmNsYXNzTGlzdC5yZW1vdmUoImlzLWVxdWlwcGVkIikKICAgICAgICB9CgogICAgICAgIGNvbnN0IHRyYWlsU2VsZWN0SXRlbXMgPSBOVEdMT0JBTFMuTE9PVC5maWx0ZXIoKGwpID0+IGwudHlwZSA9PT0gInRyYWlsIikubWFwKCh0KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzZWxlY3RJdGVtVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpCiAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcigiLnJhcml0eS1mcmFtZSIpLmNsYXNzTGlzdC5hZGQoYHJhcml0eS1mcmFtZS0tJHt0Lm9wdGlvbnM/LnJhcml0eX1gKQogICAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS10b29sdGlwIikudGV4dENvbnRlbnQgPSB0Lm5hbWUKICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtLS12ZWhpY2xlIikuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3Qub3B0aW9ucz8uc3JjfSlgCiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHQubG9vdElEID09PSBjb25maWc/LnRyYWlsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoY29uZmlnPy5jYXIpIHsKICAgICAgICAgICAgICAgICAgICBzZXRDYXIoY29uZmlnLmNhciwgY29uZmlnPy5odWUsIHQubG9vdElEKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2F2ZUNvbmZpZyhjb25maWc/LmNhciwgY29uZmlnPy5odWUsIHQubG9vdElEKQogICAgICAgICAgICAgICAgY3VzdG9tVHJhaWxTZWxlY3RvckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIuaXMtZXF1aXBwZWQiKS5mb3JFYWNoKChub2RlKSA9PiBub2RlLmNsYXNzTGlzdC5yZW1vdmUoImlzLWVxdWlwcGVkIikpCiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoImlzLWVxdWlwcGVkIikKICAgICAgICAgICAgfSkKICAgICAgICAgICAgaWYgKHQubG9vdElEID09PSBjb25maWc/LnRyYWlsKSB7CiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoImlzLWVxdWlwcGVkIikKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4geyBkYXRhOiB0LCBub2RlOiBpdGVtIH0KICAgICAgICB9KQoKICAgICAgICBjb25zdCBwb3B1bGF0ZVRyYWlsTGlzdCA9IChzZWFyY2gsIHNvcnRCeSkgPT4gewogICAgICAgICAgICBpZiAoc29ydEJ5ID09PSAibmFtZV9hLXoiKSB7CiAgICAgICAgICAgICAgICB0cmFpbFNlbGVjdEl0ZW1zLnNvcnQoc29ydEFscGhhSGFuZGxlcihmYWxzZSkpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydEJ5ID09PSAibmFtZV96LWEiKSB7CiAgICAgICAgICAgICAgICB0cmFpbFNlbGVjdEl0ZW1zLnNvcnQoc29ydEFscGhhSGFuZGxlcih0cnVlKSkKICAgICAgICAgICAgfSBlbHNlIGlmIChzb3J0QnkgPT09ICJyYXJpdHlfcmFyZXN0cyIpIHsKICAgICAgICAgICAgICAgIHRyYWlsU2VsZWN0SXRlbXMuc29ydChzb3J0UmFyaXR5SGFuZGxlcihmYWxzZSkpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydEJ5ID09PSAicmFyaXR5X2NvbW1vbnMiKSB7CiAgICAgICAgICAgICAgICB0cmFpbFNlbGVjdEl0ZW1zLnNvcnQoc29ydFJhcml0eUhhbmRsZXIodHJ1ZSkpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydEJ5ID09PSAiaWRfYXNjIikgewogICAgICAgICAgICAgICAgdHJhaWxTZWxlY3RJdGVtcy5zb3J0KHNvcnRJREhhbmRsZXIoImxvb3RJRCIsIGZhbHNlKSkKICAgICAgICAgICAgfSBlbHNlIGlmIChzb3J0QnkgPT09ICJpZF9kZXNjIikgewogICAgICAgICAgICAgICAgdHJhaWxTZWxlY3RJdGVtcy5zb3J0KHNvcnRJREhhbmRsZXIoImxvb3RJRCIsIHRydWUpKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHRyYWlsU2VsZWN0b3JGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKQogICAgICAgICAgICB0cmFpbFNlbGVjdG9yRnJhZ21lbnQuYXBwZW5kKG5vVHJhaWxJdGVtKQogICAgICAgICAgICB0cmFpbFNlbGVjdEl0ZW1zLmZvckVhY2goKHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChzZWFyY2ggJiYgdC5kYXRhLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaC50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyYWlsU2VsZWN0b3JGcmFnbWVudC5hcHBlbmQodC5ub2RlKQogICAgICAgICAgICB9KQogICAgICAgICAgICB3aGlsZSAoY3VzdG9tVHJhaWxTZWxlY3RvckNvbnRhaW5lci5maXJzdENoaWxkICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBjdXN0b21UcmFpbFNlbGVjdG9yQ29udGFpbmVyLnJlbW92ZUNoaWxkKGN1c3RvbVRyYWlsU2VsZWN0b3JDb250YWluZXIuZmlyc3RDaGlsZCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjdXN0b21UcmFpbFNlbGVjdG9yQ29udGFpbmVyLmFwcGVuZCh0cmFpbFNlbGVjdG9yRnJhZ21lbnQpCiAgICAgICAgfQoKICAgICAgICBjb25zdCBjdXN0b21UcmFpbFNvcnRCeSA9IGN1c3RvbVRyYWlsVUkucXVlcnlTZWxlY3RvcigiLmlucHV0LXNlbGVjdC5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWNvbnRyb2xzLS1zb3J0LW9wdGlvbnMiKSwKICAgICAgICAgICAgY3VzdG9tVHJhaWxTZWFyY2ggPSBjdXN0b21UcmFpbFVJLnF1ZXJ5U2VsZWN0b3IoIi5pbnB1dC1maWVsZC5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWNvbnRyb2xzLS1maWx0ZXItaW5wdXQiKSwKICAgICAgICAgICAgY3VzdG9tVHJhaWxTZWFyY2hDbGVhciA9IGN1c3RvbVRyYWlsVUkucXVlcnlTZWxlY3RvcigiLmN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItY29udHJvbHMtLWZpbHRlci1jbGVhciIpCgogICAgICAgIGN1c3RvbVRyYWlsU2VhcmNoLnBsYWNlaG9sZGVyID0gIlNlYXJjaCBUcmFpbCIKCiAgICAgICAgY29uc3QgY3VzdG9tVHJhaWxBcHBseUZpbHRlcnMgPSAoZSkgPT4gewogICAgICAgICAgICBwb3B1bGF0ZVRyYWlsTGlzdChjdXN0b21UcmFpbFNlYXJjaC52YWx1ZSwgY3VzdG9tVHJhaWxTb3J0QnkudmFsdWUpCiAgICAgICAgfQoKICAgICAgICBjdXN0b21UcmFpbFNvcnRCeS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBjdXN0b21UcmFpbEFwcGx5RmlsdGVycykKICAgICAgICBjdXN0b21UcmFpbFNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGN1c3RvbVRyYWlsQXBwbHlGaWx0ZXJzKQogICAgICAgIGN1c3RvbVRyYWlsU2VhcmNoQ2xlYXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgICAgICAgIGN1c3RvbVRyYWlsU2VhcmNoLnZhbHVlID0gIiIKICAgICAgICAgICAgcG9wdWxhdGVUcmFpbExpc3QoY3VzdG9tVHJhaWxTZWFyY2gudmFsdWUsIGN1c3RvbVRyYWlsU29ydEJ5LnZhbHVlKQogICAgICAgIH0pCgogICAgICAgIC8qIFBhaW50IFNlbGVjdG9yIFVJICovCiAgICAgICAgY29uc3QgY3VzdG9tQ2FyUGFpbnRVSSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpCiAgICAgICAgY3VzdG9tQ2FyUGFpbnRVSS5jbGFzc05hbWUgPSAibnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3IgY3VzdG9taXplci0taXRlbS1zZWxlY3RvciBwYWludC1zZWxlY3RvciIKICAgICAgICBjdXN0b21DYXJQYWludFVJLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1jb250YWluZXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3ItaGVhZGluZyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibnQtYWRtaW4tcGFuZWwtcGFpbnQtc2VsZWN0b3ItaGVhZGluZy1pY29uIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD0iMjk2IiBoZWlnaHQ9IjI5OCIgdmlld0JveD0iMCAwIDI5NiAyOTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMjIuOTQgNjcuODkwNkMxMjUuNjg3IDgwLjc5MzQgMTMxLjI4NyA5MC45NzgxIDEzOS4zMTIgOTkuMDg0NEMxNDkuNjg0IDEwOS41NjEgMTYzLjA1NCAxMTUuMzk1IDE3NC44OSAxMjAuMDI5QzE3Ny4yMDkgMTIwLjkzOCAxNzkuNDk0IDEyMS44MTQgMTgxLjc0IDEyMi42NzdMMTgxLjc0MiAxMjIuNjc3TDE4MS43NDkgMTIyLjY4QzIwMy42OTYgMTMxLjEwMyAyMjIuMDAxIDEzOC4xMjggMjMzLjQ1NiAxNTkuMjk4TDIzNC43NjYgMTY4LjkwM0wxODUuMjM4IDIxOC40MzJMNzguODE4NCAxMTIuMDEyTDEyMi45NCA2Ny44OTA2Wk03MS43NDczIDExOS4wODNMNDIuMDQ4OCAxNDguNzgyQzM4LjE0MzYgMTUyLjY4NyAzOC4xNDM2IDE1OS4wMTggNDIuMDQ4OCAxNjIuOTI0TDY2Ljc5NzYgMTg3LjY3Mkw4Ljk5MTU5IDI0NS40NzhDLTIuODIxNzYgMjU3LjI5MiAtMi44MjE3NyAyNzYuNDQ1IDguOTkxNTkgMjg4LjI1OEMyMC44MDUgMzAwLjA3MiAzOS45NTgyIDMwMC4wNzIgNTEuNzcxNiAyODguMjU4TDEwOS41NzggMjMwLjQ1MkwxMzQuMzI2IDI1NS4yMDFDMTM4LjIzMiAyNTkuMTA2IDE0NC41NjMgMjU5LjEwNiAxNDguNDY4IDI1NS4yMDFMMTc4LjE2NyAyMjUuNTAzTDcxLjc0NzMgMTE5LjA4M1pNMTkuNzc1IDI3Ny44MjlDMjYuNjA5MSAyODQuNjYzIDM3LjY4OTUgMjg0LjY2MyA0NC41MjM3IDI3Ny44MjlDNTEuMzU3OSAyNzAuOTk0IDUxLjM1NzkgMjU5LjkxNCA0NC41MjM3IDI1My4wOEMzNy42ODk1IDI0Ni4yNDYgMjYuNjA5MSAyNDYuMjQ2IDE5Ljc3NSAyNTMuMDhDMTIuOTQwOCAyNTkuOTE0IDEyLjk0MDggMjcwLjk5NCAxOS43NzUgMjc3LjgyOVoiPjwvcGF0aD48cGF0aCBkPSJNMTc2LjIwNiA1LjIwOTA0TDEzNy43OTcgNDUuMDk1NkMxMzYuMDAyIDQ2Ljk1OSAxMzQuOTc2IDQ5LjUxODQgMTM1LjA4MiA1Mi4xMDMxQzEzNy45NDYgMTIyLjE3MSAyMTQuOTkxIDk0LjcxNjMgMjQ2LjA2MiAxNTMuMTgxQzI0Ni42ODcgMTU0LjM1NiAyNDcuMDkyIDE1NS42NzMgMjQ3LjI3MiAxNTYuOTkyTDI1MS4zMTIgMTg2LjYyMkMyNTIuMjc5IDE5My43MTMgMjU4LjMzNiAxOTkgMjY1LjQ5MiAxOTlDMjcyLjIxMyAxOTkgMjc4LjAyOCAxOTQuMzI0IDI3OS40NyAxODcuNzYxTDI5NC42OTkgMTE4LjQ2OEMyOTYuMTM2IDExMS45MjkgMjk0LjIwNyAxMDUuMTA1IDI4OS41NTggMTAwLjI4N0wxOTcuODA1IDUuMTk4MTJDMTkxLjkwMyAtMC45MTg3ODggMTgyLjEwMiAtMC45MTM4MjUgMTc2LjIwNiA1LjIwOTA0WiI+PC9wYXRoPjxjaXJjbGUgY3g9IjI2NSIgY3k9IjIyNiIgcj0iMTQiPjwvY2lyY2xlPjwvc3ZnPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im50LWFkbWluLXBhbmVsLXBhaW50LXNlbGVjdG9yLWhlYWRpbmctbGFiZWwiPlBhaW50PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im50LWFkbWluLXBhbmVsLXNjcm9sbGFibGUiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbXMiPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PmAKCiAgICAgICAgY29uc3QgY3VzdG9tQ2FyUGFpbnRDb250YWluZXIgPSBjdXN0b21DYXJQYWludFVJLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yLWl0ZW1zIikKCiAgICAgICAgOygoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUNhclBhaW50SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikKICAgICAgICAgICAgY3VzdG9tQ2FyUGFpbnRJdGVtVGVtcGxhdGUuY2xhc3NOYW1lID0gImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbSIKICAgICAgICAgICAgY3VzdG9tQ2FyUGFpbnRJdGVtVGVtcGxhdGUuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9taXplci0taXRlbS1zZWxlY3Rvci1pdGVtLS1sYWJlbHMiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbS0tZXF1aXBwZWQiPkVxdWlwcGVkPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBhaW50LXNlbGVjdC1wcmV2aWV3Ij48L2Rpdj5gCgogICAgICAgICAgICBjb25zdCBjYXJTZWxlY3RQb2ludGVySGFuZGxlciA9IChlKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZS50YXJnZXQuY2xvc2VzdCgiLmN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbSIpLAogICAgICAgICAgICAgICAgICAgIGh1ZSA9IHBhcnNlSW50KGl0ZW0uZGF0YXNldC5zZWxlY3RlZGh1ZSkKICAgICAgICAgICAgICAgIGlmIChodWUgPT09IChjb25maWc/Lmh1ZSB8fCAwKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNvbmZpZz8uY2FyKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0Q2FyKGNvbmZpZy5jYXIsIGh1ZSwgY29uZmlnLnRyYWlsKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2F2ZUNvbmZpZyhjb25maWc/LmNhciwgaHVlLCBjb25maWcudHJhaWwpCiAgICAgICAgICAgICAgICBjdXN0b21DYXJQYWludENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIuaXMtZXF1aXBwZWQiKS5mb3JFYWNoKChub2RlKSA9PiBub2RlLmNsYXNzTGlzdC5yZW1vdmUoImlzLWVxdWlwcGVkIikpCiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoImlzLWVxdWlwcGVkIikKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkKICAgICAgICAgICAgZm9yIChsZXQgaHVlID0gMDsgaHVlIDw9IDM0MDsgaHVlICs9IDEwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gY3VzdG9tQ2FyUGFpbnRJdGVtVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpCiAgICAgICAgICAgICAgICBpdGVtLmRhdGFzZXQuc2VsZWN0ZWRodWUgPSBodWUKICAgICAgICAgICAgICAgIGlmIChodWUgPT09IGNvbmZpZz8uaHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCJpcy1lcXVpcHBlZCIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsIGNhclNlbGVjdFBvaW50ZXJIYW5kbGVyKQogICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kKGl0ZW0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3VzdG9tQ2FyUGFpbnRDb250YWluZXIuYXBwZW5kKGZyYWdtZW50KQogICAgICAgIH0pKCkKCiAgICAgICAgQ2FyUGFpbnRlci5zZXRDYXJQYWludENyZWF0ZWRIYW5kbGVyKChodWUsIGltZ0RhdGFVUkwpID0+IHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gY3VzdG9tQ2FyUGFpbnRDb250YWluZXIucXVlcnlTZWxlY3RvcihgLmN1c3RvbWl6ZXItLWl0ZW0tc2VsZWN0b3ItaXRlbVtkYXRhLXNlbGVjdGVkaHVlPSIke2h1ZX0iXSAucGFpbnQtc2VsZWN0LXByZXZpZXdgKQogICAgICAgICAgICBpZiAoIXRhcmdldCkgewogICAgICAgICAgICAgICAgbG9nZ2luZy53YXJuKCJVcGRhdGUgQ2FyIFBhaW50cyIpKCJVbmFibGUgdG8gcGxhY2UgY3VzdG9tIGNhciBwYWludCBpbWFnZSBvbiBzZWxlY3RvciIpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICB0YXJnZXQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2ltZ0RhdGFVUkx9KWAKICAgICAgICB9KQogICAgICAgIGlmIChjb25maWc/LmNhcikgewogICAgICAgICAgICBDYXJQYWludGVyLmdlbmVyYXRlU2FtcGxlQ2FyUGFpbnRzKGNvbmZpZy5jYXIpCiAgICAgICAgfQoKICAgICAgICAvKiBDdXN0b20gQ2FyIFRhYiAqLwogICAgICAgIGNvbnN0IGN1c3RvbUNhclRhYiA9IHRhYkNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSkKICAgICAgICBjdXN0b21DYXJUYWIuc2V0QXR0cmlidXRlKCJjdXN0b21pemVydGFiaW5kZXgiLCBudWxsKQogICAgICAgIGN1c3RvbUNhclRhYi5jbGFzc0xpc3QucmVtb3ZlKCJjdXN0b21pemVyLS10YWItLXNlbGVjdGVkIiwgImlzLWN1cnJlbnQiKQogICAgICAgIGN1c3RvbUNhclRhYi5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tdGFiLS1sYWJlbCIpLnRleHRDb250ZW50ID0gIkFkbWluIFBhbmVsIgogICAgICAgIGN1c3RvbUNhclRhYi5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tdGFiLS1pY29uIikuaW5uZXJIVE1MID0gYDxpbWcgc3JjPSIke0dNX2dldFJlc291cmNlVVJMKCJpY29uX3RhYiIpfSIgYWx0PSJhZG1pbl9wYW5lbF9pY29uIiB3aWR0aD0iMjUiIGhlaWdodD0iMjQiIC8+YAoKICAgICAgICBjdXN0b21DYXJUYWIuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgKGUpID0+IHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpCiAgICAgICAgICAgIHNob3dDdXN0b21DYXJQYWdlKHRydWUpCiAgICAgICAgfSkKCiAgICAgICAgLyogU2V0dXAgQ3VzdG9tIENhciBTZWN0aW9uICovCiAgICAgICAgY29uc3QgY2hhbmdlVGl0bGUgPSAodGl0bGUpID0+IHsKICAgICAgICAgICAgY29uc3QgdGl0bGVIZWFkaW5nID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS1hYm91dC0tdGl0bGUiKQogICAgICAgICAgICBpZiAoIXRpdGxlSGVhZGluZykgewogICAgICAgICAgICAgICAgbG9nZ2luZy53YXJuKCJJbml0IikoIlVuYWJsZSB0byB1cGRhdGUgdGl0bGUgaGVhZGluZyIpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICB0aXRsZUhlYWRpbmcudGV4dENvbnRlbnQgPSB0aXRsZQogICAgICAgIH0KCiAgICAgICAgY29uc3Qgc2hvd0N1c3RvbUNhclBhZ2UgPSAoc2hvdywgdGFiTmFtZSkgPT4gewogICAgICAgICAgICBjb25zdCBjdXN0b21pemVySXRlbVNlbGVjdG9yID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21pemVyLS1pdGVtLXNlbGVjdG9yIiksCiAgICAgICAgICAgICAgICBjdXN0b21pemVyUHJldmlldyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCIuY3VzdG9taXplci0tcHJldmlldyIpCiAgICAgICAgICAgIGN1c3RvbWl6ZXJJdGVtU2VsZWN0b3IuaGlkZGVuID0gc2hvdwoKICAgICAgICAgICAgaWYgKHNob3cpIHsKICAgICAgICAgICAgICAgIGN1c3RvbWl6ZXJQcmV2aWV3LnN0eWxlLm9wYWNpdHkgPSAwCiAgICAgICAgICAgICAgICBjdXN0b21pemVyUHJldmlldy5zdHlsZS56SW5kZXggPSAtMTAwMAogICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoInNlY3Rpb24tcGFpbnQiLCAic2VjdGlvbi10cmFpbHMiLCAic2VjdGlvbi1zdGlja2VycyIsICJzZWN0aW9uLXRpdGxlcyIsICJuby1wcmV2aWV3IikKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJzZWN0aW9uLWNhcnMiLCAic2VjdGlvbi1udC1hZG1pbi1wYW5lbCIpCiAgICAgICAgICAgICAgICBwcmV2aWV3ZXJDYW52YXMuc3R5bGUud2lkdGggPSAiMzAwcHgiCiAgICAgICAgICAgICAgICBwcmV2aWV3ZXJDYW52YXMuc3R5bGUuaGVpZ2h0ID0gIjI4MHB4IgogICAgICAgICAgICAgICAgb3RoZXJUYWJzLmZvckVhY2goKHRhYikgPT4gewogICAgICAgICAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCJjdXN0b21pemVyLS10YWItLXNlbGVjdGVkIiwgImlzLWN1cnJlbnQiKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGN1c3RvbUNhclRhYi5jbGFzc0xpc3QuYWRkKCJjdXN0b21pemVyLS10YWItLXNlbGVjdGVkIiwgImlzLWN1cnJlbnQiKQogICAgICAgICAgICAgICAgY2hhbmdlVGl0bGUoIkFkbWluIFBhbmVsIikKCiAgICAgICAgICAgICAgICByZWFjdE9iai5wcmV2aWV3ZXIuc2V0Rm9jdXMoImNhciIpCiAgICAgICAgICAgICAgICBpZiAoY29uZmlnPy5jYXIpIHsKICAgICAgICAgICAgICAgICAgICBzZXRDYXIoY29uZmlnLmNhciwgY29uZmlnLmh1ZSB8fCAwLCBjb25maWcudHJhaWwpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjdXN0b21pemVySXRlbVNlbGVjdG9yLmFmdGVyKGN1c3RvbUNhclVJLCBjdXN0b21UcmFpbFVJLCBjdXN0b21DYXJQYWludFVJKQogICAgICAgICAgICAgICAgcHJldmlld2VyLmFmdGVyKGN1c3RvbUNhck5vUHJldmlldykKCiAgICAgICAgICAgICAgICBpZiAoY29uZmlnPy5jYXIpIHsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYXJMYWJlbChOVEdMT0JBTFMuQ0FSUy5maW5kKChjKSA9PiBjLmlkID09PSBjb25maWcuY2FyKSkKICAgICAgICAgICAgICAgICAgICBjdXN0b21pemVyUHJldmlldy5hZnRlcihzZWxlY3RlZENhckxhYmVsKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2FyID0gY3VzdG9tQ2FyU2VsZWN0b3JDb250YWluZXIucXVlcnlTZWxlY3RvcigiLmlzLWVxdWlwcGVkIiksCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUcmFpbCA9IGN1c3RvbVRyYWlsU2VsZWN0b3JDb250YWluZXIucXVlcnlTZWxlY3RvcigiLmlzLWVxdWlwcGVkIiksCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQYWludCA9IGN1c3RvbUNhclBhaW50Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5pcy1lcXVpcHBlZCIpCiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDYXIpIHsKICAgICAgICAgICAgICAgICAgICBjdXN0b21DYXJTZWxlY3RvckNvbnRhaW5lci5wYXJlbnROb2RlLnNjcm9sbFRvcCA9IHNlbGVjdGVkQ2FyLm9mZnNldFRvcAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkVHJhaWwpIHsKICAgICAgICAgICAgICAgICAgICBjdXN0b21UcmFpbFNlbGVjdG9yQ29udGFpbmVyLnBhcmVudE5vZGUuc2Nyb2xsVG9wID0gc2VsZWN0ZWRUcmFpbC5vZmZzZXRUb3AKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFBhaW50KSB7CiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ2FyUGFpbnRDb250YWluZXIucGFyZW50Tm9kZS5zY3JvbGxUb3AgPSBzZWxlY3RlZFBhaW50Lm9mZnNldFRvcAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY3VzdG9taXplclByZXZpZXcuc3R5bGUub3BhY2l0eSA9IDEKICAgICAgICAgICAgICAgIGN1c3RvbWl6ZXJQcmV2aWV3LnN0eWxlLnpJbmRleCA9ICIiCiAgICAgICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChgc2VjdGlvbi0ke3RhYk5hbWUudG9Mb3dlckNhc2UoKX1gKQogICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoInNlY3Rpb24tbnQtYWRtaW4tcGFuZWwiKQogICAgICAgICAgICAgICAgcHJldmlld2VyQ2FudmFzLnN0eWxlLndpZHRoID0gIjU1OXB4IgogICAgICAgICAgICAgICAgcHJldmlld2VyQ2FudmFzLnN0eWxlLmhlaWdodCA9ICI1MDBweCIKICAgICAgICAgICAgICAgIGlmICh0YWJOYW1lICE9PSAiQ2FycyIpIHsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgic2VjdGlvbi1jYXJzIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0YWJOYW1lID09PSAiVHJhaWxzIikgewogICAgICAgICAgICAgICAgICAgIHJlYWN0T2JqLnByZXZpZXdlci5zZXRGb2N1cygidHJhaWxzIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChbIlN0aWNrZXJzIiwgIlRpdGxlcyJdLmluY2x1ZGVzKHRhYk5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm5vLXByZXZpZXciKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY3VzdG9tQ2FyVGFiLmNsYXNzTGlzdC5yZW1vdmUoImN1c3RvbWl6ZXItLXRhYi0tc2VsZWN0ZWQiLCAiaXMtY3VycmVudCIpCiAgICAgICAgICAgICAgICBjaGFuZ2VUaXRsZSh0YWJOYW1lKQoKICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxDb25maWcgPSByZWFjdE9iai5wcm9wcy5jb25maWcKICAgICAgICAgICAgICAgIGlmICghcmVhbENvbmZpZykgewogICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcud2FybigiSW5pdCIpKCJVbmFibGUgdG8gZmluZCB1c2VyJ3MgY3VzdG9taXplciBzZXR0aW5ncyIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgeyBpZDogcmVhbENhcklELCBodWVBbmdsZTogcmVhbEh1ZSB9ID0gcmVhbENvbmZpZy5maW5kKChjKSA9PiBjLnR5cGUgPT09ICJjYXIiKSB8fCB7IGlkOiBudWxsLCBodWVBbmdsZTogbnVsbCB9LAogICAgICAgICAgICAgICAgICAgIHJlYWxUcmFpbElEID0gcmVhbENvbmZpZy5maW5kKChjKSA9PiBjLnR5cGUgPT09ICJ0cmFpbCIpPy5pZAogICAgICAgICAgICAgICAgc2V0Q2FyKHJlYWxDYXJJRCwgcmVhbEh1ZSwgcmVhbFRyYWlsSUQpCgogICAgICAgICAgICAgICAgY3VzdG9tQ2FyVUkucmVtb3ZlKCkKICAgICAgICAgICAgICAgIGN1c3RvbVRyYWlsVUkucmVtb3ZlKCkKICAgICAgICAgICAgICAgIGN1c3RvbUNhclBhaW50VUkucmVtb3ZlKCkKICAgICAgICAgICAgICAgIGN1c3RvbUNhck5vUHJldmlldy5yZW1vdmUoKQogICAgICAgICAgICAgICAgc2VsZWN0ZWRDYXJMYWJlbC5yZW1vdmUoKQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb25zdCBvdGhlclRhYnMgPSB0YWJDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLm5hdi1saXN0LWl0ZW0uY3VzdG9taXplci0tdGFiIikKICAgICAgICBvdGhlclRhYnMuZm9yRWFjaCgodGFiKSA9PiB7CiAgICAgICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCAoZSkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0YWIucXVlcnlTZWxlY3RvcigiLmN1c3RvbWl6ZXItLXRhYi0tbGFiZWwiKS50ZXh0Q29udGVudAogICAgICAgICAgICAgICAgc2hvd0N1c3RvbUNhclBhZ2UoZmFsc2UsIHRpdGxlKQogICAgICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoImN1c3RvbWl6ZXItLXRhYi0tc2VsZWN0ZWQiLCAiaXMtY3VycmVudCIpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSkKCiAgICAgICAgcG9wdWxhdGVMaXN0KCIiLCAibmFtZV9hLXoiKQogICAgICAgIHBvcHVsYXRlVHJhaWxMaXN0KCIiLCAibmFtZV9hLXoiKQoKICAgICAgICB0YWJDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQuYmVmb3JlKGN1c3RvbUNhclRhYikKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyAgUmFjaW5nIFBhZ2UgIC8vCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vCiAgICBlbHNlIGlmIChjb25maWc/LmNhciAmJiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAiL3JhY2UiIHx8IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvcmFjZS8iKSkpIHsKICAgICAgICBjb25zdCByYWNlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJhY2VDb250YWluZXIiKSwKICAgICAgICAgICAgcmFjZU9iaiA9IHJhY2VDb250YWluZXIgPyBmaW5kUmVhY3QocmFjZUNvbnRhaW5lcikgOiBudWxsCiAgICAgICAgaWYgKCFyYWNlT2JqKSB7CiAgICAgICAgICAgIGxvZ2dpbmcuZXJyb3IoIkluaXQiKSgiQ291bGQgbm90IGZpbmQgdGhlIHJhY2UgdHJhY2siKQogICAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIGNvbnN0IGNhciA9IE5UR0xPQkFMUy5DQVJTLmZpbmQoKGMpID0+IGMuaWQgPT09IGNvbmZpZy5jYXIpCiAgICAgICAgaWYgKCFjYXIpIHsKICAgICAgICAgICAgbG9nZ2luZy5lcnJvcigiSW5pdCIpKCJDdXN0b20gQ2FyIHNldHRpbmcgaXMgaW52YWxpZCIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgLyogU3R5bGVzICovCiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpCiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoCiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGAKLm50LWFkbWluLXBhbmVsLWxhYmVsIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHJpZ2h0OiAtMjBweDsKICAgIHRvcDogNTk1cHg7CiAgICB6LWluZGV4OiAzOwogICAgY29sb3I6ICMzODNjNGY7CiAgICBmb250LXNpemU6IDEwcHg7Cn1gKQogICAgICAgICkKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKQoKICAgICAgICAvKiBTaG93IGxhYmVsIG9uIGRhc2hib2FyZCBpbmRpY2F0aW5nIHVzaW5nIGN1c3RvbSBjYXIgKi8KICAgICAgICBjb25zdCBjdXN0b21DYXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikKICAgICAgICBjdXN0b21DYXJUZXh0LmNsYXNzTmFtZSA9ICJudC1hZG1pbi1wYW5lbC1sYWJlbCIKICAgICAgICBjdXN0b21DYXJUZXh0LnRleHRDb250ZW50ID0gIkNDIgoKICAgICAgICByYWNlQ29udGFpbmVyLmFmdGVyKGN1c3RvbUNhclRleHQpCgogICAgICAgIC8qKiBEaXNwbGF5IEN1c3RvbSBDYXIgb24gUmFjZSBUcmFjay4gKiovCiAgICAgICAgY29uc3Qgb2xkR2FtZUFkZFBsYXllciA9IHJhY2VPYmouZ2FtZS50cmFjay5hZGRQbGF5ZXIKICAgICAgICByYWNlT2JqLmdhbWUudHJhY2suYWRkUGxheWVyID0gKGUsIHIpID0+IHsKICAgICAgICAgICAgaWYgKGUuaXNQbGF5ZXIpIHsKICAgICAgICAgICAgICAgIGUudHlwZSA9ICEhY2FyLm9wdGlvbnM/LmlzQW5pbWF0ZWQgPyBjYXIua2V5IHx8IGNhci5hc3NldEtleSB8fCBjYXIuY2FySUQgOiBjYXIuY2FySUQKICAgICAgICAgICAgICAgIGUuaXNBbmltYXRlZCA9ICEhY2FyLm9wdGlvbnM/LmlzQW5pbWF0ZWQKICAgICAgICAgICAgICAgIGUuaHVlID0gY29uZmlnLmh1ZSB8fCAwCiAgICAgICAgICAgICAgICBlLm1vZHMudHJhaWwgPSBjb25maWcudHJhaWwgPyBOVEdMT0JBTFMuTE9PVC5maW5kKChsKSA9PiBsLmxvb3RJRCA9PT0gY29uZmlnLnRyYWlsICYmIGwudHlwZSA9PT0gInRyYWlsIik/LmFzc2V0S2V5IDogdW5kZWZpbmVkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgb2xkR2FtZUFkZFBsYXllcihlLCByKQogICAgICAgIH0KCiAgICAgICAgLyoqIERpc3BsYXkgQ3VzdG9tIENhciBvbiBSYWNlIFJlc3VsdHMuICovCiAgICAgICAgcmFjZU9iai5zZXJ2ZXIub24oInN0YXR1cyIsIChlKSA9PiB7CiAgICAgICAgICAgIGlmIChlLnN0YXR1cyA9PT0gInJhY2luZyIpIHsKICAgICAgICAgICAgICAgIHJhY2VPYmouc3RhdGUucmFjZXJzID0gcmFjZU9iai5zdGF0ZS5yYWNlcnMubWFwKChyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHIudXNlcklEID09PSByYWNlT2JqLnByb3BzLnVzZXIudXNlcklEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHIucHJvZmlsZS5jYXJIdWVBbmdsZSA9IGNvbmZpZy5odWUgfHwgMAogICAgICAgICAgICAgICAgICAgICAgICByLnByb2ZpbGUuY2FySUQgPSBjb25maWcuY2FyCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiByCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICAgICAgLyoqIERpc3BsYXkgQ3VzdG9tIENhciBvbiBQb3BvdmVyIChyYWNlIHJlc3VsdHMpLiAqKi8KICAgICAgICBjb25zdCByYWNlclBvcHVwT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHsKICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jbGFzc0xpc3Q/LmNvbnRhaW5zKCJwYW5lLS1vdmVybGF5IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhY3RPYmogPSBmaW5kUmVhY3Qobm9kZSwgMSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWFjdE9iaikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy53YXJuKCJSYWNlIFJlc3VsdHMiKSgiVW5hYmxlIHRvIHJldmlldyBwb3B1cCByYWNlciBtb2RhbCIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWN0T2JqLnByb3BzLnVzZXJJRCAhPT0gcmFjZU9iai5wcm9wcy51c2VyLnVzZXJJRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RPYmoucHJvcHMucHJvZmlsZS5jYXJJRCA9IGNvbmZpZy5jYXIKICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RPYmoucHJvcHMucHJvZmlsZS5jYXJIdWVBbmdsZSA9IGNvbmZpZy5odWUKICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RPYmouZm9yY2VVcGRhdGUoKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIHJhY2VyUG9wdXBPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsgY2hpbGRMaXN0OiB0cnVlIH0pCiAgICB9Cn0K","resources":[{"meta":{"name":"key-icon.png","url":"https://i.ibb.co/28Ts3Xd/key-icon.png#sha512=3b8723fb0a6f220c9fa03ea38d9a600df2efe9dc38217b0be4a71132d12457edd6344c7c12370e5a451ea6199fb39a06dabc94c7c8c9782c1c4584b6e5d04a53","sri":{"type":"sha512","value":"3b8723fb0a6f220c9fa03ea38d9a600df2efe9dc38217b0be4a71132d12457edd6344c7c12370e5a451ea6199fb39a06dabc94c7c8c9782c1c4584b6e5d04a53"},"ts":1689576826979,"mimetype":"image/png"},"source":"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Y3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjgxYjZlNzIwLWY0MGMtNDFiNC1hOGVkLWRiYTRjMDc1ODAwMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NmNjYTc2Ny1mMmM1LTRhZDMtYjU1Ni04NzNlNDQ3NzYzOTkiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4MTdjY2MwNi1kZmY5LTQ2NWQtODUzZS00N2I4YzNjYjJhYWUiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2NTczNjY3NjA1ODAzMjAiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMiIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjI6MDc6MDlUMTk6Mzk6MjArMDg6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDIyOjA3OjA5VDE5OjM5OjIwKzA4OjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MzQ4NDZmZjktYzZmNy00ODg1LWFkYmMtODAyYTRkMmE4MGQwIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKExpbnV4KSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMi0wNy0wOVQxOTozOToyMCswODowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7CrgPDisOrAAAABmJLR0QAw78Aw78Aw7/CoMK9wqfCkwAAAAlwSFlzAAALEwAACxMBAMKawpwYAAAAB3RJTUUHw6YHCQsnFA/Cq0hcAAACwoNJREFUSMOHwq3DlcOPwosURxTDgMOxb8K9w6rCmh5nI0owwrDDuBd4w7LClls2wpd3wo/DrBwiwqIHc3EhUcOiJcOCwp4DKwgSwpQVwrzCiAcJw54NRMKEw5RJTzlJwoTCnMKCJBDCgz8wwpDCnXXCssOdwrVTw4/Di3YYw4fCjXTCj8O7wqAPXT/DuHTDlcKrV8OtwpgzYsKMHwInc8OOwp/DpMKcF0XDpMKZwog8AMK+V8OVwpfDk2PDncKcw4DDicK6wq7Dl3PDjgdFBAAzYzLCmcOgwr3DnyjDi8OywrzCqsOewpwbwokxwp7CqcKqw6p6CMOBNcOAdMKkwpRIKTEYDMOOwqvDqsKVw45IwozDsUhKw6lhURTCpXNvTB0BwrfCgQXDoMO4ZDIpUkrDm8O9fsO/Y1V9KF0QM8K7w6DCvcKfBQA+U8OVFVU9BXzDpcK9w4fDjMKKwpzDs2rCp8KVw4QYXcOOw7nCucKIHMKaw6nDmlTDlcO9U8OjDgNPcsOOwqTClF7ClWV5wqDDi0oOOMOnDsOtw5LDvkHCjMOxw6jDlMO7EsKAwohgZgvDgGLDkWXCt8Oew5F3N8OGwrgOw6wHw47DjcOOw6vCgmw4w6deAB/DrcOSdxhYwpvDiR/DjsK5DcOgWcOrw61SVQN+aDs+wqVECMOhwo7Cqk7CpEPDogXDmMOXw7IUAlQichFAw5rCnizDoFpdw5cnw5oAKSXDq8O1emdVw7VXAMOfEsK4WlXDlcKXTcKFO8OncMOObU9/wqTCmcKRcybDp8O8dwjDoQtVwr3DlcO0wrVJw7zDpcKqwqrDjjrDpxARwqrCqmIwGMOcA04Dw4fDjMOsUzNbdMOOPcO1w57DnwduwqvDqj/CrS/DiBjDo1pdw5fCqwDDnsO7BsO4acKnw4LDv23Cm095B8OwbQMURcORAMO3woHDpS7DgMO/wq4kw4bCuFrDl8O1wprCmRFCYGtrwot+wr/Dv8K7wogcVcOVUcOXwptbdgHCvsKZBXrCvR7Co8ORw6jDjjzDgFtIwozDscOrwpTDksKlXQADbsOMw7sXwpUpYCXCpcO0XcOOw7k/wqAsS8OGw6PDscKPIsOyw7lwOMO8ZV7DhMOtAAfCgT9TSgvDnsO7Jgd/ecOvwpfDjMOsD1XCncOwHsORw5TDiWlgIcKEQFVVwpRlw4nDpsOmZlxeXn7DjB7ChMOsVMO0SsOTEEJgNBphZsOrw6xRFDvDjyPDoDfDoMOJeDx+DjwaDsKHP8OvFcOyGgLDmDpYOcOMe8KmAAAAAElFTkTCrkJgwoI="}],"requires":[{"meta":{"name":"Nitro%20Type%20Userscript%20Utils.js","url":"https://greasyfork.org/scripts/443718-nitro-type-userscript-utils/code/Nitro%20Type%20Userscript%20Utils.js?version=1042360","ts":1689576827184,"mimetype":"text/javascript"},"source":"LyoqIEZpbmRzIHRoZSBSZWFjdCBDb21wb25lbnQgZnJvbSBnaXZlbiBkb20uICovCmNvbnN0IGZpbmRSZWFjdCA9IChkb20sIHRyYXZlcnNlVXAgPSAwKSA9PiB7CiAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhkb20pLmZpbmQoKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoIl9fcmVhY3RGaWJlciQiKSkKICAgIGNvbnN0IGRvbUZpYmVyID0gZG9tW2tleV0KICAgIGlmIChkb21GaWJlciA9PSBudWxsKSByZXR1cm4gbnVsbAogICAgY29uc3QgZ2V0Q29tcEZpYmVyID0gKGZpYmVyKSA9PiB7CiAgICAgICAgbGV0IHBhcmVudEZpYmVyID0gZmliZXI/LnJldHVybgogICAgICAgIHdoaWxlICh0eXBlb2YgcGFyZW50RmliZXI/LnR5cGUgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcGFyZW50RmliZXIgPSBwYXJlbnRGaWJlcj8ucmV0dXJuCiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJlbnRGaWJlcgogICAgfQogICAgbGV0IGNvbXBGaWJlciA9IGdldENvbXBGaWJlcihkb21GaWJlcikKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhdmVyc2VVcCAmJiBjb21wRmliZXI7IGkrKykgewogICAgICAgIGNvbXBGaWJlciA9IGdldENvbXBGaWJlcihjb21wRmliZXIpCiAgICB9CiAgICByZXR1cm4gY29tcEZpYmVyPy5zdGF0ZU5vZGUKfQoKLyoqIENyZWF0ZSBhIENvbnNvbGUgTG9nZ2VyIHdpdGggc29tZSBwcmVmaXhpbmcuICovCmNvbnN0IGNyZWF0ZUxvZ2dlciA9IChuYW1lc3BhY2UpID0+IHsKICAgIGNvbnN0IGxvZ1ByZWZpeCA9IChwcmVmaXggPSAiIikgPT4gewogICAgICAgIGNvbnN0IGZvcm1hdE1lc3NhZ2UgPSBgJWNbJHtuYW1lc3BhY2V9XSR7cHJlZml4ID8gYCVjWyR7cHJlZml4fV1gIDogIiJ9YAogICAgICAgIGxldCBhcmdzID0gW2NvbnNvbGUsIGAke2Zvcm1hdE1lc3NhZ2V9JWNgLCAiYmFja2dyb3VuZC1jb2xvcjogI0Q2MkYzQTsgY29sb3I6ICNmZmY7IGZvbnQtd2VpZ2h0OiBib2xkIl0KICAgICAgICBpZiAocHJlZml4KSB7CiAgICAgICAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdCgiYmFja2dyb3VuZC1jb2xvcjogIzRmNTA1ZTsgY29sb3I6ICNmZmY7IGZvbnQtd2VpZ2h0OiBib2xkIikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFyZ3MuY29uY2F0KCJjb2xvcjogdW5zZXQiKQogICAgfQogICAgcmV0dXJuIHsKICAgICAgICBpbmZvOiAocHJlZml4KSA9PiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb25zb2xlLmluZm8sIGxvZ1ByZWZpeChwcmVmaXgpKSwKICAgICAgICB3YXJuOiAocHJlZml4KSA9PiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjb25zb2xlLndhcm4sIGxvZ1ByZWZpeChwcmVmaXgpKSwKICAgICAgICBlcnJvcjogKHByZWZpeCkgPT4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc29sZS5lcnJvciwgbG9nUHJlZml4KHByZWZpeCkpLAogICAgICAgIGxvZzogKHByZWZpeCkgPT4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc29sZS5sb2csIGxvZ1ByZWZpeChwcmVmaXgpKSwKICAgICAgICBkZWJ1ZzogKHByZWZpeCkgPT4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY29uc29sZS5kZWJ1ZywgbG9nUHJlZml4KHByZWZpeCkpLAogICAgfQp9Cg=="},{"meta":{"name":"dexie.min.js","url":"https://cdnjs.cloudflare.com/ajax/libs/dexie/3.2.2/dexie.min.js#sha512-/Aa8vGWIh0EnOTIVN/ZWTS3UqyJJDhWYtIPS/IqtaaSG0VA6hC6CSvtWdh2+T72q74+2l1RFgu+ig91LGLX57A==","sri":{"type":"sha512","value":"fc06bcbc658887412739321537f6564d2dd4ab22490e1598b483d2fc8aad69a486d1503a842e824afb56761dbe4fbdaaef8fb697544582efa283dd4b18b5f9ec"},"ts":1689576827268,"mimetype":"text/javascript"},"source":"KGZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuRGV4aWU9dCgpfSkodGhpcyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgZz1mdW5jdGlvbigpe3JldHVybihnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gaShlLHQsbil7aWYobnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciByLGk9MCxvPXQubGVuZ3RoO2k8bztpKyspIXImJmkgaW4gdHx8KChyPXJ8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxpKSlbaV09dFtpXSk7cmV0dXJuIGUuY29uY2F0KHJ8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKX12YXIgaD0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6Z2xvYmFsLHg9T2JqZWN0LmtleXMsYj1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIHUodCxuKXtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIG58fHgobikuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPW5bZV19KSx0fSJ1bmRlZmluZWQiPT10eXBlb2YgUHJvbWlzZXx8aC5Qcm9taXNlfHwoaC5Qcm9taXNlPVByb21pc2UpO3ZhciBzPU9iamVjdC5nZXRQcm90b3R5cGVPZixuPXt9Lmhhc093blByb3BlcnR5O2Z1bmN0aW9uIG0oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9ZnVuY3Rpb24gcih0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobj1uKHModCkpKSwoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0P3g6UmVmbGVjdC5vd25LZXlzKShuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2ModCxlLG5bZV0pfSl9dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5O2Z1bmN0aW9uIGMoZSx0LG4scil7YShlLHQsdShuJiZtKG4sImdldCIpJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5nZXQ/e2dldDpuLmdldCxzZXQ6bi5zZXQsY29uZmlndXJhYmxlOiEwfTp7dmFsdWU6bixjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9LHIpKX1mdW5jdGlvbiBvKHQpe3JldHVybntmcm9tOmZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxjKHQucHJvdG90eXBlLCJjb25zdHJ1Y3RvciIsdCkse2V4dGVuZDpyLmJpbmQobnVsbCx0LnByb3RvdHlwZSl9fX19dmFyIGw9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGwoZSx0KXx8KGU9cyhlKSkmJmYoZSx0KX12YXIgZD1bXS5zbGljZTtmdW5jdGlvbiB5KGUsdCxuKXtyZXR1cm4gZC5jYWxsKGUsdCxuKX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHQoZSl9ZnVuY3Rpb24gdihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBGYWlsZWQiKX1mdW5jdGlvbiBfKGUpe2guc2V0SW1tZWRpYXRlP3NldEltbWVkaWF0ZShlKTpzZXRUaW1lb3V0KGUsMCl9ZnVuY3Rpb24gdyhlLHIpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQsbil7bj1yKHQsbik7cmV0dXJuIG4mJihlW25bMF1dPW5bMV0pLGV9LHt9KX1mdW5jdGlvbiBrKGUsdCl7aWYobShlLHQpKXJldHVybiBlW3RdO2lmKCF0KXJldHVybiBlO2lmKCJzdHJpbmciIT10eXBlb2YgdCl7Zm9yKHZhciBuPVtdLHI9MCxpPXQubGVuZ3RoO3I8aTsrK3Ipe3ZhciBvPWsoZSx0W3JdKTtuLnB1c2gobyl9cmV0dXJuIG59dmFyIGE9dC5pbmRleE9mKCIuIik7aWYoLTEhPT1hKXt2YXIgdT1lW3Quc3Vic3RyKDAsYSldO3JldHVybiB2b2lkIDA9PT11P3ZvaWQgMDprKHUsdC5zdWJzdHIoYSsxKSl9fWZ1bmN0aW9uIEUoZSx0LG4pe2lmKGUmJnZvaWQgMCE9PXQmJiEoImlzRnJvemVuImluIE9iamVjdCYmT2JqZWN0LmlzRnJvemVuKGUpKSlpZigic3RyaW5nIiE9dHlwZW9mIHQmJiJsZW5ndGgiaW4gdCl7digic3RyaW5nIiE9dHlwZW9mIG4mJiJsZW5ndGgiaW4gbik7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7KytyKUUoZSx0W3JdLG5bcl0pfWVsc2V7dmFyIG8sYSx1PXQuaW5kZXhPZigiLiIpOy0xIT09dT8obz10LnN1YnN0cigwLHUpLCIiPT09KGE9dC5zdWJzdHIodSsxKSk/dm9pZCAwPT09bj9iKGUpJiYhaXNOYU4ocGFyc2VJbnQobykpP2Uuc3BsaWNlKG8sMSk6ZGVsZXRlIGVbb106ZVtvXT1uOkUodT0hKHU9ZVtvXSl8fCFtKGUsbyk/ZVtvXT17fTp1LGEsbikpOnZvaWQgMD09PW4/YihlKSYmIWlzTmFOKHBhcnNlSW50KHQpKT9lLnNwbGljZSh0LDEpOmRlbGV0ZSBlW3RdOmVbdF09bn19ZnVuY3Rpb24gUChlKXt2YXIgdCxuPXt9O2Zvcih0IGluIGUpbShlLHQpJiYoblt0XT1lW3RdKTtyZXR1cm4gbn12YXIgdD1bXS5jb25jYXQ7ZnVuY3Rpb24gSyhlKXtyZXR1cm4gdC5hcHBseShbXSxlKX12YXIgZT0iQm9vbGVhbixTdHJpbmcsRGF0ZSxSZWdFeHAsQmxvYixGaWxlLEZpbGVMaXN0LEZpbGVTeXN0ZW1GaWxlSGFuZGxlLEFycmF5QnVmZmVyLERhdGFWaWV3LFVpbnQ4Q2xhbXBlZEFycmF5LEltYWdlQml0bWFwLEltYWdlRGF0YSxNYXAsU2V0LENyeXB0b0tleSIuc3BsaXQoIiwiKS5jb25jYXQoSyhbOCwxNiwzMiw2NF0ubWFwKGZ1bmN0aW9uKHQpe3JldHVyblsiSW50IiwiVWludCIsIkZsb2F0Il0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlK3QrIkFycmF5In0pfSkpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGhbZV19KSxPPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBoW2VdfSk7dyhlLGZ1bmN0aW9uKGUpe3JldHVybltlLCEwXX0pO3ZhciBTPW51bGw7ZnVuY3Rpb24gQShlKXtTPSJ1bmRlZmluZWQiIT10eXBlb2YgV2Vha01hcCYmbmV3IFdlYWtNYXA7ZT1mdW5jdGlvbiBlKHQpe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIG49UyYmUy5nZXQodCk7aWYobilyZXR1cm4gbjtpZihiKHQpKXtuPVtdLFMmJlMuc2V0KHQsbik7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7KytyKW4ucHVzaChlKHRbcl0pKX1lbHNlIGlmKDA8PU8uaW5kZXhPZih0LmNvbnN0cnVjdG9yKSluPXQ7ZWxzZXt2YXIgbyxhPXModCk7Zm9yKG8gaW4gbj1hPT09T2JqZWN0LnByb3RvdHlwZT97fTpPYmplY3QuY3JlYXRlKGEpLFMmJlMuc2V0KHQsbiksdCltKHQsbykmJihuW29dPWUodFtvXSkpfXJldHVybiBufShlKTtyZXR1cm4gUz1udWxsLGV9dmFyIEM9e30udG9TdHJpbmc7ZnVuY3Rpb24gaihlKXtyZXR1cm4gQy5jYWxsKGUpLnNsaWNlKDgsLTEpfXZhciBEPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sP1N5bWJvbC5pdGVyYXRvcjoiQEBpdGVyYXRvciIsST0ic3ltYm9sIj09dHlwZW9mIEQ/ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGwhPWUmJih0PWVbRF0pJiZ0LmFwcGx5KGUpfTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxCPXt9O2Z1bmN0aW9uIFQoZSl7dmFyIHQsbixyLGk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGIoZSkpcmV0dXJuIGUuc2xpY2UoKTtpZih0aGlzPT09QiYmInN0cmluZyI9PXR5cGVvZiBlKXJldHVybltlXTtpZihpPUkoZSkpe2ZvcihuPVtdOyEocj1pLm5leHQoKSkuZG9uZTspbi5wdXNoKHIudmFsdWUpO3JldHVybiBufWlmKG51bGw9PWUpcmV0dXJuW2VdO2lmKCJudW1iZXIiIT10eXBlb2YodD1lLmxlbmd0aCkpcmV0dXJuW2VdO2ZvcihuPW5ldyBBcnJheSh0KTt0LS07KW5bdF09ZVt0XTtyZXR1cm4gbn1mb3IodD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpO3QtLTspblt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG59dmFyIFI9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2w/ZnVuY3Rpb24oZSl7cmV0dXJuIkFzeW5jRnVuY3Rpb24iPT09ZVtTeW1ib2wudG9TdHJpbmdUYWddfTpmdW5jdGlvbigpe3JldHVybiExfSxGPSJ1bmRlZmluZWQiIT10eXBlb2YgbG9jYXRpb24mJi9eKGh0dHB8aHR0cHMpOlwvXC8obG9jYWxob3N0fDEyN1wuMFwuMFwuMSkvLnRlc3QobG9jYXRpb24uaHJlZik7ZnVuY3Rpb24gTShlLHQpe0Y9ZSxOPXR9dmFyIE49ZnVuY3Rpb24oKXtyZXR1cm4hMH0scT0hbmV3IEVycm9yKCIiKS5zdGFjaztmdW5jdGlvbiBVKCl7aWYocSl0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGUpe3JldHVybiBlfXJldHVybiBuZXcgRXJyb3J9ZnVuY3Rpb24gTChlLHQpe3ZhciBuPWUuc3RhY2s7cmV0dXJuIG4/KHQ9dHx8MCwwPT09bi5pbmRleE9mKGUubmFtZSkmJih0Kz0oZS5uYW1lK2UubWVzc2FnZSkuc3BsaXQoIlxuIikubGVuZ3RoKSxuLnNwbGl0KCJcbiIpLnNsaWNlKHQpLmZpbHRlcihOKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIlxuIitlfSkuam9pbigiIikpOiIifXZhciBWPVsiVW5rbm93biIsIkNvbnN0cmFpbnQiLCJEYXRhIiwiVHJhbnNhY3Rpb25JbmFjdGl2ZSIsIlJlYWRPbmx5IiwiVmVyc2lvbiIsIk5vdEZvdW5kIiwiSW52YWxpZFN0YXRlIiwiSW52YWxpZEFjY2VzcyIsIkFib3J0IiwiVGltZW91dCIsIlF1b3RhRXhjZWVkZWQiLCJTeW50YXgiLCJEYXRhQ2xvbmUiXSxlPVsiTW9kaWZ5IiwiQnVsayIsIk9wZW5GYWlsZWQiLCJWZXJzaW9uQ2hhbmdlIiwiU2NoZW1hIiwiVXBncmFkZSIsIkludmFsaWRUYWJsZSIsIk1pc3NpbmdBUEkiLCJOb1N1Y2hEYXRhYmFzZSIsIkludmFsaWRBcmd1bWVudCIsIlN1YlRyYW5zYWN0aW9uIiwiVW5zdXBwb3J0ZWQiLCJJbnRlcm5hbCIsIkRhdGFiYXNlQ2xvc2VkIiwiUHJlbWF0dXJlQ29tbWl0IiwiRm9yZWlnbkF3YWl0Il0uY29uY2F0KFYpLFc9e1ZlcnNpb25DaGFuZ2VkOiJEYXRhYmFzZSB2ZXJzaW9uIGNoYW5nZWQgYnkgb3RoZXIgZGF0YWJhc2UgY29ubmVjdGlvbiIsRGF0YWJhc2VDbG9zZWQ6IkRhdGFiYXNlIGhhcyBiZWVuIGNsb3NlZCIsQWJvcnQ6IlRyYW5zYWN0aW9uIGFib3J0ZWQiLFRyYW5zYWN0aW9uSW5hY3RpdmU6IlRyYW5zYWN0aW9uIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCBvciBmYWlsZWQiLE1pc3NpbmdBUEk6IkluZGV4ZWREQiBBUEkgbWlzc2luZy4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vdGlueXVybC5jb20veTJ1dXZza2IifTtmdW5jdGlvbiB6KGUsdCl7dGhpcy5fZT1VKCksdGhpcy5uYW1lPWUsdGhpcy5tZXNzYWdlPXR9ZnVuY3Rpb24gWShlLHQpe3JldHVybiBlKyIuIEVycm9yczogIitPYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV0udG9TdHJpbmcoKX0pLmZpbHRlcihmdW5jdGlvbihlLHQsbil7cmV0dXJuIG4uaW5kZXhPZihlKT09PXR9KS5qb2luKCJcbiIpfWZ1bmN0aW9uIEcoZSx0LG4scil7dGhpcy5fZT1VKCksdGhpcy5mYWlsdXJlcz10LHRoaXMuZmFpbGVkS2V5cz1yLHRoaXMuc3VjY2Vzc0NvdW50PW4sdGhpcy5tZXNzYWdlPVkoZSx0KX1mdW5jdGlvbiBIKGUsdCl7dGhpcy5fZT1VKCksdGhpcy5uYW1lPSJCdWxrRXJyb3IiLHRoaXMuZmFpbHVyZXM9T2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSksdGhpcy5mYWlsdXJlc0J5UG9zPXQsdGhpcy5tZXNzYWdlPVkoZSx0KX1vKHopLmZyb20oRXJyb3IpLmV4dGVuZCh7c3RhY2s6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFja3x8KHRoaXMuX3N0YWNrPXRoaXMubmFtZSsiOiAiK3RoaXMubWVzc2FnZStMKHRoaXMuX2UsMikpfX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKyI6ICIrdGhpcy5tZXNzYWdlfX0pLG8oRykuZnJvbSh6KSxvKEgpLmZyb20oeik7dmFyIFE9ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT10KyJFcnJvciIsZX0se30pLFg9eixKPWUucmVkdWNlKGZ1bmN0aW9uKGUsbil7dmFyIHI9bisiRXJyb3IiO2Z1bmN0aW9uIHQoZSx0KXt0aGlzLl9lPVUoKSx0aGlzLm5hbWU9cixlPyJzdHJpbmciPT10eXBlb2YgZT8odGhpcy5tZXNzYWdlPWUrKHQ/IlxuICIrdDoiIiksdGhpcy5pbm5lcj10fHxudWxsKToib2JqZWN0Ij09dHlwZW9mIGUmJih0aGlzLm1lc3NhZ2U9ZS5uYW1lKyIgIitlLm1lc3NhZ2UsdGhpcy5pbm5lcj1lKToodGhpcy5tZXNzYWdlPVdbbl18fHIsdGhpcy5pbm5lcj1udWxsKX1yZXR1cm4gbyh0KS5mcm9tKFgpLGVbbl09dCxlfSx7fSk7Si5TeW50YXg9U3ludGF4RXJyb3IsSi5UeXBlPVR5cGVFcnJvcixKLlJhbmdlPVJhbmdlRXJyb3I7dmFyICQ9Vi5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0KyJFcnJvciJdPUpbdF0sZX0se30pO1Y9ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4tMT09PVsiU3ludGF4IiwiVHlwZSIsIlJhbmdlIl0uaW5kZXhPZih0KSYmKGVbdCsiRXJyb3IiXT1KW3RdKSxlfSx7fSk7ZnVuY3Rpb24gWigpe31mdW5jdGlvbiBlZShlKXtyZXR1cm4gZX1mdW5jdGlvbiB0ZSh0LG4pe3JldHVybiBudWxsPT10fHx0PT09ZWU/bjpmdW5jdGlvbihlKXtyZXR1cm4gbih0KGUpKX19ZnVuY3Rpb24gbmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gcmUoaSxvKXtyZXR1cm4gaT09PVo/bzpmdW5jdGlvbigpe3ZhciBlPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZvaWQgMCE9PWUmJihhcmd1bWVudHNbMF09ZSk7dmFyIHQ9dGhpcy5vbnN1Y2Nlc3Msbj10aGlzLm9uZXJyb3I7dGhpcy5vbnN1Y2Nlc3M9bnVsbCx0aGlzLm9uZXJyb3I9bnVsbDt2YXIgcj1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdCYmKHRoaXMub25zdWNjZXNzPXRoaXMub25zdWNjZXNzP25lKHQsdGhpcy5vbnN1Y2Nlc3MpOnQpLG4mJih0aGlzLm9uZXJyb3I9dGhpcy5vbmVycm9yP25lKG4sdGhpcy5vbmVycm9yKTpuKSx2b2lkIDAhPT1yP3I6ZX19ZnVuY3Rpb24gaWUobixyKXtyZXR1cm4gbj09PVo/cjpmdW5jdGlvbigpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMub25zdWNjZXNzLHQ9dGhpcy5vbmVycm9yO3RoaXMub25zdWNjZXNzPXRoaXMub25lcnJvcj1udWxsLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUmJih0aGlzLm9uc3VjY2Vzcz10aGlzLm9uc3VjY2Vzcz9uZShlLHRoaXMub25zdWNjZXNzKTplKSx0JiYodGhpcy5vbmVycm9yPXRoaXMub25lcnJvcj9uZSh0LHRoaXMub25lcnJvcik6dCl9fWZ1bmN0aW9uIG9lKGksbyl7cmV0dXJuIGk9PT1aP286ZnVuY3Rpb24oZSl7dmFyIHQ9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dShlLHQpO3ZhciBuPXRoaXMub25zdWNjZXNzLHI9dGhpcy5vbmVycm9yO3RoaXMub25zdWNjZXNzPW51bGwsdGhpcy5vbmVycm9yPW51bGw7ZT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbiYmKHRoaXMub25zdWNjZXNzPXRoaXMub25zdWNjZXNzP25lKG4sdGhpcy5vbnN1Y2Nlc3MpOm4pLHImJih0aGlzLm9uZXJyb3I9dGhpcy5vbmVycm9yP25lKHIsdGhpcy5vbmVycm9yKTpyKSx2b2lkIDA9PT10P3ZvaWQgMD09PWU/dm9pZCAwOmU6dSh0LGUpfX1mdW5jdGlvbiBhZShlLHQpe3JldHVybiBlPT09Wj90OmZ1bmN0aW9uKCl7cmV0dXJuITEhPT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHVlKGksbyl7cmV0dXJuIGk9PT1aP286ZnVuY3Rpb24oKXt2YXIgZT1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS50aGVuKXtmb3IodmFyIHQ9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobik7bi0tOylyW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkodCxyKX0pfXJldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19Vi5Nb2RpZnlFcnJvcj1HLFYuRGV4aWVFcnJvcj16LFYuQnVsa0Vycm9yPUg7dmFyIHNlPXt9LGNlPTEwMCxsZT0xMDAsZT0idW5kZWZpbmVkIj09dHlwZW9mIFByb21pc2U/W106ZnVuY3Rpb24oKXt2YXIgZT1Qcm9taXNlLnJlc29sdmUoKTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGNyeXB0b3x8IWNyeXB0by5zdWJ0bGUpcmV0dXJuW2UscyhlKSxlXTt2YXIgdD1jcnlwdG8uc3VidGxlLmRpZ2VzdCgiU0hBLTUxMiIsbmV3IFVpbnQ4QXJyYXkoWzBdKSk7cmV0dXJuW3Qscyh0KSxlXX0oKSxmZT1lWzBdLGhlPWVbMV0sZGU9ZVsyXSxwZT1oZSYmaGUudGhlbix5ZT1mZSYmZmUuY29uc3RydWN0b3IsdmU9ISFkZSxtZT0hMSxnZT1kZT9mdW5jdGlvbigpe2RlLnRoZW4oTmUpfTpoLnNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGUuYmluZChudWxsLE5lKTpoLk11dGF0aW9uT2JzZXJ2ZXI/ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe05lKCksZT1udWxsfSkub2JzZXJ2ZShlLHthdHRyaWJ1dGVzOiEwfSksZS5zZXRBdHRyaWJ1dGUoImkiLCIxIil9OmZ1bmN0aW9uKCl7c2V0VGltZW91dChOZSwwKX0sYmU9ZnVuY3Rpb24oZSx0KXtTZS5wdXNoKFtlLHRdKSx3ZSYmKGdlKCksd2U9ITEpfSxfZT0hMCx3ZT0hMCx4ZT1bXSxrZT1bXSxFZT1udWxsLFBlPWVlLEtlPXtpZDoiZ2xvYmFsIixnbG9iYWw6ITAscmVmOjAsdW5oYW5kbGVkczpbXSxvbnVuaGFuZGxlZDpjdCxwZ3A6ITEsZW52Ont9LGZpbmFsaXplOmZ1bmN0aW9uKCl7dGhpcy51bmhhbmRsZWRzLmZvckVhY2goZnVuY3Rpb24oZSl7dHJ5e2N0KGVbMF0sZVsxXSl9Y2F0Y2goZSl7fX0pfX0sT2U9S2UsU2U9W10sQWU9MCxDZT1bXTtmdW5jdGlvbiBqZShlKXtpZigib2JqZWN0IiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Iik7dGhpcy5fbGlzdGVuZXJzPVtdLHRoaXMub251bmNhdGNoZWQ9Wix0aGlzLl9saWI9ITE7dmFyIHQ9dGhpcy5fUFNEPU9lO2lmKEYmJih0aGlzLl9zdGFja0hvbGRlcj1VKCksdGhpcy5fcHJldj1udWxsLHRoaXMuX251bVByZXY9MCksImZ1bmN0aW9uIiE9dHlwZW9mIGUpe2lmKGUhPT1zZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJOb3QgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzLl9zdGF0ZT1hcmd1bWVudHNbMV0sdGhpcy5fdmFsdWU9YXJndW1lbnRzWzJdLHZvaWQoITE9PT10aGlzLl9zdGF0ZSYmQmUodGhpcyx0aGlzLl92YWx1ZSkpfXRoaXMuX3N0YXRlPW51bGwsdGhpcy5fdmFsdWU9bnVsbCwrK3QucmVmLGZ1bmN0aW9uIHQocixlKXt0cnl7ZShmdW5jdGlvbihuKXtpZihudWxsPT09ci5fc3RhdGUpe2lmKG49PT1yKXRocm93IG5ldyBUeXBlRXJyb3IoIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuIik7dmFyIGU9ci5fbGliJiZxZSgpO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBuLnRoZW4/dChyLGZ1bmN0aW9uKGUsdCl7biBpbnN0YW5jZW9mIGplP24uX3RoZW4oZSx0KTpuLnRoZW4oZSx0KX0pOihyLl9zdGF0ZT0hMCxyLl92YWx1ZT1uLFRlKHIpKSxlJiZVZSgpfX0sQmUuYmluZChudWxsLHIpKX1jYXRjaChlKXtCZShyLGUpfX0odGhpcyxlKX12YXIgRGU9e2dldDpmdW5jdGlvbigpe3ZhciB1PU9lLHQ9UWU7ZnVuY3Rpb24gZShuLHIpe3ZhciBpPXRoaXMsbz0hdS5nbG9iYWwmJih1IT09T2V8fHQhPT1RZSksYT1vJiYhWmUoKSxlPW5ldyBqZShmdW5jdGlvbihlLHQpe1JlKGksbmV3IEllKGF0KG4sdSxvLGEpLGF0KHIsdSxvLGEpLGUsdCx1KSl9KTtyZXR1cm4gRiYmTWUoZSx0aGlzKSxlfXJldHVybiBlLnByb3RvdHlwZT1zZSxlfSxzZXQ6ZnVuY3Rpb24oZSl7Yyh0aGlzLCJ0aGVuIixlJiZlLnByb3RvdHlwZT09PXNlP0RlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2V0OkRlLnNldH0pfX07ZnVuY3Rpb24gSWUoZSx0LG4scixpKXt0aGlzLm9uRnVsZmlsbGVkPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLm9uUmVqZWN0ZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMucmVzb2x2ZT1uLHRoaXMucmVqZWN0PXIsdGhpcy5wc2Q9aX1mdW5jdGlvbiBCZSh0LG4pe3ZhciBlLHI7a2UucHVzaChuKSxudWxsPT09dC5fc3RhdGUmJihlPXQuX2xpYiYmcWUoKSxuPVBlKG4pLHQuX3N0YXRlPSExLHQuX3ZhbHVlPW4sRiYmbnVsbCE9PW4mJiJvYmplY3QiPT10eXBlb2YgbiYmIW4uX3Byb21pc2UmJmZ1bmN0aW9uKGUsdCxuKXt0cnl7ZS5hcHBseShudWxsLG4pfWNhdGNoKGUpe3QmJnQoZSl9fShmdW5jdGlvbigpe3ZhciBlPWYobiwic3RhY2siKTtuLl9wcm9taXNlPXQsYyhuLCJzdGFjayIse2dldDpmdW5jdGlvbigpe3JldHVybiBtZT9lJiYoZS5nZXQ/ZS5nZXQuYXBwbHkobik6ZS52YWx1ZSk6dC5zdGFja319KX0pLHI9dCx4ZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLl92YWx1ZT09PXIuX3ZhbHVlfSl8fHhlLnB1c2gociksVGUodCksZSYmVWUoKSl9ZnVuY3Rpb24gVGUoZSl7dmFyIHQ9ZS5fbGlzdGVuZXJzO2UuX2xpc3RlbmVycz1bXTtmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjsrK24pUmUoZSx0W25dKTt2YXIgaT1lLl9QU0Q7LS1pLnJlZnx8aS5maW5hbGl6ZSgpLDA9PT1BZSYmKCsrQWUsYmUoZnVuY3Rpb24oKXswPT0tLUFlJiZMZSgpfSxbXSkpfWZ1bmN0aW9uIFJlKGUsdCl7aWYobnVsbCE9PWUuX3N0YXRlKXt2YXIgbj1lLl9zdGF0ZT90Lm9uRnVsZmlsbGVkOnQub25SZWplY3RlZDtpZihudWxsPT09bilyZXR1cm4oZS5fc3RhdGU/dC5yZXNvbHZlOnQucmVqZWN0KShlLl92YWx1ZSk7Kyt0LnBzZC5yZWYsKytBZSxiZShGZSxbbixlLHRdKX1lbHNlIGUuX2xpc3RlbmVycy5wdXNoKHQpfWZ1bmN0aW9uIEZlKGUsdCxuKXt0cnl7dmFyIHIsaT0oRWU9dCkuX3ZhbHVlO3QuX3N0YXRlP3I9ZShpKTooa2UubGVuZ3RoJiYoa2U9W10pLHI9ZShpKSwtMT09PWtlLmluZGV4T2YoaSkmJmZ1bmN0aW9uKGUpe3ZhciB0PXhlLmxlbmd0aDtmb3IoO3Q7KWlmKHhlWy0tdF0uX3ZhbHVlPT09ZS5fdmFsdWUpcmV0dXJuIHhlLnNwbGljZSh0LDEpfSh0KSksbi5yZXNvbHZlKHIpfWNhdGNoKGUpe24ucmVqZWN0KGUpfWZpbmFsbHl7RWU9bnVsbCwwPT0tLUFlJiZMZSgpLC0tbi5wc2QucmVmfHxuLnBzZC5maW5hbGl6ZSgpfX1mdW5jdGlvbiBNZShlLHQpe3ZhciBuPXQ/dC5fbnVtUHJldisxOjA7bjxjZSYmKGUuX3ByZXY9dCxlLl9udW1QcmV2PW4pfWZ1bmN0aW9uIE5lKCl7cWUoKSYmVWUoKX1mdW5jdGlvbiBxZSgpe3ZhciBlPV9lO3JldHVybiB3ZT1fZT0hMSxlfWZ1bmN0aW9uIFVlKCl7dmFyIGUsdCxuO2Rve2Zvcig7MDxTZS5sZW5ndGg7KWZvcihlPVNlLFNlPVtdLG49ZS5sZW5ndGgsdD0wO3Q8bjsrK3Qpe3ZhciByPWVbdF07clswXS5hcHBseShudWxsLHJbMV0pfX13aGlsZSgwPFNlLmxlbmd0aCk7d2U9X2U9ITB9ZnVuY3Rpb24gTGUoKXt2YXIgZT14ZTt4ZT1bXSxlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5fUFNELm9udW5oYW5kbGVkLmNhbGwobnVsbCxlLl92YWx1ZSxlKX0pO2Zvcih2YXIgdD1DZS5zbGljZSgwKSxuPXQubGVuZ3RoO247KXRbLS1uXSgpfWZ1bmN0aW9uIFZlKGUpe3JldHVybiBuZXcgamUoc2UsITEsZSl9ZnVuY3Rpb24gV2UobixyKXt2YXIgaT1PZTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1xZSgpLHQ9T2U7dHJ5e3JldHVybiBudChpLCEwKSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChlKXtyJiZyKGUpfWZpbmFsbHl7bnQodCwhMSksZSYmVWUoKX19fXIoamUucHJvdG90eXBlLHt0aGVuOkRlLF90aGVuOmZ1bmN0aW9uKGUsdCl7UmUodGhpcyxuZXcgSWUobnVsbCxudWxsLGUsdCxPZSkpfSxjYXRjaDpmdW5jdGlvbihlKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy50aGVuKG51bGwsZSk7dmFyIHQ9ZSxuPWFyZ3VtZW50c1sxXTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD90aGlzLnRoZW4obnVsbCxmdW5jdGlvbihlKXtyZXR1cm4oZSBpbnN0YW5jZW9mIHQ/bjpWZSkoZSl9KTp0aGlzLnRoZW4obnVsbCxmdW5jdGlvbihlKXtyZXR1cm4oZSYmZS5uYW1lPT09dD9uOlZlKShlKX0pfSxmaW5hbGx5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQoKSxlfSxmdW5jdGlvbihlKXtyZXR1cm4gdCgpLFZlKGUpfSl9LHN0YWNrOntnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9zdGFjaylyZXR1cm4gdGhpcy5fc3RhY2s7dHJ5e21lPSEwO3ZhciBlPWZ1bmN0aW9uIGUodCxuLHIpe2lmKG4ubGVuZ3RoPT09cilyZXR1cm4gbjt2YXIgaT0iIjt7dmFyIG8sYSx1OyExPT09dC5fc3RhdGUmJihudWxsIT0obz10Ll92YWx1ZSk/KGE9by5uYW1lfHwiRXJyb3IiLHU9by5tZXNzYWdlfHxvLGk9TChvLDApKTooYT1vLHU9IiIpLG4ucHVzaChhKyh1PyI6ICIrdToiIikraSkpfUYmJigoaT1MKHQuX3N0YWNrSG9sZGVyLDIpKSYmLTE9PT1uLmluZGV4T2YoaSkmJm4ucHVzaChpKSx0Ll9wcmV2JiZlKHQuX3ByZXYsbixyKSk7cmV0dXJuIG59KHRoaXMsW10sMjApLmpvaW4oIlxuRnJvbSBwcmV2aW91czogIik7cmV0dXJuIG51bGwhPT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YWNrPWUpLGV9ZmluYWxseXttZT0hMX19fSx0aW1lb3V0OmZ1bmN0aW9uKHIsaSl7dmFyIG89dGhpcztyZXR1cm4gcjwxLzA/bmV3IGplKGZ1bmN0aW9uKGUsdCl7dmFyIG49c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0KG5ldyBKLlRpbWVvdXQoaSkpfSxyKTtvLnRoZW4oZSx0KS5maW5hbGx5KGNsZWFyVGltZW91dC5iaW5kKG51bGwsbikpfSk6dGhpc319KSwidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZjKGplLnByb3RvdHlwZSxTeW1ib2wudG9TdHJpbmdUYWcsIkRleGllLlByb21pc2UiKSxLZS5lbnY9cnQoKSxyKGplLHthbGw6ZnVuY3Rpb24oKXt2YXIgbz1ULmFwcGx5KG51bGwsYXJndW1lbnRzKS5tYXAoZXQpO3JldHVybiBuZXcgamUoZnVuY3Rpb24obixyKXswPT09by5sZW5ndGgmJm4oW10pO3ZhciBpPW8ubGVuZ3RoO28uZm9yRWFjaChmdW5jdGlvbihlLHQpe3JldHVybiBqZS5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7b1t0XT1lLC0taXx8bihvKX0scil9KX0pfSxyZXNvbHZlOmZ1bmN0aW9uKG4pe2lmKG4gaW5zdGFuY2VvZiBqZSlyZXR1cm4gbjtpZihuJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi50aGVuKXJldHVybiBuZXcgamUoZnVuY3Rpb24oZSx0KXtuLnRoZW4oZSx0KX0pO3ZhciBlPW5ldyBqZShzZSwhMCxuKTtyZXR1cm4gTWUoZSxFZSksZX0scmVqZWN0OlZlLHJhY2U6ZnVuY3Rpb24oKXt2YXIgZT1ULmFwcGx5KG51bGwsYXJndW1lbnRzKS5tYXAoZXQpO3JldHVybiBuZXcgamUoZnVuY3Rpb24odCxuKXtlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gamUucmVzb2x2ZShlKS50aGVuKHQsbil9KX0pfSxQU0Q6e2dldDpmdW5jdGlvbigpe3JldHVybiBPZX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiBPZT1lfX0sdG90YWxFY2hvZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBRZX19LG5ld1BTRDpKZSx1c2VQU0Q6aXQsc2NoZWR1bGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYmV9LHNldDpmdW5jdGlvbihlKXtiZT1lfX0scmVqZWN0aW9uTWFwcGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUGV9LHNldDpmdW5jdGlvbihlKXtQZT1lfX0sZm9sbG93OmZ1bmN0aW9uKGksbil7cmV0dXJuIG5ldyBqZShmdW5jdGlvbihlLHQpe3JldHVybiBKZShmdW5jdGlvbihuLHIpe3ZhciBlPU9lO2UudW5oYW5kbGVkcz1bXSxlLm9udW5oYW5kbGVkPXIsZS5maW5hbGl6ZT1uZShmdW5jdGlvbigpe3ZhciB0LGU9dGhpczt0PWZ1bmN0aW9uKCl7MD09PWUudW5oYW5kbGVkcy5sZW5ndGg/bigpOnIoZS51bmhhbmRsZWRzWzBdKX0sQ2UucHVzaChmdW5jdGlvbiBlKCl7dCgpLENlLnNwbGljZShDZS5pbmRleE9mKGUpLDEpfSksKytBZSxiZShmdW5jdGlvbigpezA9PS0tQWUmJkxlKCl9LFtdKX0sZS5maW5hbGl6ZSksaSgpfSxuLGUsdCl9KX19KSx5ZSYmKHllLmFsbFNldHRsZWQmJmMoamUsImFsbFNldHRsZWQiLGZ1bmN0aW9uKCl7dmFyIGU9VC5hcHBseShudWxsLGFyZ3VtZW50cykubWFwKGV0KTtyZXR1cm4gbmV3IGplKGZ1bmN0aW9uKG4pezA9PT1lLmxlbmd0aCYmbihbXSk7dmFyIHI9ZS5sZW5ndGgsaT1uZXcgQXJyYXkocik7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGplLnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaVt0XT17c3RhdHVzOiJmdWxmaWxsZWQiLHZhbHVlOmV9fSxmdW5jdGlvbihlKXtyZXR1cm4gaVt0XT17c3RhdHVzOiJyZWplY3RlZCIscmVhc29uOmV9fSkudGhlbihmdW5jdGlvbigpe3JldHVybi0tcnx8bihpKX0pfSl9KX0pLHllLmFueSYmInVuZGVmaW5lZCIhPXR5cGVvZiBBZ2dyZWdhdGVFcnJvciYmYyhqZSwiYW55IixmdW5jdGlvbigpe3ZhciBlPVQuYXBwbHkobnVsbCxhcmd1bWVudHMpLm1hcChldCk7cmV0dXJuIG5ldyBqZShmdW5jdGlvbihuLHIpezA9PT1lLmxlbmd0aCYmcihuZXcgQWdncmVnYXRlRXJyb3IoW10pKTt2YXIgaT1lLmxlbmd0aCxvPW5ldyBBcnJheShpKTtlLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyZXR1cm4gamUucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSxmdW5jdGlvbihlKXtvW3RdPWUsLS1pfHxyKG5ldyBBZ2dyZWdhdGVFcnJvcihvKSl9KX0pfSl9KSk7dmFyIHplPXthd2FpdHM6MCxlY2hvZXM6MCxpZDowfSxZZT0wLEdlPVtdLEhlPTAsUWU9MCxYZT0wO2Z1bmN0aW9uIEplKGUsdCxuLHIpe3ZhciBpPU9lLG89T2JqZWN0LmNyZWF0ZShpKTtvLnBhcmVudD1pLG8ucmVmPTAsby5nbG9iYWw9ITEsby5pZD0rK1hlO3ZhciBhPUtlLmVudjtvLmVudj12ZT97UHJvbWlzZTpqZSxQcm9taXNlUHJvcDp7dmFsdWU6amUsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSxhbGw6amUuYWxsLHJhY2U6amUucmFjZSxhbGxTZXR0bGVkOmplLmFsbFNldHRsZWQsYW55OmplLmFueSxyZXNvbHZlOmplLnJlc29sdmUscmVqZWN0OmplLnJlamVjdCxudGhlbjp1dChhLm50aGVuLG8pLGd0aGVuOnV0KGEuZ3RoZW4sbyl9Ont9LHQmJnUobyx0KSwrK2kucmVmLG8uZmluYWxpemU9ZnVuY3Rpb24oKXstLXRoaXMucGFyZW50LnJlZnx8dGhpcy5wYXJlbnQuZmluYWxpemUoKX07cj1pdChvLGUsbixyKTtyZXR1cm4gMD09PW8ucmVmJiZvLmZpbmFsaXplKCkscn1mdW5jdGlvbiAkZSgpe3JldHVybiB6ZS5pZHx8KHplLmlkPSsrWWUpLCsremUuYXdhaXRzLHplLmVjaG9lcys9bGUsemUuaWR9ZnVuY3Rpb24gWmUoKXtyZXR1cm4hIXplLmF3YWl0cyYmKDA9PS0temUuYXdhaXRzJiYoemUuaWQ9MCksemUuZWNob2VzPXplLmF3YWl0cypsZSwhMCl9ZnVuY3Rpb24gZXQoZSl7cmV0dXJuIHplLmVjaG9lcyYmZSYmZS5jb25zdHJ1Y3Rvcj09PXllPygkZSgpLGUudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gWmUoKSxlfSxmdW5jdGlvbihlKXtyZXR1cm4gWmUoKSxsdChlKX0pKTplfWZ1bmN0aW9uIHR0KCl7dmFyIGU9R2VbR2UubGVuZ3RoLTFdO0dlLnBvcCgpLG50KGUsITEpfWZ1bmN0aW9uIG50KGUsdCl7dmFyIG4scj1PZTsodD8hemUuZWNob2VzfHxIZSsrJiZlPT09T2U6IUhlfHwtLUhlJiZlPT09T2UpfHxvdCh0P2Z1bmN0aW9uKGUpeysrUWUsemUuZWNob2VzJiYwIT0tLXplLmVjaG9lc3x8KHplLmVjaG9lcz16ZS5pZD0wKSxHZS5wdXNoKE9lKSxudChlLCEwKX0uYmluZChudWxsLGUpOnR0KSxlIT09T2UmJihPZT1lLHI9PT1LZSYmKEtlLmVudj1ydCgpKSx2ZSYmKG49S2UuZW52LlByb21pc2UsdD1lLmVudixoZS50aGVuPXQubnRoZW4sbi5wcm90b3R5cGUudGhlbj10Lmd0aGVuLChyLmdsb2JhbHx8ZS5nbG9iYWwpJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGgsIlByb21pc2UiLHQuUHJvbWlzZVByb3ApLG4uYWxsPXQuYWxsLG4ucmFjZT10LnJhY2Usbi5yZXNvbHZlPXQucmVzb2x2ZSxuLnJlamVjdD10LnJlamVjdCx0LmFsbFNldHRsZWQmJihuLmFsbFNldHRsZWQ9dC5hbGxTZXR0bGVkKSx0LmFueSYmKG4uYW55PXQuYW55KSkpKX1mdW5jdGlvbiBydCgpe3ZhciBlPWguUHJvbWlzZTtyZXR1cm4gdmU/e1Byb21pc2U6ZSxQcm9taXNlUHJvcDpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGgsIlByb21pc2UiKSxhbGw6ZS5hbGwscmFjZTplLnJhY2UsYWxsU2V0dGxlZDplLmFsbFNldHRsZWQsYW55OmUuYW55LHJlc29sdmU6ZS5yZXNvbHZlLHJlamVjdDplLnJlamVjdCxudGhlbjpoZS50aGVuLGd0aGVuOmUucHJvdG90eXBlLnRoZW59Ont9fWZ1bmN0aW9uIGl0KGUsdCxuLHIsaSl7dmFyIG89T2U7dHJ5e3JldHVybiBudChlLCEwKSx0KG4scixpKX1maW5hbGx5e250KG8sITEpfX1mdW5jdGlvbiBvdChlKXtwZS5jYWxsKGZlLGUpfWZ1bmN0aW9uIGF0KHQsbixyLGkpe3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiB0P3Q6ZnVuY3Rpb24oKXt2YXIgZT1PZTtyJiYkZSgpLG50KG4sITApO3RyeXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtudChlLCExKSxpJiZvdChaZSl9fX1mdW5jdGlvbiB1dChuLHIpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwodGhpcyxhdChlLHIpLGF0KHQscikpfX0tMT09PSgiIitwZSkuaW5kZXhPZigiW25hdGl2ZSBjb2RlXSIpJiYoJGU9WmU9Wik7dmFyIHN0PSJ1bmhhbmRsZWRyZWplY3Rpb24iO2Z1bmN0aW9uIGN0KGUsdCl7dmFyIG47dHJ5e249dC5vbnVuY2F0Y2hlZChlKX1jYXRjaChlKXt9aWYoITEhPT1uKXRyeXt2YXIgcixpPXtwcm9taXNlOnQscmVhc29uOmV9O2lmKGguZG9jdW1lbnQmJmRvY3VtZW50LmNyZWF0ZUV2ZW50Pygocj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSkuaW5pdEV2ZW50KHN0LCEwLCEwKSx1KHIsaSkpOmguQ3VzdG9tRXZlbnQmJnUocj1uZXcgQ3VzdG9tRXZlbnQoc3Qse2RldGFpbDppfSksaSksciYmaC5kaXNwYXRjaEV2ZW50JiYoZGlzcGF0Y2hFdmVudChyKSwhaC5Qcm9taXNlUmVqZWN0aW9uRXZlbnQmJmgub251bmhhbmRsZWRyZWplY3Rpb24pKXRyeXtoLm9udW5oYW5kbGVkcmVqZWN0aW9uKHIpfWNhdGNoKGUpe31GJiZyJiYhci5kZWZhdWx0UHJldmVudGVkJiZjb25zb2xlLndhcm4oIlVuaGFuZGxlZCByZWplY3Rpb246ICIrKGUuc3RhY2t8fGUpKX1jYXRjaChlKXt9fXZhciBsdD1qZS5yZWplY3Q7ZnVuY3Rpb24gZnQoZSl7cmV0dXJuIS8oZGV4aWVcLmpzfGRleGllXC5taW5cLmpzKS8udGVzdChlKX12YXIgaHQ9U3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNSksZHQ9IkludmFsaWQga2V5IHByb3ZpZGVkLiBLZXlzIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgRGF0ZSBvciBBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBEYXRlPi4iLHB0PSJTdHJpbmcgZXhwZWN0ZWQuIix5dD1bXSx2dD0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmLyhNU0lFfFRyaWRlbnR8RWRnZSkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbXQ9dnQsZ3Q9dnQsYnQ9Il9fZGJuYW1lcyIsX3Q9InJlYWRvbmx5Iix3dD0icmVhZHdyaXRlIjtmdW5jdGlvbiB4dChlLHQpe3JldHVybiBlP3Q/ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTplOnR9dmFyIGt0PXt0eXBlOjMsbG93ZXI6LTEvMCxsb3dlck9wZW46ITEsdXBwZXI6W1tdXSx1cHBlck9wZW46ITF9O2Z1bmN0aW9uIEV0KHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgdHx8L1wuLy50ZXN0KHQpP2Z1bmN0aW9uKGUpe3JldHVybiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZVt0XSYmdCBpbiBlJiZkZWxldGUoZT1BKGUpKVt0XSxlfX12YXIgUHQ9KEt0LnByb3RvdHlwZS5fdHJhbnM9ZnVuY3Rpb24oZSxyLHQpe3ZhciBuPXRoaXMuX3R4fHxPZS50cmFucyxpPXRoaXMubmFtZTtmdW5jdGlvbiBvKGUsdCxuKXtpZighbi5zY2hlbWFbaV0pdGhyb3cgbmV3IEouTm90Rm91bmQoIlRhYmxlICIraSsiIG5vdCBwYXJ0IG9mIHRyYW5zYWN0aW9uIik7cmV0dXJuIHIobi5pZGJ0cmFucyxuKX12YXIgYT1xZSgpO3RyeXtyZXR1cm4gbiYmbi5kYj09PXRoaXMuZGI/bj09PU9lLnRyYW5zP24uX3Byb21pc2UoZSxvLHQpOkplKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3Byb21pc2UoZSxvLHQpfSx7dHJhbnM6bix0cmFuc2xlc3M6T2UudHJhbnNsZXNzfHxPZX0pOmZ1bmN0aW9uIHQobixyLGksbyl7aWYobi5pZGJkYiYmKG4uX3N0YXRlLm9wZW5Db21wbGV0ZXx8T2UubGV0VGhyb3VnaHx8bi5fdmlwKSl7dmFyIGE9bi5fY3JlYXRlVHJhbnNhY3Rpb24ocixpLG4uX2RiU2NoZW1hKTt0cnl7YS5jcmVhdGUoKSxuLl9zdGF0ZS5QUjEzOThfbWF4TG9vcD0zfWNhdGNoKGUpe3JldHVybiBlLm5hbWU9PT1RLkludmFsaWRTdGF0ZSYmbi5pc09wZW4oKSYmMDwtLW4uX3N0YXRlLlBSMTM5OF9tYXhMb29wPyhjb25zb2xlLndhcm4oIkRleGllOiBOZWVkIHRvIHJlb3BlbiBkYiIpLG4uX2Nsb3NlKCksbi5vcGVuKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0KG4scixpLG8pfSkpOmx0KGUpfXJldHVybiBhLl9wcm9taXNlKHIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gSmUoZnVuY3Rpb24oKXtyZXR1cm4gT2UudHJhbnM9YSxvKGUsdCxhKX0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYS5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0pfWlmKG4uX3N0YXRlLm9wZW5Db21wbGV0ZSlyZXR1cm4gbHQobmV3IEouRGF0YWJhc2VDbG9zZWQobi5fc3RhdGUuZGJPcGVuRXJyb3IpKTtpZighbi5fc3RhdGUuaXNCZWluZ09wZW5lZCl7aWYoIW4uX29wdGlvbnMuYXV0b09wZW4pcmV0dXJuIGx0KG5ldyBKLkRhdGFiYXNlQ2xvc2VkKTtuLm9wZW4oKS5jYXRjaChaKX1yZXR1cm4gbi5fc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihmdW5jdGlvbigpe3JldHVybiB0KG4scixpLG8pfSl9KHRoaXMuZGIsZSxbdGhpcy5uYW1lXSxvKX1maW5hbGx5e2EmJlVlKCl9fSxLdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdCYmdC5jb25zdHJ1Y3Rvcj09PU9iamVjdD90aGlzLndoZXJlKHQpLmZpcnN0KGUpOnRoaXMuX3RyYW5zKCJyZWFkb25seSIsZnVuY3Rpb24oZSl7cmV0dXJuIG4uY29yZS5nZXQoe3RyYW5zOmUsa2V5OnR9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLmhvb2sucmVhZGluZy5maXJlKGUpfSl9KS50aGVuKGUpfSxLdC5wcm90b3R5cGUud2hlcmU9ZnVuY3Rpb24obyl7aWYoInN0cmluZyI9PXR5cGVvZiBvKXJldHVybiBuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzLG8pO2lmKGIobykpcmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMsIlsiK28uam9pbigiKyIpKyJdIik7dmFyIG49eChvKTtpZigxPT09bi5sZW5ndGgpcmV0dXJuIHRoaXMud2hlcmUoblswXSkuZXF1YWxzKG9bblswXV0pO3ZhciBlPXRoaXMuc2NoZW1hLmluZGV4ZXMuY29uY2F0KHRoaXMuc2NoZW1hLnByaW1LZXkpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21wb3VuZCYmbi5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gMDw9dC5rZXlQYXRoLmluZGV4T2YoZSl9KSYmdC5rZXlQYXRoLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiAwPD1uLmluZGV4T2YoZSl9KX0pWzBdO2lmKGUmJnRoaXMuZGIuX21heEtleSE9PWh0KXJldHVybiB0aGlzLndoZXJlKGUubmFtZSkuZXF1YWxzKGUua2V5UGF0aC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV19KSk7IWUmJkYmJmNvbnNvbGUud2FybigiVGhlIHF1ZXJ5ICIrSlNPTi5zdHJpbmdpZnkobykrIiBvbiAiK3RoaXMubmFtZSsiIHdvdWxkIGJlbmVmaXQgb2YgYSBjb21wb3VuZCBpbmRleCBbIituLmpvaW4oIisiKSsiXSIpO3ZhciBhPXRoaXMuc2NoZW1hLmlkeEJ5TmFtZSxyPXRoaXMuZGIuX2RlcHMuaW5kZXhlZERCO2Z1bmN0aW9uIHUoZSx0KXt0cnl7cmV0dXJuIDA9PT1yLmNtcChlLHQpfWNhdGNoKGUpe3JldHVybiExfX12YXIgdD1uLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPWVbMF0scj1lWzFdLGU9YVt0XSxpPW9bdF07cmV0dXJuW258fGUsbnx8IWU/eHQocixlJiZlLm11bHRpP2Z1bmN0aW9uKGUpe2U9ayhlLHQpO3JldHVybiBiKGUpJiZlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHUoaSxlKX0pfTpmdW5jdGlvbihlKXtyZXR1cm4gdShpLGsoZSx0KSl9KTpyXX0sW251bGwsbnVsbF0pLGk9dFswXSx0PXRbMV07cmV0dXJuIGk/dGhpcy53aGVyZShpLm5hbWUpLmVxdWFscyhvW2kua2V5UGF0aF0pLmZpbHRlcih0KTplP3RoaXMuZmlsdGVyKHQpOnRoaXMud2hlcmUobikuZXF1YWxzKCIiKX0sS3QucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5hbmQoZSl9LEt0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5jb3VudChlKX0sS3QucHJvdG90eXBlLm9mZnNldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5vZmZzZXQoZSl9LEt0LnByb3RvdHlwZS5saW1pdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5saW1pdChlKX0sS3QucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuZWFjaChlKX0sS3QucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkudG9BcnJheShlKX0sS3QucHJvdG90eXBlLnRvQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5kYi5Db2xsZWN0aW9uKG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMpKX0sS3QucHJvdG90eXBlLm9yZGVyQnk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmRiLkNvbGxlY3Rpb24obmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcyxiKGUpPyJbIitlLmpvaW4oIisiKSsiXSI6ZSkpfSxLdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLnJldmVyc2UoKX0sS3QucHJvdG90eXBlLm1hcFRvQ2xhc3M9ZnVuY3Rpb24ocil7dGhpcy5zY2hlbWEubWFwcGVkQ2xhc3M9cjtmdW5jdGlvbiBlKGUpe2lmKCFlKXJldHVybiBlO3ZhciB0LG49T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSk7Zm9yKHQgaW4gZSlpZihtKGUsdCkpdHJ5e25bdF09ZVt0XX1jYXRjaChlKXt9cmV0dXJuIG59cmV0dXJuIHRoaXMuc2NoZW1hLnJlYWRIb29rJiZ0aGlzLmhvb2sucmVhZGluZy51bnN1YnNjcmliZSh0aGlzLnNjaGVtYS5yZWFkSG9vayksdGhpcy5zY2hlbWEucmVhZEhvb2s9ZSx0aGlzLmhvb2soInJlYWRpbmciLGUpLHJ9LEt0LnByb3RvdHlwZS5kZWZpbmVDbGFzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcFRvQ2xhc3MoZnVuY3Rpb24oZSl7dSh0aGlzLGUpfSl9LEt0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLGU9dGhpcy5zY2hlbWEucHJpbUtleSxpPWUuYXV0byxvPWUua2V5UGF0aCxhPXQ7cmV0dXJuIG8mJmkmJihhPUV0KG8pKHQpKSx0aGlzLl90cmFucygicmVhZHdyaXRlIixmdW5jdGlvbihlKXtyZXR1cm4gci5jb3JlLm11dGF0ZSh7dHJhbnM6ZSx0eXBlOiJhZGQiLGtleXM6bnVsbCE9bj9bbl06bnVsbCx2YWx1ZXM6W2FdfSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLm51bUZhaWx1cmVzP2plLnJlamVjdChlLmZhaWx1cmVzWzBdKTplLmxhc3RSZXN1bHR9KS50aGVuKGZ1bmN0aW9uKGUpe2lmKG8pdHJ5e0UodCxvLGUpfWNhdGNoKGUpe31yZXR1cm4gZX0pfSxLdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPXR5cGVvZiB0fHxiKHQpKXJldHVybiB0aGlzLndoZXJlKCI6aWQiKS5lcXVhbHModCkubW9kaWZ5KG4pO3ZhciBlPWsodCx0aGlzLnNjaGVtYS5wcmltS2V5LmtleVBhdGgpO2lmKHZvaWQgMD09PWUpcmV0dXJuIGx0KG5ldyBKLkludmFsaWRBcmd1bWVudCgiR2l2ZW4gb2JqZWN0IGRvZXMgbm90IGNvbnRhaW4gaXRzIHByaW1hcnkga2V5IikpO3RyeXsiZnVuY3Rpb24iIT10eXBlb2Ygbj94KG4pLmZvckVhY2goZnVuY3Rpb24oZSl7RSh0LGUsbltlXSl9KTpuKHQse3ZhbHVlOnQscHJpbUtleTplfSl9Y2F0Y2goZSl7fXJldHVybiB0aGlzLndoZXJlKCI6aWQiKS5lcXVhbHMoZSkubW9kaWZ5KG4pfSxLdC5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcyxlPXRoaXMuc2NoZW1hLnByaW1LZXksaT1lLmF1dG8sbz1lLmtleVBhdGgsYT10O3JldHVybiBvJiZpJiYoYT1FdChvKSh0KSksdGhpcy5fdHJhbnMoInJlYWR3cml0ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIHIuY29yZS5tdXRhdGUoe3RyYW5zOmUsdHlwZToicHV0Iix2YWx1ZXM6W2FdLGtleXM6bnVsbCE9bj9bbl06bnVsbH0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5udW1GYWlsdXJlcz9qZS5yZWplY3QoZS5mYWlsdXJlc1swXSk6ZS5sYXN0UmVzdWx0fSkudGhlbihmdW5jdGlvbihlKXtpZihvKXRyeXtFKHQsbyxlKX1jYXRjaChlKXt9cmV0dXJuIGV9KX0sS3QucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl90cmFucygicmVhZHdyaXRlIixmdW5jdGlvbihlKXtyZXR1cm4gbi5jb3JlLm11dGF0ZSh7dHJhbnM6ZSx0eXBlOiJkZWxldGUiLGtleXM6W3RdfSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLm51bUZhaWx1cmVzP2plLnJlamVjdChlLmZhaWx1cmVzWzBdKTp2b2lkIDB9KX0sS3QucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fdHJhbnMoInJlYWR3cml0ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5tdXRhdGUoe3RyYW5zOmUsdHlwZToiZGVsZXRlUmFuZ2UiLHJhbmdlOmt0fSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLm51bUZhaWx1cmVzP2plLnJlamVjdChlLmZhaWx1cmVzWzBdKTp2b2lkIDB9KX0sS3QucHJvdG90eXBlLmJ1bGtHZXQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5fdHJhbnMoInJlYWRvbmx5IixmdW5jdGlvbihlKXtyZXR1cm4gbi5jb3JlLmdldE1hbnkoe2tleXM6dCx0cmFuczplfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG4uaG9vay5yZWFkaW5nLmZpcmUoZSl9KX0pfSl9LEt0LnByb3RvdHlwZS5idWxrQWRkPWZ1bmN0aW9uKHIsZSx0KXt2YXIgbz10aGlzLGE9QXJyYXkuaXNBcnJheShlKT9lOnZvaWQgMCx1PSh0PXR8fChhP3ZvaWQgMDplKSk/dC5hbGxLZXlzOnZvaWQgMDtyZXR1cm4gdGhpcy5fdHJhbnMoInJlYWR3cml0ZSIsZnVuY3Rpb24oZSl7dmFyIHQ9by5zY2hlbWEucHJpbUtleSxuPXQuYXV0byx0PXQua2V5UGF0aDtpZih0JiZhKXRocm93IG5ldyBKLkludmFsaWRBcmd1bWVudCgiYnVsa0FkZCgpOiBrZXlzIGFyZ3VtZW50IGludmFsaWQgb24gdGFibGVzIHdpdGggaW5ib3VuZCBrZXlzIik7aWYoYSYmYS5sZW5ndGghPT1yLmxlbmd0aCl0aHJvdyBuZXcgSi5JbnZhbGlkQXJndW1lbnQoIkFyZ3VtZW50cyBvYmplY3RzIGFuZCBrZXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgiKTt2YXIgaT1yLmxlbmd0aCx0PXQmJm4/ci5tYXAoRXQodCkpOnI7cmV0dXJuIG8uY29yZS5tdXRhdGUoe3RyYW5zOmUsdHlwZToiYWRkIixrZXlzOmEsdmFsdWVzOnQsd2FudFJlc3VsdHM6dX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9ZS5udW1GYWlsdXJlcyxuPWUucmVzdWx0cyxyPWUubGFzdFJlc3VsdCxlPWUuZmFpbHVyZXM7aWYoMD09PXQpcmV0dXJuIHU/bjpyO3Rocm93IG5ldyBIKG8ubmFtZSsiLmJ1bGtBZGQoKTogIit0KyIgb2YgIitpKyIgb3BlcmF0aW9ucyBmYWlsZWQiLGUpfSl9KX0sS3QucHJvdG90eXBlLmJ1bGtQdXQ9ZnVuY3Rpb24ocixlLHQpe3ZhciBvPXRoaXMsYT1BcnJheS5pc0FycmF5KGUpP2U6dm9pZCAwLHU9KHQ9dHx8KGE/dm9pZCAwOmUpKT90LmFsbEtleXM6dm9pZCAwO3JldHVybiB0aGlzLl90cmFucygicmVhZHdyaXRlIixmdW5jdGlvbihlKXt2YXIgdD1vLnNjaGVtYS5wcmltS2V5LG49dC5hdXRvLHQ9dC5rZXlQYXRoO2lmKHQmJmEpdGhyb3cgbmV3IEouSW52YWxpZEFyZ3VtZW50KCJidWxrUHV0KCk6IGtleXMgYXJndW1lbnQgaW52YWxpZCBvbiB0YWJsZXMgd2l0aCBpbmJvdW5kIGtleXMiKTtpZihhJiZhLmxlbmd0aCE9PXIubGVuZ3RoKXRocm93IG5ldyBKLkludmFsaWRBcmd1bWVudCgiQXJndW1lbnRzIG9iamVjdHMgYW5kIGtleXMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aCIpO3ZhciBpPXIubGVuZ3RoLHQ9dCYmbj9yLm1hcChFdCh0KSk6cjtyZXR1cm4gby5jb3JlLm11dGF0ZSh7dHJhbnM6ZSx0eXBlOiJwdXQiLGtleXM6YSx2YWx1ZXM6dCx3YW50UmVzdWx0czp1fSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLm51bUZhaWx1cmVzLG49ZS5yZXN1bHRzLHI9ZS5sYXN0UmVzdWx0LGU9ZS5mYWlsdXJlcztpZigwPT09dClyZXR1cm4gdT9uOnI7dGhyb3cgbmV3IEgoby5uYW1lKyIuYnVsa1B1dCgpOiAiK3QrIiBvZiAiK2krIiBvcGVyYXRpb25zIGZhaWxlZCIsZSl9KX0pfSxLdC5wcm90b3R5cGUuYnVsa0RlbGV0ZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9dC5sZW5ndGg7cmV0dXJuIHRoaXMuX3RyYW5zKCJyZWFkd3JpdGUiLGZ1bmN0aW9uKGUpe3JldHVybiByLmNvcmUubXV0YXRlKHt0cmFuczplLHR5cGU6ImRlbGV0ZSIsa2V5czp0fSl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWUubnVtRmFpbHVyZXMsbj1lLmxhc3RSZXN1bHQsZT1lLmZhaWx1cmVzO2lmKDA9PT10KXJldHVybiBuO3Rocm93IG5ldyBIKHIubmFtZSsiLmJ1bGtEZWxldGUoKTogIit0KyIgb2YgIitpKyIgb3BlcmF0aW9ucyBmYWlsZWQiLGUpfSl9LEt0KTtmdW5jdGlvbiBLdCgpe31mdW5jdGlvbiBPdChpKXtmdW5jdGlvbiB0KGUsdCl7aWYodCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobi0xKTstLW47KXJbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGFbZV0uc3Vic2NyaWJlLmFwcGx5KG51bGwsciksaX1pZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGFbZV19dmFyIGE9e307dC5hZGRFdmVudFR5cGU9dTtmb3IodmFyIGU9MSxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuOysrZSl1KGFyZ3VtZW50c1tlXSk7cmV0dXJuIHQ7ZnVuY3Rpb24gdShlLG4scil7aWYoIm9iamVjdCIhPXR5cGVvZiBlKXt2YXIgaTtuPW58fGFlO3ZhciBvPXtzdWJzY3JpYmVyczpbXSxmaXJlOnI9cnx8WixzdWJzY3JpYmU6ZnVuY3Rpb24oZSl7LTE9PT1vLnN1YnNjcmliZXJzLmluZGV4T2YoZSkmJihvLnN1YnNjcmliZXJzLnB1c2goZSksby5maXJlPW4oby5maXJlLGUpKX0sdW5zdWJzY3JpYmU6ZnVuY3Rpb24odCl7by5zdWJzY3JpYmVycz1vLnN1YnNjcmliZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSxvLmZpcmU9by5zdWJzY3JpYmVycy5yZWR1Y2UobixyKX19O3JldHVybiBhW2VdPXRbZV09b314KGk9ZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1pW2VdO2lmKGIodCkpdShlLGlbZV1bMF0saVtlXVsxXSk7ZWxzZXtpZigiYXNhcCIhPT10KXRocm93IG5ldyBKLkludmFsaWRBcmd1bWVudCgiSW52YWxpZCBldmVudCBjb25maWciKTt2YXIgbj11KGUsZWUsZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO24uc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtfKGZ1bmN0aW9uKCl7ZS5hcHBseShudWxsLHQpfSl9KX0pfX0pfX1mdW5jdGlvbiBTdChlLHQpe3JldHVybiBvKHQpLmZyb20oe3Byb3RvdHlwZTplfSksdH1mdW5jdGlvbiBBdChlLHQpe3JldHVybiEoZS5maWx0ZXJ8fGUuYWxnb3JpdGhtfHxlLm9yKSYmKHQ/ZS5qdXN0TGltaXQ6IWUucmVwbGF5RmlsdGVyKX1mdW5jdGlvbiBDdChlLHQpe2UuZmlsdGVyPXh0KGUuZmlsdGVyLHQpfWZ1bmN0aW9uIGp0KGUsdCxuKXt2YXIgcj1lLnJlcGxheUZpbHRlcjtlLnJlcGxheUZpbHRlcj1yP2Z1bmN0aW9uKCl7cmV0dXJuIHh0KHIoKSx0KCkpfTp0LGUuanVzdExpbWl0PW4mJiFyfWZ1bmN0aW9uIER0KGUsdCl7aWYoZS5pc1ByaW1LZXkpcmV0dXJuIHQucHJpbWFyeUtleTt2YXIgbj10LmdldEluZGV4QnlLZXlQYXRoKGUuaW5kZXgpO2lmKCFuKXRocm93IG5ldyBKLlNjaGVtYSgiS2V5UGF0aCAiK2UuaW5kZXgrIiBvbiBvYmplY3Qgc3RvcmUgIit0Lm5hbWUrIiBpcyBub3QgaW5kZXhlZCIpO3JldHVybiBufWZ1bmN0aW9uIEl0KGUsdCxuKXt2YXIgcj1EdChlLHQuc2NoZW1hKTtyZXR1cm4gdC5vcGVuQ3Vyc29yKHt0cmFuczpuLHZhbHVlczohZS5rZXlzT25seSxyZXZlcnNlOiJwcmV2Ij09PWUuZGlyLHVuaXF1ZTohIWUudW5pcXVlLHF1ZXJ5OntpbmRleDpyLHJhbmdlOmUucmFuZ2V9fSl9ZnVuY3Rpb24gQnQoZSxvLHQsbil7dmFyIGE9ZS5yZXBsYXlGaWx0ZXI/eHQoZS5maWx0ZXIsZS5yZXBsYXlGaWx0ZXIoKSk6ZS5maWx0ZXI7aWYoZS5vcil7dmFyIHU9e30scj1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTthJiYhYSh0LG4sZnVuY3Rpb24oZSl7cmV0dXJuIHQuc3RvcChlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmFpbChlKX0pfHwoIltvYmplY3QgQXJyYXlCdWZmZXJdIj09PShpPSIiKyhyPXQucHJpbWFyeUtleSkpJiYoaT0iIituZXcgVWludDhBcnJheShyKSksbSh1LGkpfHwodVtpXT0hMCxvKGUsdCxuKSkpfTtyZXR1cm4gUHJvbWlzZS5hbGwoW2Uub3IuX2l0ZXJhdGUocix0KSxUdChJdChlLG4sdCksZS5hbGdvcml0aG0sciwhZS5rZXlzT25seSYmZS52YWx1ZU1hcHBlcildKX1yZXR1cm4gVHQoSXQoZSxuLHQpLHh0KGUuYWxnb3JpdGhtLGEpLG8sIWUua2V5c09ubHkmJmUudmFsdWVNYXBwZXIpfWZ1bmN0aW9uIFR0KGUscixpLG8pe3ZhciBhPVdlKG8/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpKG8oZSksdCxuKX06aSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihuKXtpZihuKXJldHVybiBuLnN0YXJ0KGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jb250aW51ZSgpfTtyJiYhcihuLGZ1bmN0aW9uKGUpe3JldHVybiB0PWV9LGZ1bmN0aW9uKGUpe24uc3RvcChlKSx0PVp9LGZ1bmN0aW9uKGUpe24uZmFpbChlKSx0PVp9KXx8YShuLnZhbHVlLG4sZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZX0pLHQoKX0pfSl9ZnVuY3Rpb24gUnQoZSx0KXt0cnl7dmFyIG49RnQoZSkscj1GdCh0KTtpZihuIT09cilyZXR1cm4iQXJyYXkiPT09bj8xOiJBcnJheSI9PT1yPy0xOiJiaW5hcnkiPT09bj8xOiJiaW5hcnkiPT09cj8tMToic3RyaW5nIj09PW4/MToic3RyaW5nIj09PXI/LTE6IkRhdGUiPT09bj8xOiJEYXRlIiE9PXI/TmFOOi0xO3N3aXRjaChuKXtjYXNlIm51bWJlciI6Y2FzZSJEYXRlIjpjYXNlInN0cmluZyI6cmV0dXJuIHQ8ZT8xOmU8dD8tMTowO2Nhc2UiYmluYXJ5IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj10Lmxlbmd0aCxpPW48cj9uOnIsbz0wO288aTsrK28paWYoZVtvXSE9PXRbb10pcmV0dXJuIGVbb108dFtvXT8tMToxO3JldHVybiBuPT09cj8wOm48cj8tMToxfShNdChlKSxNdCh0KSk7Y2FzZSJBcnJheSI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9dC5sZW5ndGgsaT1uPHI/bjpyLG89MDtvPGk7KytvKXt2YXIgYT1SdChlW29dLHRbb10pO2lmKDAhPT1hKXJldHVybiBhfXJldHVybiBuPT09cj8wOm48cj8tMToxfShlLHQpfX1jYXRjaChlKXt9cmV0dXJuIE5hTn1mdW5jdGlvbiBGdChlKXt2YXIgdD10eXBlb2YgZTtpZigib2JqZWN0IiE9dClyZXR1cm4gdDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpcmV0dXJuImJpbmFyeSI7ZT1qKGUpO3JldHVybiJBcnJheUJ1ZmZlciI9PT1lPyJiaW5hcnkiOmV9ZnVuY3Rpb24gTXQoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVaW50OEFycmF5P2U6QXJyYXlCdWZmZXIuaXNWaWV3KGUpP25ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpOm5ldyBVaW50OEFycmF5KGUpfXZhciBOdD0ocXQucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fY3R4O3JldHVybiBuLmVycm9yP24udGFibGUuX3RyYW5zKG51bGwsbHQuYmluZChudWxsLG4uZXJyb3IpKTpuLnRhYmxlLl90cmFucygicmVhZG9ubHkiLGUpLnRoZW4odCl9LHF0LnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3R4O3JldHVybiB0LmVycm9yP3QudGFibGUuX3RyYW5zKG51bGwsbHQuYmluZChudWxsLHQuZXJyb3IpKTp0LnRhYmxlLl90cmFucygicmVhZHdyaXRlIixlLCJsb2NrZWQiKX0scXQucHJvdG90eXBlLl9hZGRBbGdvcml0aG09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3R4O3QuYWxnb3JpdGhtPXh0KHQuYWxnb3JpdGhtLGUpfSxxdC5wcm90b3R5cGUuX2l0ZXJhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQnQodGhpcy5fY3R4LGUsdCx0aGlzLl9jdHgudGFibGUuY29yZSl9LHF0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlKSxuPU9iamVjdC5jcmVhdGUodGhpcy5fY3R4KTtyZXR1cm4gZSYmdShuLGUpLHQuX2N0eD1uLHR9LHF0LnByb3RvdHlwZS5yYXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4LnZhbHVlTWFwcGVyPW51bGwsdGhpc30scXQucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fY3R4O3JldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uKGUpe3JldHVybiBCdChuLHQsZSxuLnRhYmxlLmNvcmUpfSl9LHF0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbihlKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uKGUpe3ZhciB0PWkuX2N0eCxuPXQudGFibGUuY29yZTtpZihBdCh0LCEwKSlyZXR1cm4gbi5jb3VudCh7dHJhbnM6ZSxxdWVyeTp7aW5kZXg6RHQodCxuLnNjaGVtYSkscmFuZ2U6dC5yYW5nZX19KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1pbihlLHQubGltaXQpfSk7dmFyIHI9MDtyZXR1cm4gQnQodCxmdW5jdGlvbigpe3JldHVybisrciwhMX0sZSxuKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX0pLnRoZW4oZSl9LHF0LnByb3RvdHlwZS5zb3J0Qnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNwbGl0KCIuIikucmV2ZXJzZSgpLHI9blswXSxpPW4ubGVuZ3RoLTE7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiB0P28oZVtuW3RdXSx0LTEpOmVbcl19dmFyIGE9Im5leHQiPT09dGhpcy5fY3R4LmRpcj8xOi0xO2Z1bmN0aW9uIHUoZSx0KXtlPW8oZSxpKSx0PW8odCxpKTtyZXR1cm4gZTx0Py1hOnQ8ZT9hOjB9cmV0dXJuIHRoaXMudG9BcnJheShmdW5jdGlvbihlKXtyZXR1cm4gZS5zb3J0KHUpfSkudGhlbih0KX0scXQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcztyZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbihlKXt2YXIgdD1vLl9jdHg7aWYoIm5leHQiPT09dC5kaXImJkF0KHQsITApJiYwPHQubGltaXQpe3ZhciBuPXQudmFsdWVNYXBwZXIscj1EdCh0LHQudGFibGUuY29yZS5zY2hlbWEpO3JldHVybiB0LnRhYmxlLmNvcmUucXVlcnkoe3RyYW5zOmUsbGltaXQ6dC5saW1pdCx2YWx1ZXM6ITAscXVlcnk6e2luZGV4OnIscmFuZ2U6dC5yYW5nZX19KS50aGVuKGZ1bmN0aW9uKGUpe2U9ZS5yZXN1bHQ7cmV0dXJuIG4/ZS5tYXAobik6ZX0pfXZhciBpPVtdO3JldHVybiBCdCh0LGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2goZSl9LGUsdC50YWJsZS5jb3JlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KX0sZSl9LHF0LnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY3R4O3JldHVybiB0PD0wfHwoZS5vZmZzZXQrPXQsQXQoZSk/anQoZSxmdW5jdGlvbigpe3ZhciBuPXQ7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1ufHwoMT09PW4/LS1uOnQoZnVuY3Rpb24oKXtlLmFkdmFuY2Uobiksbj0wfSksITEpfX0pOmp0KGUsZnVuY3Rpb24oKXt2YXIgZT10O3JldHVybiBmdW5jdGlvbigpe3JldHVybi0tZTwwfX0pKSx0aGlzfSxxdC5wcm90b3R5cGUubGltaXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2N0eC5saW1pdD1NYXRoLm1pbih0aGlzLl9jdHgubGltaXQsZSksanQodGhpcy5fY3R4LGZ1bmN0aW9uKCl7dmFyIHI9ZTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybi0tcjw9MCYmdChuKSwwPD1yfX0sITApLHRoaXN9LHF0LnByb3RvdHlwZS51bnRpbD1mdW5jdGlvbihyLGkpe3JldHVybiBDdCh0aGlzLl9jdHgsZnVuY3Rpb24oZSx0LG4pe3JldHVybiFyKGUudmFsdWUpfHwodChuKSxpKX0pLHRoaXN9LHF0LnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5saW1pdCgxKS50b0FycmF5KGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSkudGhlbihlKX0scXQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpcnN0KGUpfSxxdC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBDdCh0aGlzLl9jdHgsZnVuY3Rpb24oZSl7cmV0dXJuIHQoZS52YWx1ZSl9KSwoZT10aGlzLl9jdHgpLmlzTWF0Y2g9eHQoZS5pc01hdGNoLHQpLHRoaXN9LHF0LnByb3RvdHlwZS5hbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmlsdGVyKGUpfSxxdC5wcm90b3R5cGUub3I9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMuX2N0eC50YWJsZSxlLHRoaXMpfSxxdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdHguZGlyPSJwcmV2Ij09PXRoaXMuX2N0eC5kaXI/Im5leHQiOiJwcmV2Iix0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSYmdGhpcy5fb25kaXJlY3Rpb25jaGFuZ2UodGhpcy5fY3R4LmRpciksdGhpc30scXQucHJvdG90eXBlLmRlc2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXZlcnNlKCl9LHF0LnByb3RvdHlwZS5lYWNoS2V5PWZ1bmN0aW9uKG4pe3ZhciBlPXRoaXMuX2N0eDtyZXR1cm4gZS5rZXlzT25seT0hZS5pc01hdGNoLHRoaXMuZWFjaChmdW5jdGlvbihlLHQpe24odC5rZXksdCl9KX0scXQucHJvdG90eXBlLmVhY2hVbmlxdWVLZXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2N0eC51bmlxdWU9InVuaXF1ZSIsdGhpcy5lYWNoS2V5KGUpfSxxdC5wcm90b3R5cGUuZWFjaFByaW1hcnlLZXk9ZnVuY3Rpb24obil7dmFyIGU9dGhpcy5fY3R4O3JldHVybiBlLmtleXNPbmx5PSFlLmlzTWF0Y2gsdGhpcy5lYWNoKGZ1bmN0aW9uKGUsdCl7bih0LnByaW1hcnlLZXksdCl9KX0scXQucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3R4O3Qua2V5c09ubHk9IXQuaXNNYXRjaDt2YXIgbj1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUsdCl7bi5wdXNoKHQua2V5KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbn0pLnRoZW4oZSl9LHF0LnByb3RvdHlwZS5wcmltYXJ5S2V5cz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLl9jdHg7aWYoIm5leHQiPT09bi5kaXImJkF0KG4sITApJiYwPG4ubGltaXQpcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24oZSl7dmFyIHQ9RHQobixuLnRhYmxlLmNvcmUuc2NoZW1hKTtyZXR1cm4gbi50YWJsZS5jb3JlLnF1ZXJ5KHt0cmFuczplLHZhbHVlczohMSxsaW1pdDpuLmxpbWl0LHF1ZXJ5OntpbmRleDp0LHJhbmdlOm4ucmFuZ2V9fSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlc3VsdH0pLnRoZW4oZSk7bi5rZXlzT25seT0hbi5pc01hdGNoO3ZhciByPVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSx0KXtyLnB1c2godC5wcmltYXJ5S2V5KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pLnRoZW4oZSl9LHF0LnByb3RvdHlwZS51bmlxdWVLZXlzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jdHgudW5pcXVlPSJ1bmlxdWUiLHRoaXMua2V5cyhlKX0scXQucHJvdG90eXBlLmZpcnN0S2V5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxpbWl0KDEpLmtleXMoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF19KS50aGVuKGUpfSxxdC5wcm90b3R5cGUubGFzdEtleT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3RLZXkoZSl9LHF0LnByb3RvdHlwZS5kaXN0aW5jdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2N0eCxlPWUuaW5kZXgmJmUudGFibGUuc2NoZW1hLmlkeEJ5TmFtZVtlLmluZGV4XTtpZighZXx8IWUubXVsdGkpcmV0dXJuIHRoaXM7dmFyIG49e307cmV0dXJuIEN0KHRoaXMuX2N0eCxmdW5jdGlvbihlKXt2YXIgdD1lLnByaW1hcnlLZXkudG9TdHJpbmcoKSxlPW0obix0KTtyZXR1cm4gblt0XT0hMCwhZX0pLHRoaXN9LHF0LnByb3RvdHlwZS5tb2RpZnk9ZnVuY3Rpb24oXyl7dmFyIG49dGhpcyx3PXRoaXMuX2N0eDtyZXR1cm4gdGhpcy5fd3JpdGUoZnVuY3Rpb24oZCl7dmFyIG8sYSxwO3A9ImZ1bmN0aW9uIj09dHlwZW9mIF8/Xzoobz14KF8pLGE9by5sZW5ndGgsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSExLG49MDtuPGE7KytuKXt2YXIgcj1vW25dLGk9X1tyXTtrKGUscikhPT1pJiYoRShlLHIsaSksdD0hMCl9cmV0dXJuIHR9KTtmdW5jdGlvbiB5KGUsdCl7dmFyIG49dC5mYWlsdXJlcyx0PXQubnVtRmFpbHVyZXM7cys9ZS10O2Zvcih2YXIgcj0wLGk9eChuKTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTt1LnB1c2gobltvXSl9fXZhciB2PXcudGFibGUuY29yZSxlPXYuc2NoZW1hLnByaW1hcnlLZXksbT1lLm91dGJvdW5kLGc9ZS5leHRyYWN0S2V5LGI9bi5kYi5fb3B0aW9ucy5tb2RpZnlDaHVua1NpemV8fDIwMCx1PVtdLHM9MCx0PVtdO3JldHVybiBuLmNsb25lKCkucHJpbWFyeUtleXMoKS50aGVuKGZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGgoYyl7dmFyIGw9TWF0aC5taW4oYixmLmxlbmd0aC1jKTtyZXR1cm4gdi5nZXRNYW55KHt0cmFuczpkLGtleXM6Zi5zbGljZShjLGMrbCksY2FjaGU6ImltbXV0YWJsZSJ9KS50aGVuKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1bXSx0PVtdLHI9bT9bXTpudWxsLGk9W10sbz0wO288bDsrK28pe3ZhciBhPWVbb10sdT17dmFsdWU6QShhKSxwcmltS2V5OmZbYytvXX07ITEhPT1wLmNhbGwodSx1LnZhbHVlLHUpJiYobnVsbD09dS52YWx1ZT9pLnB1c2goZltjK29dKTptfHwwPT09UnQoZyhhKSxnKHUudmFsdWUpKT8odC5wdXNoKHUudmFsdWUpLG0mJnIucHVzaChmW2Mrb10pKTooaS5wdXNoKGZbYytvXSksbi5wdXNoKHUudmFsdWUpKSl9dmFyIHM9QXQodykmJncubGltaXQ9PT0xLzAmJigiZnVuY3Rpb24iIT10eXBlb2YgX3x8Xz09PVV0KSYme2luZGV4OncuaW5kZXgscmFuZ2U6dy5yYW5nZX07cmV0dXJuIFByb21pc2UucmVzb2x2ZSgwPG4ubGVuZ3RoJiZ2Lm11dGF0ZSh7dHJhbnM6ZCx0eXBlOiJhZGQiLHZhbHVlczpufSkudGhlbihmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZS5mYWlsdXJlcylpLnNwbGljZShwYXJzZUludCh0KSwxKTt5KG4ubGVuZ3RoLGUpfSkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4oMDx0Lmxlbmd0aHx8cyYmIm9iamVjdCI9PXR5cGVvZiBfKSYmdi5tdXRhdGUoe3RyYW5zOmQsdHlwZToicHV0IixrZXlzOnIsdmFsdWVzOnQsY3JpdGVyaWE6cyxjaGFuZ2VTcGVjOiJmdW5jdGlvbiIhPXR5cGVvZiBfJiZffSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4geSh0Lmxlbmd0aCxlKX0pfSkudGhlbihmdW5jdGlvbigpe3JldHVybigwPGkubGVuZ3RofHxzJiZfPT09VXQpJiZ2Lm11dGF0ZSh7dHJhbnM6ZCx0eXBlOiJkZWxldGUiLGtleXM6aSxjcml0ZXJpYTpzfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4geShpLmxlbmd0aCxlKX0pfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBmLmxlbmd0aD5jK2wmJmgoYytiKX0pfSl9cmV0dXJuIGgoMCkudGhlbihmdW5jdGlvbigpe2lmKDA8dS5sZW5ndGgpdGhyb3cgbmV3IEcoIkVycm9yIG1vZGlmeWluZyBvbmUgb3IgbW9yZSBvYmplY3RzIix1LHMsdCk7cmV0dXJuIGYubGVuZ3RofSl9KX0pfSxxdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5fY3R4LG49aS5yYW5nZTtyZXR1cm4gQXQoaSkmJihpLmlzUHJpbUtleSYmIWd0fHwzPT09bi50eXBlKT90aGlzLl93cml0ZShmdW5jdGlvbihlKXt2YXIgdD1pLnRhYmxlLmNvcmUuc2NoZW1hLnByaW1hcnlLZXkscj1uO3JldHVybiBpLnRhYmxlLmNvcmUuY291bnQoe3RyYW5zOmUscXVlcnk6e2luZGV4OnQscmFuZ2U6cn19KS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBpLnRhYmxlLmNvcmUubXV0YXRlKHt0cmFuczplLHR5cGU6ImRlbGV0ZVJhbmdlIixyYW5nZTpyfSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLmZhaWx1cmVzO2UubGFzdFJlc3VsdCxlLnJlc3VsdHM7ZT1lLm51bUZhaWx1cmVzO2lmKGUpdGhyb3cgbmV3IEcoIkNvdWxkIG5vdCBkZWxldGUgc29tZSB2YWx1ZXMiLE9iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pLG4tZSk7cmV0dXJuIG4tZX0pfSl9KTp0aGlzLm1vZGlmeShVdCl9LHF0KTtmdW5jdGlvbiBxdCgpe312YXIgVXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC52YWx1ZT1udWxsfTtmdW5jdGlvbiBMdChlLHQpe3JldHVybiBlPHQ/LTE6ZT09PXQ/MDoxfWZ1bmN0aW9uIFZ0KGUsdCl7cmV0dXJuIHQ8ZT8tMTplPT09dD8wOjF9ZnVuY3Rpb24gV3QoZSx0LG4pe2U9ZSBpbnN0YW5jZW9mIFF0P25ldyBlLkNvbGxlY3Rpb24oZSk6ZTtyZXR1cm4gZS5fY3R4LmVycm9yPW5ldyhufHxUeXBlRXJyb3IpKHQpLGV9ZnVuY3Rpb24genQoZSl7cmV0dXJuIG5ldyBlLkNvbGxlY3Rpb24oZSxmdW5jdGlvbigpe3JldHVybiBIdCgiIil9KS5saW1pdCgwKX1mdW5jdGlvbiBZdChlLHMsbixyKXt2YXIgaSxjLGwsZixoLGQscCx5PW4ubGVuZ3RoO2lmKCFuLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX0pKXJldHVybiBXdChlLHB0KTtmdW5jdGlvbiB0KGUpe2k9Im5leHQiPT09ZT9mdW5jdGlvbihlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfTpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSxjPSJuZXh0Ij09PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0sbD0ibmV4dCI9PT1lP0x0OlZ0O3ZhciB0PW4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybntsb3dlcjpjKGUpLHVwcGVyOmkoZSl9fSkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBsKGUubG93ZXIsdC5sb3dlcil9KTtmPXQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVwcGVyfSksaD10Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb3dlcn0pLHA9Im5leHQiPT09KGQ9ZSk/IiI6cn10KCJuZXh0Iik7ZT1uZXcgZS5Db2xsZWN0aW9uKGUsZnVuY3Rpb24oKXtyZXR1cm4gR3QoZlswXSxoW3ktMV0rcil9KTtlLl9vbmRpcmVjdGlvbmNoYW5nZT1mdW5jdGlvbihlKXt0KGUpfTt2YXIgdj0wO3JldHVybiBlLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUua2V5O2lmKCJzdHJpbmciIT10eXBlb2YgcilyZXR1cm4hMTt2YXIgaT1jKHIpO2lmKHMoaSxoLHYpKXJldHVybiEwO2Zvcih2YXIgbz1udWxsLGE9djthPHk7KythKXt2YXIgdT1mdW5jdGlvbihlLHQsbixyLGksbyl7Zm9yKHZhciBhPU1hdGgubWluKGUubGVuZ3RoLHIubGVuZ3RoKSx1PS0xLHM9MDtzPGE7KytzKXt2YXIgYz10W3NdO2lmKGMhPT1yW3NdKXJldHVybiBpKGVbc10sbltzXSk8MD9lLnN1YnN0cigwLHMpK25bc10rbi5zdWJzdHIocysxKTppKGVbc10scltzXSk8MD9lLnN1YnN0cigwLHMpK3Jbc10rbi5zdWJzdHIocysxKTowPD11P2Uuc3Vic3RyKDAsdSkrdFt1XStuLnN1YnN0cih1KzEpOm51bGw7aShlW3NdLGMpPDAmJih1PXMpfXJldHVybiBhPHIubGVuZ3RoJiYibmV4dCI9PT1vP2Urbi5zdWJzdHIoZS5sZW5ndGgpOmE8ZS5sZW5ndGgmJiJwcmV2Ij09PW8/ZS5zdWJzdHIoMCxuLmxlbmd0aCk6dTwwP251bGw6ZS5zdWJzdHIoMCx1KStyW3VdK24uc3Vic3RyKHUrMSl9KHIsaSxmW2FdLGhbYV0sbCxkKTtudWxsPT09dSYmbnVsbD09PW8/dj1hKzE6KG51bGw9PT1vfHwwPGwobyx1KSkmJihvPXUpfXJldHVybiB0KG51bGwhPT1vP2Z1bmN0aW9uKCl7ZS5jb250aW51ZShvK3ApfTpuKSwhMX0pLGV9ZnVuY3Rpb24gR3QoZSx0LG4scil7cmV0dXJue3R5cGU6Mixsb3dlcjplLHVwcGVyOnQsbG93ZXJPcGVuOm4sdXBwZXJPcGVuOnJ9fWZ1bmN0aW9uIEh0KGUpe3JldHVybnt0eXBlOjEsbG93ZXI6ZSx1cHBlcjplfX12YXIgUXQ9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYdC5wcm90b3R5cGUsIkNvbGxlY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4LnRhYmxlLmRiLkNvbGxlY3Rpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksWHQucHJvdG90eXBlLmJldHdlZW49ZnVuY3Rpb24oZSx0LG4scil7bj0hMSE9PW4scj0hMD09PXI7dHJ5e3JldHVybiAwPHRoaXMuX2NtcChlLHQpfHwwPT09dGhpcy5fY21wKGUsdCkmJihufHxyKSYmKCFufHwhcik/enQodGhpcyk6bmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIEd0KGUsdCwhbiwhcil9KX1jYXRjaChlKXtyZXR1cm4gV3QodGhpcyxkdCl9fSxYdC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1d0KHRoaXMsZHQpOm5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcyxmdW5jdGlvbigpe3JldHVybiBIdChlKX0pfSxYdC5wcm90b3R5cGUuYWJvdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/V3QodGhpcyxkdCk6bmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIEd0KGUsdm9pZCAwLCEwKX0pfSxYdC5wcm90b3R5cGUuYWJvdmVPckVxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1d0KHRoaXMsZHQpOm5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcyxmdW5jdGlvbigpe3JldHVybiBHdChlLHZvaWQgMCwhMSl9KX0sWHQucHJvdG90eXBlLmJlbG93PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1d0KHRoaXMsZHQpOm5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcyxmdW5jdGlvbigpe3JldHVybiBHdCh2b2lkIDAsZSwhMSwhMCl9KX0sWHQucHJvdG90eXBlLmJlbG93T3JFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9XdCh0aGlzLGR0KTpuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gR3Qodm9pZCAwLGUpfSl9LFh0LnByb3RvdHlwZS5zdGFydHNXaXRoPWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9XdCh0aGlzLHB0KTp0aGlzLmJldHdlZW4oZSxlK2h0LCEwLCEwKX0sWHQucHJvdG90eXBlLnN0YXJ0c1dpdGhJZ25vcmVDYXNlPWZ1bmN0aW9uKGUpe3JldHVybiIiPT09ZT90aGlzLnN0YXJ0c1dpdGgoZSk6WXQodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybiAwPT09ZS5pbmRleE9mKHRbMF0pfSxbZV0saHQpfSxYdC5wcm90b3R5cGUuZXF1YWxzSWdub3JlQ2FzZT1mdW5jdGlvbihlKXtyZXR1cm4gWXQodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dFswXX0sW2VdLCIiKX0sWHQucHJvdG90eXBlLmFueU9mSWdub3JlQ2FzZT1mdW5jdGlvbigpe3ZhciBlPVQuYXBwbHkoQixhcmd1bWVudHMpO3JldHVybiAwPT09ZS5sZW5ndGg/enQodGhpcyk6WXQodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybi0xIT09dC5pbmRleE9mKGUpfSxlLCIiKX0sWHQucHJvdG90eXBlLnN0YXJ0c1dpdGhBbnlPZklnbm9yZUNhc2U9ZnVuY3Rpb24oKXt2YXIgZT1ULmFwcGx5KEIsYXJndW1lbnRzKTtyZXR1cm4gMD09PWUubGVuZ3RoP3p0KHRoaXMpOll0KHRoaXMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09dC5pbmRleE9mKGUpfSl9LGUsaHQpfSxYdC5wcm90b3R5cGUuYW55T2Y9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9VC5hcHBseShCLGFyZ3VtZW50cyksbz10aGlzLl9jbXA7dHJ5e2kuc29ydChvKX1jYXRjaChlKXtyZXR1cm4gV3QodGhpcyxkdCl9aWYoMD09PWkubGVuZ3RoKXJldHVybiB6dCh0aGlzKTt2YXIgZT1uZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gR3QoaVswXSxpW2kubGVuZ3RoLTFdKX0pO2UuX29uZGlyZWN0aW9uY2hhbmdlPWZ1bmN0aW9uKGUpe289Im5leHQiPT09ZT90Ll9hc2NlbmRpbmc6dC5fZGVzY2VuZGluZyxpLnNvcnQobyl9O3ZhciBhPTA7cmV0dXJuIGUuX2FkZEFsZ29yaXRobShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUua2V5OzA8byhyLGlbYV0pOylpZigrK2E9PT1pLmxlbmd0aClyZXR1cm4gdChuKSwhMTtyZXR1cm4gMD09PW8ocixpW2FdKXx8KHQoZnVuY3Rpb24oKXtlLmNvbnRpbnVlKGlbYV0pfSksITEpfSksZX0sWHQucHJvdG90eXBlLm5vdEVxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluQW55UmFuZ2UoW1stMS8wLGVdLFtlLHRoaXMuZGIuX21heEtleV1dLHtpbmNsdWRlTG93ZXJzOiExLGluY2x1ZGVVcHBlcnM6ITF9KX0sWHQucHJvdG90eXBlLm5vbmVPZj1mdW5jdGlvbigpe3ZhciBlPVQuYXBwbHkoQixhcmd1bWVudHMpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzKTt0cnl7ZS5zb3J0KHRoaXMuX2FzY2VuZGluZyl9Y2F0Y2goZSl7cmV0dXJuIFd0KHRoaXMsZHQpfXZhciB0PWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ZS5jb25jYXQoW1tlW2UubGVuZ3RoLTFdWzFdLHRdXSk6W1stMS8wLHRdXX0sbnVsbCk7cmV0dXJuIHQucHVzaChbZVtlLmxlbmd0aC0xXSx0aGlzLmRiLl9tYXhLZXldKSx0aGlzLmluQW55UmFuZ2UodCx7aW5jbHVkZUxvd2VyczohMSxpbmNsdWRlVXBwZXJzOiExfSl9LFh0LnByb3RvdHlwZS5pbkFueVJhbmdlPWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcyxhPXRoaXMuX2NtcCx1PXRoaXMuX2FzY2VuZGluZyxuPXRoaXMuX2Rlc2NlbmRpbmcscz10aGlzLl9taW4sYz10aGlzLl9tYXg7aWYoMD09PWUubGVuZ3RoKXJldHVybiB6dCh0aGlzKTtpZighZS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZVswXSYmdm9pZCAwIT09ZVsxXSYmdShlWzBdLGVbMV0pPD0wfSkpcmV0dXJuIFd0KHRoaXMsIkZpcnN0IGFyZ3VtZW50IHRvIGluQW55UmFuZ2UoKSBtdXN0IGJlIGFuIEFycmF5IG9mIHR3by12YWx1ZSBBcnJheXMgW2xvd2VyLHVwcGVyXSB3aGVyZSB1cHBlciBtdXN0IG5vdCBiZSBsb3dlciB0aGFuIGxvd2VyIixKLkludmFsaWRBcmd1bWVudCk7dmFyIHI9IXR8fCExIT09dC5pbmNsdWRlTG93ZXJzLGk9dCYmITA9PT10LmluY2x1ZGVVcHBlcnM7dmFyIGwsZj11O2Z1bmN0aW9uIGgoZSx0KXtyZXR1cm4gZihlWzBdLHRbMF0pfXRyeXsobD1lLnJlZHVjZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyOysrbil7dmFyIGk9ZVtuXTtpZihhKHRbMF0saVsxXSk8MCYmMDxhKHRbMV0saVswXSkpe2lbMF09cyhpWzBdLHRbMF0pLGlbMV09YyhpWzFdLHRbMV0pO2JyZWFrfX1yZXR1cm4gbj09PXImJmUucHVzaCh0KSxlfSxbXSkpLnNvcnQoaCl9Y2F0Y2goZSl7cmV0dXJuIFd0KHRoaXMsZHQpfXZhciBkPTAscD1pP2Z1bmN0aW9uKGUpe3JldHVybiAwPHUoZSxsW2RdWzFdKX06ZnVuY3Rpb24oZSl7cmV0dXJuIDA8PXUoZSxsW2RdWzFdKX0seT1yP2Z1bmN0aW9uKGUpe3JldHVybiAwPG4oZSxsW2RdWzBdKX06ZnVuY3Rpb24oZSl7cmV0dXJuIDA8PW4oZSxsW2RdWzBdKX07dmFyIHY9cCxlPW5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcyxmdW5jdGlvbigpe3JldHVybiBHdChsWzBdWzBdLGxbbC5sZW5ndGgtMV1bMV0sIXIsIWkpfSk7cmV0dXJuIGUuX29uZGlyZWN0aW9uY2hhbmdlPWZ1bmN0aW9uKGUpe2Y9Im5leHQiPT09ZT8odj1wLHUpOih2PXksbiksbC5zb3J0KGgpfSxlLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpPWUua2V5O3YoaSk7KWlmKCsrZD09PWwubGVuZ3RoKXJldHVybiB0KG4pLCExO3JldHVybiFwKHI9aSkmJiF5KHIpfHwoMD09PW8uX2NtcChpLGxbZF1bMV0pfHwwPT09by5fY21wKGksbFtkXVswXSl8fHQoZnVuY3Rpb24oKXtmPT09dT9lLmNvbnRpbnVlKGxbZF1bMF0pOmUuY29udGludWUobFtkXVsxXSl9KSwhMSl9KSxlfSxYdC5wcm90b3R5cGUuc3RhcnRzV2l0aEFueU9mPWZ1bmN0aW9uKCl7dmFyIGU9VC5hcHBseShCLGFyZ3VtZW50cyk7cmV0dXJuIGUuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfSk/MD09PWUubGVuZ3RoP3p0KHRoaXMpOnRoaXMuaW5BbnlSYW5nZShlLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZSxlK2h0XX0pKTpXdCh0aGlzLCJzdGFydHNXaXRoQW55T2YoKSBvbmx5IHdvcmtzIHdpdGggc3RyaW5ncyIpfSxYdCk7ZnVuY3Rpb24gWHQoKXt9ZnVuY3Rpb24gSnQodCl7cmV0dXJuIFdlKGZ1bmN0aW9uKGUpe3JldHVybiAkdChlKSx0KGUudGFyZ2V0LmVycm9yKSwhMX0pfWZ1bmN0aW9uICR0KGUpe2Uuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX12YXIgWnQ9InN0b3JhZ2VtdXRhdGVkIixlbj0ieC1zdG9yYWdlbXV0YXRlZC0xIix0bj1PdChudWxsLFp0KSxubj0ocm4ucHJvdG90eXBlLl9sb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHYoIU9lLmdsb2JhbCksKyt0aGlzLl9yZWN1bG9jaywxIT09dGhpcy5fcmVjdWxvY2t8fE9lLmdsb2JhbHx8KE9lLmxvY2tPd25lckZvcj10aGlzKSx0aGlzfSxybi5wcm90b3R5cGUuX3VubG9jaz1mdW5jdGlvbigpe2lmKHYoIU9lLmdsb2JhbCksMD09LS10aGlzLl9yZWN1bG9jaylmb3IoT2UuZ2xvYmFsfHwoT2UubG9ja093bmVyRm9yPW51bGwpOzA8dGhpcy5fYmxvY2tlZEZ1bmNzLmxlbmd0aCYmIXRoaXMuX2xvY2tlZCgpOyl7dmFyIGU9dGhpcy5fYmxvY2tlZEZ1bmNzLnNoaWZ0KCk7dHJ5e2l0KGVbMV0sZVswXSl9Y2F0Y2goZSl7fX1yZXR1cm4gdGhpc30scm4ucHJvdG90eXBlLl9sb2NrZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdWxvY2smJk9lLmxvY2tPd25lckZvciE9PXRoaXN9LHJuLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztpZighdGhpcy5tb2RlKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZGIuaWRiZGIscj10aGlzLmRiLl9zdGF0ZS5kYk9wZW5FcnJvcjtpZih2KCF0aGlzLmlkYnRyYW5zKSwhdCYmIWUpc3dpdGNoKHImJnIubmFtZSl7Y2FzZSJEYXRhYmFzZUNsb3NlZEVycm9yIjp0aHJvdyBuZXcgSi5EYXRhYmFzZUNsb3NlZChyKTtjYXNlIk1pc3NpbmdBUElFcnJvciI6dGhyb3cgbmV3IEouTWlzc2luZ0FQSShyLm1lc3NhZ2Uscik7ZGVmYXVsdDp0aHJvdyBuZXcgSi5PcGVuRmFpbGVkKHIpfWlmKCF0aGlzLmFjdGl2ZSl0aHJvdyBuZXcgSi5UcmFuc2FjdGlvbkluYWN0aXZlO3JldHVybiB2KG51bGw9PT10aGlzLl9jb21wbGV0aW9uLl9zdGF0ZSksKHQ9dGhpcy5pZGJ0cmFucz10fHwodGhpcy5kYi5jb3JlfHxlKS50cmFuc2FjdGlvbih0aGlzLnN0b3JlTmFtZXMsdGhpcy5tb2RlLHtkdXJhYmlsaXR5OnRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5fSkpLm9uZXJyb3I9V2UoZnVuY3Rpb24oZSl7JHQoZSksbi5fcmVqZWN0KHQuZXJyb3IpfSksdC5vbmFib3J0PVdlKGZ1bmN0aW9uKGUpeyR0KGUpLG4uYWN0aXZlJiZuLl9yZWplY3QobmV3IEouQWJvcnQodC5lcnJvcikpLG4uYWN0aXZlPSExLG4ub24oImFib3J0IikuZmlyZShlKX0pLHQub25jb21wbGV0ZT1XZShmdW5jdGlvbigpe24uYWN0aXZlPSExLG4uX3Jlc29sdmUoKSwibXV0YXRlZFBhcnRzImluIHQmJnRuLnN0b3JhZ2VtdXRhdGVkLmZpcmUodC5tdXRhdGVkUGFydHMpfSksdGhpc30scm4ucHJvdG90eXBlLl9wcm9taXNlPWZ1bmN0aW9uKG4scixpKXt2YXIgbz10aGlzO2lmKCJyZWFkd3JpdGUiPT09biYmInJlYWR3cml0ZSIhPT10aGlzLm1vZGUpcmV0dXJuIGx0KG5ldyBKLlJlYWRPbmx5KCJUcmFuc2FjdGlvbiBpcyByZWFkb25seSIpKTtpZighdGhpcy5hY3RpdmUpcmV0dXJuIGx0KG5ldyBKLlRyYW5zYWN0aW9uSW5hY3RpdmUpO2lmKHRoaXMuX2xvY2tlZCgpKXJldHVybiBuZXcgamUoZnVuY3Rpb24oZSx0KXtvLl9ibG9ja2VkRnVuY3MucHVzaChbZnVuY3Rpb24oKXtvLl9wcm9taXNlKG4scixpKS50aGVuKGUsdCl9LE9lXSl9KTtpZihpKXJldHVybiBKZShmdW5jdGlvbigpe3ZhciBlPW5ldyBqZShmdW5jdGlvbihlLHQpe28uX2xvY2soKTt2YXIgbj1yKGUsdCxvKTtuJiZuLnRoZW4mJm4udGhlbihlLHQpfSk7cmV0dXJuIGUuZmluYWxseShmdW5jdGlvbigpe3JldHVybiBvLl91bmxvY2soKX0pLGUuX2xpYj0hMCxlfSk7dmFyIGU9bmV3IGplKGZ1bmN0aW9uKGUsdCl7dmFyIG49cihlLHQsbyk7biYmbi50aGVuJiZuLnRoZW4oZSx0KX0pO3JldHVybiBlLl9saWI9ITAsZX0scm4ucHJvdG90eXBlLl9yb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9yb290KCk6dGhpc30scm4ucHJvdG90eXBlLndhaXRGb3I9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLl9yb290KCksaT1qZS5yZXNvbHZlKGUpO3IuX3dhaXRpbmdGb3I/ci5fd2FpdGluZ0Zvcj1yLl93YWl0aW5nRm9yLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaX0pOihyLl93YWl0aW5nRm9yPWksci5fd2FpdGluZ1F1ZXVlPVtdLHQ9ci5pZGJ0cmFucy5vYmplY3RTdG9yZShyLnN0b3JlTmFtZXNbMF0pLGZ1bmN0aW9uIGUoKXtmb3IoKytyLl9zcGluQ291bnQ7ci5fd2FpdGluZ1F1ZXVlLmxlbmd0aDspci5fd2FpdGluZ1F1ZXVlLnNoaWZ0KCkoKTtyLl93YWl0aW5nRm9yJiYodC5nZXQoLTEvMCkub25zdWNjZXNzPWUpfSgpKTt2YXIgbz1yLl93YWl0aW5nRm9yO3JldHVybiBuZXcgamUoZnVuY3Rpb24odCxuKXtpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIuX3dhaXRpbmdRdWV1ZS5wdXNoKFdlKHQuYmluZChudWxsLGUpKSl9LGZ1bmN0aW9uKGUpe3JldHVybiByLl93YWl0aW5nUXVldWUucHVzaChXZShuLmJpbmQobnVsbCxlKSkpfSkuZmluYWxseShmdW5jdGlvbigpe3IuX3dhaXRpbmdGb3I9PT1vJiYoci5fd2FpdGluZ0Zvcj1udWxsKX0pfSl9LHJuLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlJiYodGhpcy5hY3RpdmU9ITEsdGhpcy5pZGJ0cmFucyYmdGhpcy5pZGJ0cmFucy5hYm9ydCgpLHRoaXMuX3JlamVjdChuZXcgSi5BYm9ydCkpfSxybi5wcm90b3R5cGUudGFibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbWVtb2l6ZWRUYWJsZXN8fCh0aGlzLl9tZW1vaXplZFRhYmxlcz17fSk7aWYobSh0LGUpKXJldHVybiB0W2VdO3ZhciBuPXRoaXMuc2NoZW1hW2VdO2lmKCFuKXRocm93IG5ldyBKLk5vdEZvdW5kKCJUYWJsZSAiK2UrIiBub3QgcGFydCBvZiB0cmFuc2FjdGlvbiIpO249bmV3IHRoaXMuZGIuVGFibGUoZSxuLHRoaXMpO3JldHVybiBuLmNvcmU9dGhpcy5kYi5jb3JlLnRhYmxlKGUpLHRbZV09bn0scm4pO2Z1bmN0aW9uIHJuKCl7fWZ1bmN0aW9uIG9uKGUsdCxuLHIsaSxvLGEpe3JldHVybntuYW1lOmUsa2V5UGF0aDp0LHVuaXF1ZTpuLG11bHRpOnIsYXV0bzppLGNvbXBvdW5kOm8sc3JjOihuJiYhYT8iJiI6IiIpKyhyPyIqIjoiIikrKGk/IisrIjoiIikrYW4odCl9fWZ1bmN0aW9uIGFuKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lOmU/IlsiK1tdLmpvaW4uY2FsbChlLCIrIikrIl0iOiIifWZ1bmN0aW9uIHVuKGUsdCxuKXtyZXR1cm57bmFtZTplLHByaW1LZXk6dCxpbmRleGVzOm4sbWFwcGVkQ2xhc3M6bnVsbCxpZHhCeU5hbWU6dyhuLGZ1bmN0aW9uKGUpe3JldHVybltlLm5hbWUsZV19KX19dmFyIHNuPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5vbmx5KFtbXV0pLHNuPWZ1bmN0aW9uKCl7cmV0dXJuW1tdXX0sW1tdXX1jYXRjaChlKXtyZXR1cm4gc249ZnVuY3Rpb24oKXtyZXR1cm4gaHR9LGh0fX07ZnVuY3Rpb24gY24odCl7cmV0dXJuIG51bGw9PXQ/ZnVuY3Rpb24oKXt9OiJzdHJpbmciPT10eXBlb2YgdD8xPT09KG49dCkuc3BsaXQoIi4iKS5sZW5ndGg/ZnVuY3Rpb24oZSl7cmV0dXJuIGVbbl19OmZ1bmN0aW9uKGUpe3JldHVybiBrKGUsbil9OmZ1bmN0aW9uKGUpe3JldHVybiBrKGUsdCl9O3ZhciBufWZ1bmN0aW9uIGxuKGUpe3JldHVybltdLnNsaWNlLmNhbGwoZSl9dmFyIGZuPTA7ZnVuY3Rpb24gaG4oZSl7cmV0dXJuIG51bGw9PWU/IjppZCI6InN0cmluZyI9PXR5cGVvZiBlP2U6IlsiK2Uuam9pbigiKyIpKyJdIn1mdW5jdGlvbiBkbihlLGksdCl7ZnVuY3Rpb24gdyhlKXtpZigzPT09ZS50eXBlKXJldHVybiBudWxsO2lmKDQ9PT1lLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY29udmVydCBuZXZlciB0eXBlIHRvIElEQktleVJhbmdlIik7dmFyIHQ9ZS5sb3dlcixuPWUudXBwZXIscj1lLmxvd2VyT3BlbixlPWUudXBwZXJPcGVuO3JldHVybiB2b2lkIDA9PT10P3ZvaWQgMD09PW4/bnVsbDppLnVwcGVyQm91bmQobiwhIWUpOnZvaWQgMD09PW4/aS5sb3dlckJvdW5kKHQsISFyKTppLmJvdW5kKHQsbiwhIXIsISFlKX1mdW5jdGlvbiBuKGUpe3ZhciBoLF89ZS5uYW1lO3JldHVybntuYW1lOl8sc2NoZW1hOmUsbXV0YXRlOmZ1bmN0aW9uKGUpe3ZhciB5PWUudHJhbnMsdj1lLnR5cGUsbT1lLmtleXMsZz1lLnZhbHVlcyxiPWUucmFuZ2U7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7dD1XZSh0KTt2YXIgbj15Lm9iamVjdFN0b3JlKF8pLHI9bnVsbD09bi5rZXlQYXRoLGk9InB1dCI9PT12fHwiYWRkIj09PXY7aWYoIWkmJiJkZWxldGUiIT09diYmImRlbGV0ZVJhbmdlIiE9PXYpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG9wZXJhdGlvbiB0eXBlOiAiK3YpO3ZhciBvLGE9KG18fGd8fHtsZW5ndGg6MX0pLmxlbmd0aDtpZihtJiZnJiZtLmxlbmd0aCE9PWcubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiR2l2ZW4ga2V5cyBhcnJheSBtdXN0IGhhdmUgc2FtZSBsZW5ndGggYXMgZ2l2ZW4gdmFsdWVzIGFycmF5LiIpO2lmKDA9PT1hKXJldHVybiB0KHtudW1GYWlsdXJlczowLGZhaWx1cmVzOnt9LHJlc3VsdHM6W10sbGFzdFJlc3VsdDp2b2lkIDB9KTtmdW5jdGlvbiB1KGUpeysrbCwkdChlKX12YXIgcz1bXSxjPVtdLGw9MDtpZigiZGVsZXRlUmFuZ2UiPT09dil7aWYoND09PWIudHlwZSlyZXR1cm4gdCh7bnVtRmFpbHVyZXM6bCxmYWlsdXJlczpjLHJlc3VsdHM6W10sbGFzdFJlc3VsdDp2b2lkIDB9KTszPT09Yi50eXBlP3MucHVzaChvPW4uY2xlYXIoKSk6cy5wdXNoKG89bi5kZWxldGUodyhiKSkpfWVsc2V7dmFyIHI9aT9yP1tnLG1dOltnLG51bGxdOlttLG51bGxdLGY9clswXSxoPXJbMV07aWYoaSlmb3IodmFyIGQ9MDtkPGE7KytkKXMucHVzaChvPWgmJnZvaWQgMCE9PWhbZF0/blt2XShmW2RdLGhbZF0pOm5bdl0oZltkXSkpLG8ub25lcnJvcj11O2Vsc2UgZm9yKGQ9MDtkPGE7KytkKXMucHVzaChvPW5bdl0oZltkXSkpLG8ub25lcnJvcj11fWZ1bmN0aW9uIHAoZSl7ZT1lLnRhcmdldC5yZXN1bHQscy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPWUuZXJyb3ImJihjW3RdPWUuZXJyb3IpfSksdCh7bnVtRmFpbHVyZXM6bCxmYWlsdXJlczpjLHJlc3VsdHM6ImRlbGV0ZSI9PT12P206cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzdWx0fSksbGFzdFJlc3VsdDplfSl9by5vbmVycm9yPWZ1bmN0aW9uKGUpe3UoZSkscChlKX0sby5vbnN1Y2Nlc3M9cH0pfSxnZXRNYW55OmZ1bmN0aW9uKGUpe3ZhciBmPWUudHJhbnMsaD1lLmtleXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7dD1XZSh0KTtmb3IodmFyIG4scj1mLm9iamVjdFN0b3JlKF8pLGk9aC5sZW5ndGgsbz1uZXcgQXJyYXkoaSksYT0wLHU9MCxzPWZ1bmN0aW9uKGUpe2U9ZS50YXJnZXQ7b1tlLl9wb3NdPWUucmVzdWx0LCsrdT09PWEmJnQobyl9LGM9SnQoZSksbD0wO2w8aTsrK2wpbnVsbCE9aFtsXSYmKChuPXIuZ2V0KGhbbF0pKS5fcG9zPWwsbi5vbnN1Y2Nlc3M9cyxuLm9uZXJyb3I9YywrK2EpOzA9PT1hJiZ0KG8pfSl9LGdldDpmdW5jdGlvbihlKXt2YXIgcj1lLnRyYW5zLGk9ZS5rZXk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7dD1XZSh0KTt2YXIgbj1yLm9iamVjdFN0b3JlKF8pLmdldChpKTtuLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtyZXR1cm4gdChlLnRhcmdldC5yZXN1bHQpfSxuLm9uZXJyb3I9SnQoZSl9KX0scXVlcnk6KGg9cyxmdW5jdGlvbihmKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixlKXtuPVdlKG4pO3ZhciByLGksbyx0PWYudHJhbnMsYT1mLnZhbHVlcyx1PWYubGltaXQscz1mLnF1ZXJ5LGM9dT09PTEvMD92b2lkIDA6dSxsPXMuaW5kZXgscz1zLnJhbmdlLHQ9dC5vYmplY3RTdG9yZShfKSxsPWwuaXNQcmltYXJ5S2V5P3Q6dC5pbmRleChsLm5hbWUpLHM9dyhzKTtpZigwPT09dSlyZXR1cm4gbih7cmVzdWx0OltdfSk7aD8oKGM9YT9sLmdldEFsbChzLGMpOmwuZ2V0QWxsS2V5cyhzLGMpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oe3Jlc3VsdDplLnRhcmdldC5yZXN1bHR9KX0sYy5vbmVycm9yPUp0KGUpKToocj0wLGk9IWEmJiJvcGVuS2V5Q3Vyc29yImluIGw/bC5vcGVuS2V5Q3Vyc29yKHMpOmwub3BlbkN1cnNvcihzKSxvPVtdLGkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWkucmVzdWx0O3JldHVybiB0PyhvLnB1c2goYT90LnZhbHVlOnQucHJpbWFyeUtleSksKytyPT09dT9uKHtyZXN1bHQ6b30pOnZvaWQgdC5jb250aW51ZSgpKTpuKHtyZXN1bHQ6b30pfSxpLm9uZXJyb3I9SnQoZSkpfSl9KSxvcGVuQ3Vyc29yOmZ1bmN0aW9uKGUpe3ZhciBjPWUudHJhbnMsbz1lLnZhbHVlcyxhPWUucXVlcnksdT1lLnJldmVyc2UsbD1lLnVuaXF1ZTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxuKXt0PVdlKHQpO3ZhciBlPWEuaW5kZXgscj1hLnJhbmdlLGk9Yy5vYmplY3RTdG9yZShfKSxpPWUuaXNQcmltYXJ5S2V5P2k6aS5pbmRleChlLm5hbWUpLGU9dT9sPyJwcmV2dW5pcXVlIjoicHJldiI6bD8ibmV4dHVuaXF1ZSI6Im5leHQiLHM9IW8mJiJvcGVuS2V5Q3Vyc29yImluIGk/aS5vcGVuS2V5Q3Vyc29yKHcociksZSk6aS5vcGVuQ3Vyc29yKHcociksZSk7cy5vbmVycm9yPUp0KG4pLHMub25zdWNjZXNzPVdlKGZ1bmN0aW9uKGUpe3ZhciByLGksbyxhLHU9cy5yZXN1bHQ7dT8odS5fX19pZD0rK2ZuLHUuZG9uZT0hMSxyPXUuY29udGludWUuYmluZCh1KSxpPShpPXUuY29udGludWVQcmltYXJ5S2V5KSYmaS5iaW5kKHUpLG89dS5hZHZhbmNlLmJpbmQodSksYT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQ3Vyc29yIG5vdCBzdG9wcGVkIil9LHUudHJhbnM9Yyx1LnN0b3A9dS5jb250aW51ZT11LmNvbnRpbnVlUHJpbWFyeUtleT11LmFkdmFuY2U9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkN1cnNvciBub3Qgc3RhcnRlZCIpfSx1LmZhaWw9V2UobiksdS5uZXh0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PTE7cmV0dXJuIHRoaXMuc3RhcnQoZnVuY3Rpb24oKXtyZXR1cm4gdC0tP2UuY29udGludWUoKTplLnN0b3AoKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSx1LnN0YXJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtpZihzLnJlc3VsdCl0cnl7ZSgpfWNhdGNoKGUpe3UuZmFpbChlKX1lbHNlIHUuZG9uZT0hMCx1LnN0YXJ0PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJDdXJzb3IgYmVoaW5kIGxhc3QgZW50cnkiKX0sdS5zdG9wKCl9dmFyIG49bmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXt0PVdlKHQpLHMub25lcnJvcj1KdChlKSx1LmZhaWw9ZSx1LnN0b3A9ZnVuY3Rpb24oZSl7dS5zdG9wPXUuY29udGludWU9dS5jb250aW51ZVByaW1hcnlLZXk9dS5hZHZhbmNlPWEsdChlKX19KTtyZXR1cm4gcy5vbnN1Y2Nlc3M9V2UoZnVuY3Rpb24oZSl7cy5vbnN1Y2Nlc3M9dCx0KCl9KSx1LmNvbnRpbnVlPXIsdS5jb250aW51ZVByaW1hcnlLZXk9aSx1LmFkdmFuY2U9byx0KCksbn0sdCh1KSk6dChudWxsKX0sbil9KX0sY291bnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWVyeSxpPWUudHJhbnMsbz10LmluZGV4LGE9dC5yYW5nZTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXt2YXIgbj1pLm9iamVjdFN0b3JlKF8pLHI9by5pc1ByaW1hcnlLZXk/bjpuLmluZGV4KG8ubmFtZSksbj13KGEpLHI9bj9yLmNvdW50KG4pOnIuY291bnQoKTtyLm9uc3VjY2Vzcz1XZShmdW5jdGlvbihlKXtyZXR1cm4gdChlLnRhcmdldC5yZXN1bHQpfSksci5vbmVycm9yPUp0KGUpfSl9fX12YXIgcixvLGEsdT0obz10LGE9bG4oKHI9ZSkub2JqZWN0U3RvcmVOYW1lcykse3NjaGVtYTp7bmFtZTpyLm5hbWUsdGFibGVzOmEubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBvLm9iamVjdFN0b3JlKGUpfSkubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5UGF0aCxuPXQuYXV0b0luY3JlbWVudCxyPWIoZSksaT17fSxuPXtuYW1lOnQubmFtZSxwcmltYXJ5S2V5OntuYW1lOm51bGwsaXNQcmltYXJ5S2V5OiEwLG91dGJvdW5kOm51bGw9PWUsY29tcG91bmQ6cixrZXlQYXRoOmUsYXV0b0luY3JlbWVudDpuLHVuaXF1ZTohMCxleHRyYWN0S2V5OmNuKGUpfSxpbmRleGVzOmxuKHQuaW5kZXhOYW1lcykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LmluZGV4KGUpfSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZSxuPWUudW5pcXVlLHI9ZS5tdWx0aUVudHJ5LGU9ZS5rZXlQYXRoLHI9e25hbWU6dCxjb21wb3VuZDpiKGUpLGtleVBhdGg6ZSx1bmlxdWU6bixtdWx0aUVudHJ5OnIsZXh0cmFjdEtleTpjbihlKX07cmV0dXJuIGlbaG4oZSldPXJ9KSxnZXRJbmRleEJ5S2V5UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gaVtobihlKV19fTtyZXR1cm4gaVsiOmlkIl09bi5wcmltYXJ5S2V5LG51bGwhPWUmJihpW2huKGUpXT1uLnByaW1hcnlLZXkpLG59KX0saGFzR2V0QWxsOjA8YS5sZW5ndGgmJiJnZXRBbGwiaW4gby5vYmplY3RTdG9yZShhWzBdKSYmISgidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIS8oQ2hyb21lXC98RWRnZVwvKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmW10uY29uY2F0KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaVwvKFxkKikvKSlbMV08NjA0KX0pLHQ9dS5zY2hlbWEscz11Lmhhc0dldEFsbCx1PXQudGFibGVzLm1hcChuKSxjPXt9O3JldHVybiB1LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGNbZS5uYW1lXT1lfSkse3N0YWNrOiJkYmNvcmUiLHRyYW5zYWN0aW9uOmUudHJhbnNhY3Rpb24uYmluZChlKSx0YWJsZTpmdW5jdGlvbihlKXtpZighY1tlXSl0aHJvdyBuZXcgRXJyb3IoIlRhYmxlICciK2UrIicgbm90IGZvdW5kIik7cmV0dXJuIGNbZV19LE1JTl9LRVk6LTEvMCxNQVhfS0VZOnNuKGkpLHNjaGVtYTp0fX1mdW5jdGlvbiBwbihlLHQsbixyKXt2YXIgaT1uLklEQktleVJhbmdlO3JldHVybiBuLmluZGV4ZWREQix7ZGJjb3JlOihyPWRuKHQsaSxyKSxlLmRiY29yZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt0PXQuY3JlYXRlO3JldHVybiBnKGcoe30sZSksdChlKSl9LHIpKX19ZnVuY3Rpb24geW4oZSx0KXt2YXIgbj1lLl9ub3ZpcCxlPXQuZGIsdD1wbihuLl9taWRkbGV3YXJlcyxlLG4uX2RlcHMsdCk7bi5jb3JlPXQuZGJjb3JlLG4udGFibGVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYW1lO24uY29yZS5zY2hlbWEudGFibGVzLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PXR9KSYmKGUuY29yZT1uLmNvcmUudGFibGUodCksblt0XWluc3RhbmNlb2Ygbi5UYWJsZSYmKG5bdF0uY29yZT1lLmNvcmUpKX0pfWZ1bmN0aW9uIHZuKGUsdCxuLGkpe3ZhciBvPWUuX25vdmlwO24uZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgcj1pW25dO3QuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1mKGUsbik7KCF0fHwidmFsdWUiaW4gdCYmdm9pZCAwPT09dC52YWx1ZSkmJihlPT09by5UcmFuc2FjdGlvbi5wcm90b3R5cGV8fGUgaW5zdGFuY2VvZiBvLlRyYW5zYWN0aW9uP2MoZSxuLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWJsZShuKX0sc2V0OmZ1bmN0aW9uKGUpe2EodGhpcyxuLHt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9fSk6ZVtuXT1uZXcgby5UYWJsZShuLHIpKX0pfSl9ZnVuY3Rpb24gbW4oZSx0KXt2YXIgbj1lLl9ub3ZpcDt0LmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpZVt0XWluc3RhbmNlb2Ygbi5UYWJsZSYmZGVsZXRlIGVbdF19KX1mdW5jdGlvbiBnbihlLHQpe3JldHVybiBlLl9jZmcudmVyc2lvbi10Ll9jZmcudmVyc2lvbn1mdW5jdGlvbiBibihuLHIsaSxlKXt2YXIgbz1uLl9kYlNjaGVtYSxhPW4uX2NyZWF0ZVRyYW5zYWN0aW9uKCJyZWFkd3JpdGUiLG4uX3N0b3JlTmFtZXMsbyk7YS5jcmVhdGUoaSksYS5fY29tcGxldGlvbi5jYXRjaChlKTt2YXIgdT1hLl9yZWplY3QuYmluZChhKSxwPU9lLnRyYW5zbGVzc3x8T2U7SmUoZnVuY3Rpb24oKXt2YXIgZSxzLGMsbCxmLHQsaCxkO09lLnRyYW5zPWEsT2UudHJhbnNsZXNzPXAsMD09PXI/KHgobykuZm9yRWFjaChmdW5jdGlvbihlKXt3bihpLGUsb1tlXS5wcmltS2V5LG9bZV0uaW5kZXhlcyl9KSx5bihuLGkpLGplLmZvbGxvdyhmdW5jdGlvbigpe3JldHVybiBuLm9uLnBvcHVsYXRlLmZpcmUoYSl9KS5jYXRjaCh1KSk6KHM9cixjPWEsbD1pLGY9KGU9bikuX25vdmlwLHQ9W10sZT1mLl92ZXJzaW9ucyxoPWYuX2RiU2NoZW1hPWtuKDAsZi5pZGJkYixsKSxkPSExLGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLl9jZmcudmVyc2lvbj49c30pLmZvckVhY2goZnVuY3Rpb24odSl7dC5wdXNoKGZ1bmN0aW9uKCl7dmFyIHQ9aCxlPXUuX2NmZy5kYnNjaGVtYTtFbihmLHQsbCksRW4oZixlLGwpLGg9Zi5fZGJTY2hlbWE9ZTt2YXIgbj1fbih0LGUpO24uYWRkLmZvckVhY2goZnVuY3Rpb24oZSl7d24obCxlWzBdLGVbMV0ucHJpbUtleSxlWzFdLmluZGV4ZXMpfSksbi5jaGFuZ2UuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLnJlY3JlYXRlKXRocm93IG5ldyBKLlVwZ3JhZGUoIk5vdCB5ZXQgc3VwcG9ydCBmb3IgY2hhbmdpbmcgcHJpbWFyeSBrZXkiKTt2YXIgdD1sLm9iamVjdFN0b3JlKGUubmFtZSk7ZS5hZGQuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4geG4odCxlKX0pLGUuY2hhbmdlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5kZWxldGVJbmRleChlLm5hbWUpLHhuKHQsZSl9KSxlLmRlbC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRlbGV0ZUluZGV4KGUpfSl9KTt2YXIgcj11Ll9jZmcuY29udGVudFVwZ3JhZGU7aWYociYmdS5fY2ZnLnZlcnNpb24+cyl7eW4oZixsKSxjLl9tZW1vaXplZFRhYmxlcz17fSxkPSEwO3ZhciBpPVAoZSk7bi5kZWwuZm9yRWFjaChmdW5jdGlvbihlKXtpW2VdPXRbZV19KSxtbihmLFtmLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0pLHZuKGYsW2YuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSx4KGkpLGkpLGMuc2NoZW1hPWk7dmFyIG8sYT1SKHIpO2EmJiRlKCk7bj1qZS5mb2xsb3coZnVuY3Rpb24oKXt2YXIgZTsobz1yKGMpKSYmYSYmKGU9WmUuYmluZChudWxsLG51bGwpLG8udGhlbihlLGUpKX0pO3JldHVybiBvJiYiZnVuY3Rpb24iPT10eXBlb2Ygby50aGVuP2plLnJlc29sdmUobyk6bi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG99KX19KSx0LnB1c2goZnVuY3Rpb24oZSl7dmFyIHQsbixyO2QmJm10fHwodD11Ll9jZmcuZGJzY2hlbWEsbj10LHI9ZSxbXS5zbGljZS5jYWxsKHIuZGIub2JqZWN0U3RvcmVOYW1lcykuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09bltlXSYmci5kYi5kZWxldGVPYmplY3RTdG9yZShlKX0pKSxtbihmLFtmLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0pLHZuKGYsW2YuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSxmLl9zdG9yZU5hbWVzLGYuX2RiU2NoZW1hKSxjLnNjaGVtYT1mLl9kYlNjaGVtYX0pfSksZnVuY3Rpb24gZSgpe3JldHVybiB0Lmxlbmd0aD9qZS5yZXNvbHZlKHQuc2hpZnQoKShjLmlkYnRyYW5zKSkudGhlbihlKTpqZS5yZXNvbHZlKCl9KCkudGhlbihmdW5jdGlvbigpe3ZhciB0LG47bj1sLHgodD1oKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhlKXx8d24obixlLHRbZV0ucHJpbUtleSx0W2VdLmluZGV4ZXMpfSl9KS5jYXRjaCh1KSl9KX1mdW5jdGlvbiBfbihlLHQpe3ZhciBuLHI9e2RlbDpbXSxhZGQ6W10sY2hhbmdlOltdfTtmb3IobiBpbiBlKXRbbl18fHIuZGVsLnB1c2gobik7Zm9yKG4gaW4gdCl7dmFyIGk9ZVtuXSxvPXRbbl07aWYoaSl7dmFyIGE9e25hbWU6bixkZWY6byxyZWNyZWF0ZTohMSxkZWw6W10sYWRkOltdLGNoYW5nZTpbXX07aWYoIiIrKGkucHJpbUtleS5rZXlQYXRofHwiIikhPSIiKyhvLnByaW1LZXkua2V5UGF0aHx8IiIpfHxpLnByaW1LZXkuYXV0byE9PW8ucHJpbUtleS5hdXRvJiYhdnQpYS5yZWNyZWF0ZT0hMCxyLmNoYW5nZS5wdXNoKGEpO2Vsc2V7dmFyIHU9aS5pZHhCeU5hbWUscz1vLmlkeEJ5TmFtZSxjPXZvaWQgMDtmb3IoYyBpbiB1KXNbY118fGEuZGVsLnB1c2goYyk7Zm9yKGMgaW4gcyl7dmFyIGw9dVtjXSxmPXNbY107bD9sLnNyYyE9PWYuc3JjJiZhLmNoYW5nZS5wdXNoKGYpOmEuYWRkLnB1c2goZil9KDA8YS5kZWwubGVuZ3RofHwwPGEuYWRkLmxlbmd0aHx8MDxhLmNoYW5nZS5sZW5ndGgpJiZyLmNoYW5nZS5wdXNoKGEpfX1lbHNlIHIuYWRkLnB1c2goW24sb10pfXJldHVybiByfWZ1bmN0aW9uIHduKGUsdCxuLHIpe3ZhciBpPWUuZGIuY3JlYXRlT2JqZWN0U3RvcmUodCxuLmtleVBhdGg/e2tleVBhdGg6bi5rZXlQYXRoLGF1dG9JbmNyZW1lbnQ6bi5hdXRvfTp7YXV0b0luY3JlbWVudDpuLmF1dG99KTtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB4bihpLGUpfSksaX1mdW5jdGlvbiB4bihlLHQpe2UuY3JlYXRlSW5kZXgodC5uYW1lLHQua2V5UGF0aCx7dW5pcXVlOnQudW5pcXVlLG11bHRpRW50cnk6dC5tdWx0aX0pfWZ1bmN0aW9uIGtuKGUsdCx1KXt2YXIgcz17fTtyZXR1cm4geSh0Lm9iamVjdFN0b3JlTmFtZXMsMCkuZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9dS5vYmplY3RTdG9yZShlKSxuPW9uKGFuKGE9dC5rZXlQYXRoKSxhfHwiIiwhMSwhMSwhIXQuYXV0b0luY3JlbWVudCxhJiYic3RyaW5nIiE9dHlwZW9mIGEsITApLHI9W10saT0wO2k8dC5pbmRleE5hbWVzLmxlbmd0aDsrK2kpe3ZhciBvPXQuaW5kZXgodC5pbmRleE5hbWVzW2ldKSxhPW8ua2V5UGF0aCxvPW9uKG8ubmFtZSxhLCEhby51bmlxdWUsISFvLm11bHRpRW50cnksITEsYSYmInN0cmluZyIhPXR5cGVvZiBhLCExKTtyLnB1c2gobyl9c1tlXT11bihlLG4scil9KSxzfWZ1bmN0aW9uIEVuKGUsdCxuKXtmb3IodmFyIHI9ZS5fbm92aXAsaT1uLmRiLm9iamVjdFN0b3JlTmFtZXMsbz0wO288aS5sZW5ndGg7KytvKXt2YXIgYT1pW29dLHU9bi5vYmplY3RTdG9yZShhKTtyLl9oYXNHZXRBbGw9ImdldEFsbCJpbiB1O2Zvcih2YXIgcz0wO3M8dS5pbmRleE5hbWVzLmxlbmd0aDsrK3Mpe3ZhciBjPXUuaW5kZXhOYW1lc1tzXSxsPXUuaW5kZXgoYykua2V5UGF0aCxmPSJzdHJpbmciPT10eXBlb2YgbD9sOiJbIit5KGwpLmpvaW4oIisiKSsiXSI7IXRbYV18fChsPXRbYV0uaWR4QnlOYW1lW2ZdKSYmKGwubmFtZT1jLGRlbGV0ZSB0W2FdLmlkeEJ5TmFtZVtmXSx0W2FdLmlkeEJ5TmFtZVtjXT1sKX19InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJiEvKENocm9tZVwvfEVkZ2VcLykvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJmguV29ya2VyR2xvYmFsU2NvcGUmJmggaW5zdGFuY2VvZiBoLldvcmtlckdsb2JhbFNjb3BlJiZbXS5jb25jYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpXC8oXGQqKS8pKVsxXTw2MDQmJihyLl9oYXNHZXRBbGw9ITEpfXZhciBQbj0oS24ucHJvdG90eXBlLl9wYXJzZVN0b3Jlc1NwZWM9ZnVuY3Rpb24ocixpKXt4KHIpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYobnVsbCE9PXJbZV0pe3ZhciB0PXJbZV0uc3BsaXQoIiwiKS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj0oZT1lLnRyaW0oKSkucmVwbGFjZSgvKFsmKl18XCtcKykvZywiIikscj0vXlxbLy50ZXN0KG4pP24ubWF0Y2goL15cWyguKilcXSQvKVsxXS5zcGxpdCgiKyIpOm47cmV0dXJuIG9uKG4scnx8bnVsbCwvXCYvLnRlc3QoZSksL1wqLy50ZXN0KGUpLC9cK1wrLy50ZXN0KGUpLGIociksMD09PXQpfSksbj10LnNoaWZ0KCk7aWYobi5tdWx0aSl0aHJvdyBuZXcgSi5TY2hlbWEoIlByaW1hcnkga2V5IGNhbm5vdCBiZSBtdWx0aS12YWx1ZWQiKTt0LmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZS5hdXRvKXRocm93IG5ldyBKLlNjaGVtYSgiT25seSBwcmltYXJ5IGtleSBjYW4gYmUgbWFya2VkIGFzIGF1dG9JbmNyZW1lbnQgKCsrKSIpO2lmKCFlLmtleVBhdGgpdGhyb3cgbmV3IEouU2NoZW1hKCJJbmRleCBtdXN0IGhhdmUgYSBuYW1lIGFuZCBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nIil9KSxpW2VdPXVuKGUsbix0KX19KX0sS24ucHJvdG90eXBlLnN0b3Jlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRiO3RoaXMuX2NmZy5zdG9yZXNTb3VyY2U9dGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZT91KHRoaXMuX2NmZy5zdG9yZXNTb3VyY2UsZSk6ZTt2YXIgZT10Ll92ZXJzaW9ucyxuPXt9LHI9e307cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt1KG4sZS5fY2ZnLnN0b3Jlc1NvdXJjZSkscj1lLl9jZmcuZGJzY2hlbWE9e30sZS5fcGFyc2VTdG9yZXNTcGVjKG4scil9KSx0Ll9kYlNjaGVtYT1yLG1uKHQsW3QuX2FsbFRhYmxlcyx0LHQuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSksdm4odCxbdC5fYWxsVGFibGVzLHQsdC5UcmFuc2FjdGlvbi5wcm90b3R5cGUsdGhpcy5fY2ZnLnRhYmxlc10seChyKSxyKSx0Ll9zdG9yZU5hbWVzPXgociksdGhpc30sS24ucHJvdG90eXBlLnVwZ3JhZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NmZy5jb250ZW50VXBncmFkZT11ZSh0aGlzLl9jZmcuY29udGVudFVwZ3JhZGV8fFosZSksdGhpc30sS24pO2Z1bmN0aW9uIEtuKCl7fWZ1bmN0aW9uIE9uKGUsdCl7dmFyIG49ZS5fZGJOYW1lc0RCO3JldHVybiBufHwobj1lLl9kYk5hbWVzREI9bmV3IEduKGJ0LHthZGRvbnM6W10saW5kZXhlZERCOmUsSURCS2V5UmFuZ2U6dH0pKS52ZXJzaW9uKDEpLnN0b3Jlcyh7ZGJuYW1lczoibmFtZSJ9KSxuLnRhYmxlKCJkYm5hbWVzIil9ZnVuY3Rpb24gU24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmRhdGFiYXNlc31mdW5jdGlvbiBBbihlKXtyZXR1cm4gSmUoZnVuY3Rpb24oKXtyZXR1cm4gT2UubGV0VGhyb3VnaD0hMCxlKCl9KX1mdW5jdGlvbiBDbihmKXt2YXIgaD1mLl9zdGF0ZSxyPWYuX2RlcHMuaW5kZXhlZERCO2lmKGguaXNCZWluZ09wZW5lZHx8Zi5pZGJkYilyZXR1cm4gaC5kYlJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGguZGJPcGVuRXJyb3I/bHQoaC5kYk9wZW5FcnJvcik6Zn0pO0YmJihoLm9wZW5DYW5jZWxsZXIuX3N0YWNrSG9sZGVyPVUoKSksaC5pc0JlaW5nT3BlbmVkPSEwLGguZGJPcGVuRXJyb3I9bnVsbCxoLm9wZW5Db21wbGV0ZT0hMTt2YXIgdD1oLm9wZW5DYW5jZWxsZXI7ZnVuY3Rpb24gZSgpe2lmKGgub3BlbkNhbmNlbGxlciE9PXQpdGhyb3cgbmV3IEouRGF0YWJhc2VDbG9zZWQoImRiLm9wZW4oKSB3YXMgY2FuY2VsbGVkIil9dmFyIG4saT1oLmRiUmVhZHlSZXNvbHZlLGQ9bnVsbCxwPSExO3JldHVybiBqZS5yYWNlKFt0LCgidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvcj9qZS5yZXNvbHZlKCk6IW5hdmlnYXRvci51c2VyQWdlbnREYXRhJiYvU2FmYXJpXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJiEvQ2hyb20oZXxpdW0pXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJmluZGV4ZWREQi5kYXRhYmFzZXM/bmV3IFByb21pc2UoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpbmRleGVkREIuZGF0YWJhc2VzKCkuZmluYWxseShlKX1uPXNldEludGVydmFsKHQsMTAwKSx0KCl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7cmV0dXJuIGNsZWFySW50ZXJ2YWwobil9KTpQcm9taXNlLnJlc29sdmUoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgamUoZnVuY3Rpb24ocyxuKXtpZihlKCksIXIpdGhyb3cgbmV3IEouTWlzc2luZ0FQSTt2YXIgYz1mLm5hbWUsbD1oLmF1dG9TY2hlbWE/ci5vcGVuKGMpOnIub3BlbihjLE1hdGgucm91bmQoMTAqZi52ZXJubykpO2lmKCFsKXRocm93IG5ldyBKLk1pc3NpbmdBUEk7bC5vbmVycm9yPUp0KG4pLGwub25ibG9ja2VkPVdlKGYuX2ZpcmVPbkJsb2NrZWQpLGwub251cGdyYWRlbmVlZGVkPVdlKGZ1bmN0aW9uKGUpe3ZhciB0O2Q9bC50cmFuc2FjdGlvbixoLmF1dG9TY2hlbWEmJiFmLl9vcHRpb25zLmFsbG93RW1wdHlEQj8obC5vbmVycm9yPSR0LGQuYWJvcnQoKSxsLnJlc3VsdC5jbG9zZSgpLCh0PXIuZGVsZXRlRGF0YWJhc2UoYykpLm9uc3VjY2Vzcz10Lm9uZXJyb3I9V2UoZnVuY3Rpb24oKXtuKG5ldyBKLk5vU3VjaERhdGFiYXNlKCJEYXRhYmFzZSAiK2MrIiBkb2VzbnQgZXhpc3QiKSl9KSk6KGQub25lcnJvcj1KdChuKSxlPWUub2xkVmVyc2lvbj5NYXRoLnBvdygyLDYyKT8wOmUub2xkVmVyc2lvbixwPWU8MSxmLl9ub3ZpcC5pZGJkYj1sLnJlc3VsdCxibihmLGUvMTAsZCxuKSl9LG4pLGwub25zdWNjZXNzPVdlKGZ1bmN0aW9uKCl7ZD1udWxsO3ZhciBlLHQsbixyLGksbz1mLl9ub3ZpcC5pZGJkYj1sLnJlc3VsdCxhPXkoby5vYmplY3RTdG9yZU5hbWVzKTtpZigwPGEubGVuZ3RoKXRyeXt2YXIgdT1vLnRyYW5zYWN0aW9uKDE9PT0ocj1hKS5sZW5ndGg/clswXTpyLCJyZWFkb25seSIpO2guYXV0b1NjaGVtYT8odD1vLG49dSwoZT0oZT1mKS5fbm92aXApLnZlcm5vPXQudmVyc2lvbi8xMCxuPWUuX2RiU2NoZW1hPWtuKDAsdCxuKSxlLl9zdG9yZU5hbWVzPXkodC5vYmplY3RTdG9yZU5hbWVzLDApLHZuKGUsW2UuX2FsbFRhYmxlc10seChuKSxuKSk6KEVuKGYsZi5fZGJTY2hlbWEsdSksKChpPV9uKGtuKDAsKGk9ZikuaWRiZGIsdSksaS5fZGJTY2hlbWEpKS5hZGQubGVuZ3RofHxpLmNoYW5nZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkZC5sZW5ndGh8fGUuY2hhbmdlLmxlbmd0aH0pKSYmY29uc29sZS53YXJuKCJEZXhpZSBTY2hlbWFEaWZmOiBTY2hlbWEgd2FzIGV4dGVuZGVkIHdpdGhvdXQgaW5jcmVhc2luZyB0aGUgbnVtYmVyIHBhc3NlZCB0byBkYi52ZXJzaW9uKCkuIFNvbWUgcXVlcmllcyBtYXkgZmFpbC4iKSkseW4oZix1KX1jYXRjaChlKXt9eXQucHVzaChmKSxvLm9udmVyc2lvbmNoYW5nZT1XZShmdW5jdGlvbihlKXtoLnZjRmlyZWQ9ITAsZi5vbigidmVyc2lvbmNoYW5nZSIpLmZpcmUoZSl9KSxvLm9uY2xvc2U9V2UoZnVuY3Rpb24oZSl7Zi5vbigiY2xvc2UiKS5maXJlKGUpfSkscCYmKGk9Zi5fZGVwcyx1PWMsbz1pLmluZGV4ZWREQixpPWkuSURCS2V5UmFuZ2UsU24obyl8fHU9PT1idHx8T24obyxpKS5wdXQoe25hbWU6dX0pLmNhdGNoKFopKSxzKCl9LG4pfSl9KV0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGgub25SZWFkeUJlaW5nRmlyZWQ9W10samUucmVzb2x2ZShBbihmdW5jdGlvbigpe3JldHVybiBmLm9uLnJlYWR5LmZpcmUoZi52aXApfSkpLnRoZW4oZnVuY3Rpb24gZSgpe2lmKDA8aC5vblJlYWR5QmVpbmdGaXJlZC5sZW5ndGgpe3ZhciB0PWgub25SZWFkeUJlaW5nRmlyZWQucmVkdWNlKHVlLFopO3JldHVybiBoLm9uUmVhZHlCZWluZ0ZpcmVkPVtdLGplLnJlc29sdmUoQW4oZnVuY3Rpb24oKXtyZXR1cm4gdChmLnZpcCl9KSkudGhlbihlKX19KX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtoLm9uUmVhZHlCZWluZ0ZpcmVkPW51bGwsaC5pc0JlaW5nT3BlbmVkPSExfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBmfSkuY2F0Y2goZnVuY3Rpb24oZSl7aC5kYk9wZW5FcnJvcj1lO3RyeXtkJiZkLmFib3J0KCl9Y2F0Y2goZSl7fXJldHVybiB0PT09aC5vcGVuQ2FuY2VsbGVyJiZmLl9jbG9zZSgpLGx0KGUpfSkuZmluYWxseShmdW5jdGlvbigpe2gub3BlbkNvbXBsZXRlPSEwLGkoKX0pfWZ1bmN0aW9uIGpuKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQubmV4dChlKX12YXIgcj1uKGUpLGk9bihmdW5jdGlvbihlKXtyZXR1cm4gdC50aHJvdyhlKX0pO2Z1bmN0aW9uIG4obil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PW4oZSksZT10LnZhbHVlO3JldHVybiB0LmRvbmU/ZTplJiYiZnVuY3Rpb24iPT10eXBlb2YgZS50aGVuP2UudGhlbihyLGkpOmIoZSk/UHJvbWlzZS5hbGwoZSkudGhlbihyLGkpOnIoZSl9fXJldHVybiBuKGUpKCl9ZnVuY3Rpb24gRG4oZSx0LG4pe2Zvcih2YXIgcj1iKGUpP2Uuc2xpY2UoKTpbZV0saT0wO2k8bjsrK2kpci5wdXNoKHQpO3JldHVybiByfXZhciBJbj17c3RhY2s6ImRiY29yZSIsbmFtZToiVmlydHVhbEluZGV4TWlkZGxld2FyZSIsbGV2ZWw6MSxjcmVhdGU6ZnVuY3Rpb24oZil7cmV0dXJuIGcoZyh7fSxmKSx7dGFibGU6ZnVuY3Rpb24oZSl7dmFyIGE9Zi50YWJsZShlKSx0PWEuc2NoZW1hLHU9e30scz1bXTtmdW5jdGlvbiBjKGUsdCxuKXt2YXIgcj1obihlKSxpPXVbcl09dVtyXXx8W10sbz1udWxsPT1lPzA6InN0cmluZyI9PXR5cGVvZiBlPzE6ZS5sZW5ndGgscj0wPHQscj1nKGcoe30sbikse2lzVmlydHVhbDpyLGtleVRhaWw6dCxrZXlMZW5ndGg6byxleHRyYWN0S2V5OmNuKGUpLHVuaXF1ZTohciYmbi51bmlxdWV9KTtyZXR1cm4gaS5wdXNoKHIpLHIuaXNQcmltYXJ5S2V5fHxzLnB1c2gociksMTxvJiZjKDI9PT1vP2VbMF06ZS5zbGljZSgwLG8tMSksdCsxLG4pLGkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLmtleVRhaWwtdC5rZXlUYWlsfSkscn1lPWModC5wcmltYXJ5S2V5LmtleVBhdGgsMCx0LnByaW1hcnlLZXkpO3VbIjppZCJdPVtlXTtmb3IodmFyIG49MCxyPXQuaW5kZXhlcztuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtjKGkua2V5UGF0aCwwLGkpfWZ1bmN0aW9uIGwoZSl7dmFyIHQsbj1lLnF1ZXJ5LmluZGV4O3JldHVybiBuLmlzVmlydHVhbD9nKGcoe30sZSkse3F1ZXJ5OntpbmRleDpuLHJhbmdlOih0PWUucXVlcnkucmFuZ2Usbj1uLmtleVRhaWwse3R5cGU6MT09PXQudHlwZT8yOnQudHlwZSxsb3dlcjpEbih0Lmxvd2VyLHQubG93ZXJPcGVuP2YuTUFYX0tFWTpmLk1JTl9LRVksbiksbG93ZXJPcGVuOiEwLHVwcGVyOkRuKHQudXBwZXIsdC51cHBlck9wZW4/Zi5NSU5fS0VZOmYuTUFYX0tFWSxuKSx1cHBlck9wZW46ITB9KX19KTplfXJldHVybiBnKGcoe30sYSkse3NjaGVtYTpnKGcoe30sdCkse3ByaW1hcnlLZXk6ZSxpbmRleGVzOnMsZ2V0SW5kZXhCeUtleVBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuKGU9dVtobihlKV0pJiZlWzBdfX0pLGNvdW50OmZ1bmN0aW9uKGUpe3JldHVybiBhLmNvdW50KGwoZSkpfSxxdWVyeTpmdW5jdGlvbihlKXtyZXR1cm4gYS5xdWVyeShsKGUpKX0sb3BlbkN1cnNvcjpmdW5jdGlvbih0KXt2YXIgZT10LnF1ZXJ5LmluZGV4LHI9ZS5rZXlUYWlsLG49ZS5pc1ZpcnR1YWwsaT1lLmtleUxlbmd0aDtyZXR1cm4gbj9hLm9wZW5DdXJzb3IobCh0KSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZSYmbyhlKX0pOmEub3BlbkN1cnNvcih0KTtmdW5jdGlvbiBvKG4pe3JldHVybiBPYmplY3QuY3JlYXRlKG4se2NvbnRpbnVlOnt2YWx1ZTpmdW5jdGlvbihlKXtudWxsIT1lP24uY29udGludWUoRG4oZSx0LnJldmVyc2U/Zi5NQVhfS0VZOmYuTUlOX0tFWSxyKSk6dC51bmlxdWU/bi5jb250aW51ZShuLmtleS5zbGljZSgwLGkpLmNvbmNhdCh0LnJldmVyc2U/Zi5NSU5fS0VZOmYuTUFYX0tFWSxyKSk6bi5jb250aW51ZSgpfX0sY29udGludWVQcmltYXJ5S2V5Ont2YWx1ZTpmdW5jdGlvbihlLHQpe24uY29udGludWVQcmltYXJ5S2V5KERuKGUsZi5NQVhfS0VZLHIpLHQpfX0scHJpbWFyeUtleTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ucHJpbWFyeUtleX19LGtleTp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9bi5rZXk7cmV0dXJuIDE9PT1pP2VbMF06ZS5zbGljZSgwLGkpfX0sdmFsdWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBuLnZhbHVlfX19KX19fSl9fSl9fTtmdW5jdGlvbiBCbihpLG8sYSx1KXtyZXR1cm4gYT1hfHx7fSx1PXV8fCIiLHgoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLHI7bShvLGUpPyh0PWlbZV0sbj1vW2VdLCJvYmplY3QiPT10eXBlb2YgdCYmIm9iamVjdCI9PXR5cGVvZiBuJiZ0JiZuPyhyPWoodCkpIT09aihuKT9hW3UrZV09b1tlXToiT2JqZWN0Ij09PXI/Qm4odCxuLGEsdStlKyIuIik6dCE9PW4mJihhW3UrZV09b1tlXSk6dCE9PW4mJihhW3UrZV09b1tlXSkpOmFbdStlXT12b2lkIDB9KSx4KG8pLmZvckVhY2goZnVuY3Rpb24oZSl7bShpLGUpfHwoYVt1K2VdPW9bZV0pfSksYX12YXIgVG49e3N0YWNrOiJkYmNvcmUiLG5hbWU6Ikhvb2tzTWlkZGxld2FyZSIsbGV2ZWw6MixjcmVhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZyh7fSxlKSx7dGFibGU6ZnVuY3Rpb24ocil7dmFyIHk9ZS50YWJsZShyKSx2PXkuc2NoZW1hLnByaW1hcnlLZXk7cmV0dXJuIGcoZyh7fSx5KSx7bXV0YXRlOmZ1bmN0aW9uKGUpe3ZhciB0PU9lLnRyYW5zLG49dC50YWJsZShyKS5ob29rLGg9bi5kZWxldGluZyxkPW4uY3JlYXRpbmcscD1uLnVwZGF0aW5nO3N3aXRjaChlLnR5cGUpe2Nhc2UiYWRkIjppZihkLmZpcmU9PT1aKWJyZWFrO3JldHVybiB0Ll9wcm9taXNlKCJyZWFkd3JpdGUiLGZ1bmN0aW9uKCl7cmV0dXJuIGEoZSl9LCEwKTtjYXNlInB1dCI6aWYoZC5maXJlPT09WiYmcC5maXJlPT09WilicmVhaztyZXR1cm4gdC5fcHJvbWlzZSgicmVhZHdyaXRlIixmdW5jdGlvbigpe3JldHVybiBhKGUpfSwhMCk7Y2FzZSJkZWxldGUiOmlmKGguZmlyZT09PVopYnJlYWs7cmV0dXJuIHQuX3Byb21pc2UoInJlYWR3cml0ZSIsZnVuY3Rpb24oKXtyZXR1cm4gYShlKX0sITApO2Nhc2UiZGVsZXRlUmFuZ2UiOmlmKGguZmlyZT09PVopYnJlYWs7cmV0dXJuIHQuX3Byb21pc2UoInJlYWR3cml0ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gbihyLGksbyl7cmV0dXJuIHkucXVlcnkoe3RyYW5zOnIsdmFsdWVzOiExLHF1ZXJ5OntpbmRleDp2LHJhbmdlOml9LGxpbWl0Om99KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVzdWx0O3JldHVybiBhKHt0eXBlOiJkZWxldGUiLGtleXM6dCx0cmFuczpyfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLm51bUZhaWx1cmVzP1Byb21pc2UucmVqZWN0KGUuZmFpbHVyZXNbMF0pOnQubGVuZ3RoPG8/e2ZhaWx1cmVzOltdLG51bUZhaWx1cmVzOjAsbGFzdFJlc3VsdDp2b2lkIDB9Om4ocixnKGcoe30saSkse2xvd2VyOnRbdC5sZW5ndGgtMV0sbG93ZXJPcGVuOiEwfSksbyl9KX0pfShlLnRyYW5zLGUucmFuZ2UsMWU0KX0sITApfXJldHVybiB5Lm11dGF0ZShlKTtmdW5jdGlvbiBhKGMpe3ZhciBlLHQsbixsPU9lLnRyYW5zLGY9Yy5rZXlzfHwodD12LCJkZWxldGUiPT09KG49YykudHlwZT9uLmtleXM6bi5rZXlzfHxuLnZhbHVlcy5tYXAodC5leHRyYWN0S2V5KSk7aWYoIWYpdGhyb3cgbmV3IEVycm9yKCJLZXlzIG1pc3NpbmciKTtyZXR1cm4iZGVsZXRlIiE9PShjPSJhZGQiPT09Yy50eXBlfHwicHV0Ij09PWMudHlwZT9nKGcoe30sYykse2tleXM6Zn0pOmcoe30sYykpLnR5cGUmJihjLnZhbHVlcz1pKFtdLGMudmFsdWVzLCEwKSksYy5rZXlzJiYoYy5rZXlzPWkoW10sYy5rZXlzLCEwKSksZT15LG49ZiwoImFkZCI9PT0odD1jKS50eXBlP1Byb21pc2UucmVzb2x2ZShbXSk6ZS5nZXRNYW55KHt0cmFuczp0LnRyYW5zLGtleXM6bixjYWNoZToiaW1tdXRhYmxlIn0pKS50aGVuKGZ1bmN0aW9uKHUpe3ZhciBzPWYubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG89dVt0XSxhPXtvbmVycm9yOm51bGwsb25zdWNjZXNzOm51bGx9O3JldHVybiJkZWxldGUiPT09Yy50eXBlP2guZmlyZS5jYWxsKGEsZSxvLGwpOiJhZGQiPT09Yy50eXBlfHx2b2lkIDA9PT1vPyhuPWQuZmlyZS5jYWxsKGEsZSxjLnZhbHVlc1t0XSxsKSxudWxsPT1lJiZudWxsIT1uJiYoYy5rZXlzW3RdPWU9bix2Lm91dGJvdW5kfHxFKGMudmFsdWVzW3RdLHYua2V5UGF0aCxlKSkpOihuPUJuKG8sYy52YWx1ZXNbdF0pLChyPXAuZmlyZS5jYWxsKGEsbixlLG8sbCkpJiYoaT1jLnZhbHVlc1t0XSxPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe20oaSxlKT9pW2VdPXJbZV06RShpLGUscltlXSl9KSkpLGF9KTtyZXR1cm4geS5tdXRhdGUoYykudGhlbihmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5mYWlsdXJlcyxuPWUucmVzdWx0cyxyPWUubnVtRmFpbHVyZXMsZT1lLmxhc3RSZXN1bHQsaT0wO2k8Zi5sZW5ndGg7KytpKXt2YXIgbz0obnx8ZilbaV0sYT1zW2ldO251bGw9PW8/YS5vbmVycm9yJiZhLm9uZXJyb3IodFtpXSk6YS5vbnN1Y2Nlc3MmJmEub25zdWNjZXNzKCJwdXQiPT09Yy50eXBlJiZ1W2ldP2MudmFsdWVzW2ldOm8pfXJldHVybntmYWlsdXJlczp0LHJlc3VsdHM6bixudW1GYWlsdXJlczpyLGxhc3RSZXN1bHQ6ZX19KS5jYXRjaChmdW5jdGlvbih0KXtyZXR1cm4gcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm9uZXJyb3ImJmUub25lcnJvcih0KX0pLFByb21pc2UucmVqZWN0KHQpfSl9KX19fSl9fSl9fTtmdW5jdGlvbiBSbihlLHQsbil7dHJ5e2lmKCF0KXJldHVybiBudWxsO2lmKHQua2V5cy5sZW5ndGg8ZS5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciByPVtdLGk9MCxvPTA7aTx0LmtleXMubGVuZ3RoJiZvPGUubGVuZ3RoOysraSkwPT09UnQodC5rZXlzW2ldLGVbb10pJiYoci5wdXNoKG4/QSh0LnZhbHVlc1tpXSk6dC52YWx1ZXNbaV0pLCsrbyk7cmV0dXJuIHIubGVuZ3RoPT09ZS5sZW5ndGg/cjpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX12YXIgRm49e3N0YWNrOiJkYmNvcmUiLGxldmVsOi0xLGNyZWF0ZTpmdW5jdGlvbih0KXtyZXR1cm57dGFibGU6ZnVuY3Rpb24oZSl7dmFyIG49dC50YWJsZShlKTtyZXR1cm4gZyhnKHt9LG4pLHtnZXRNYW55OmZ1bmN0aW9uKHQpe2lmKCF0LmNhY2hlKXJldHVybiBuLmdldE1hbnkodCk7dmFyIGU9Um4odC5rZXlzLHQudHJhbnMuX2NhY2hlLCJjbG9uZSI9PT10LmNhY2hlKTtyZXR1cm4gZT9qZS5yZXNvbHZlKGUpOm4uZ2V0TWFueSh0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRyYW5zLl9jYWNoZT17a2V5czp0LmtleXMsdmFsdWVzOiJjbG9uZSI9PT10LmNhY2hlP0EoZSk6ZX0sZX0pfSxtdXRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuImFkZCIhPT1lLnR5cGUmJihlLnRyYW5zLl9jYWNoZT1udWxsKSxuLm11dGF0ZShlKX19KX19fX07ZnVuY3Rpb24gTW4oZSl7cmV0dXJuISgiZnJvbSJpbiBlKX12YXIgTm49ZnVuY3Rpb24oZSx0KXtpZighdGhpcyl7dmFyIG49bmV3IE5uO3JldHVybiBlJiYiZCJpbiBlJiZ1KG4sZSksbn11KHRoaXMsYXJndW1lbnRzLmxlbmd0aD97ZDoxLGZyb206ZSx0bzoxPGFyZ3VtZW50cy5sZW5ndGg/dDplfTp7ZDowfSl9O2Z1bmN0aW9uIHFuKGUsdCxuKXt2YXIgcj1SdCh0LG4pO2lmKCFpc05hTihyKSl7aWYoMDxyKXRocm93IFJhbmdlRXJyb3IoKTtpZihNbihlKSlyZXR1cm4gdShlLHtmcm9tOnQsdG86bixkOjF9KTt2YXIgaT1lLmwscj1lLnI7aWYoUnQobixlLmZyb20pPDApcmV0dXJuIGk/cW4oaSx0LG4pOmUubD17ZnJvbTp0LHRvOm4sZDoxLGw6bnVsbCxyOm51bGx9LFduKGUpO2lmKDA8UnQodCxlLnRvKSlyZXR1cm4gcj9xbihyLHQsbik6ZS5yPXtmcm9tOnQsdG86bixkOjEsbDpudWxsLHI6bnVsbH0sV24oZSk7UnQodCxlLmZyb20pPDAmJihlLmZyb209dCxlLmw9bnVsbCxlLmQ9cj9yLmQrMToxKSwwPFJ0KG4sZS50bykmJihlLnRvPW4sZS5yPW51bGwsZS5kPWUubD9lLmwuZCsxOjEpO249IWUucjtpJiYhZS5sJiZVbihlLGkpLHImJm4mJlVuKGUscil9fWZ1bmN0aW9uIFVuKGUsdCl7TW4odCl8fGZ1bmN0aW9uIGUodCxuKXt2YXIgcj1uLmZyb20saT1uLnRvLG89bi5sLG49bi5yO3FuKHQscixpKSxvJiZlKHQsbyksbiYmZSh0LG4pfShlLHQpfWZ1bmN0aW9uIExuKGUsdCl7dmFyIG49Vm4odCkscj1uLm5leHQoKTtpZihyLmRvbmUpcmV0dXJuITE7Zm9yKHZhciBpPXIudmFsdWUsbz1WbihlKSxhPW8ubmV4dChpLmZyb20pLHU9YS52YWx1ZTshci5kb25lJiYhYS5kb25lOyl7aWYoUnQodS5mcm9tLGkudG8pPD0wJiYwPD1SdCh1LnRvLGkuZnJvbSkpcmV0dXJuITA7UnQoaS5mcm9tLHUuZnJvbSk8MD9pPShyPW4ubmV4dCh1LmZyb20pKS52YWx1ZTp1PShhPW8ubmV4dChpLmZyb20pKS52YWx1ZX1yZXR1cm4hMX1mdW5jdGlvbiBWbihlKXt2YXIgbj1NbihlKT9udWxsOntzOjAsbjplfTtyZXR1cm57bmV4dDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoO247KXN3aXRjaChuLnMpe2Nhc2UgMDppZihuLnM9MSx0KWZvcig7bi5uLmwmJlJ0KGUsbi5uLmZyb20pPDA7KW49e3VwOm4sbjpuLm4ubCxzOjF9O2Vsc2UgZm9yKDtuLm4ubDspbj17dXA6bixuOm4ubi5sLHM6MX07Y2FzZSAxOmlmKG4ucz0yLCF0fHxSdChlLG4ubi50byk8PTApcmV0dXJue3ZhbHVlOm4ubixkb25lOiExfTtjYXNlIDI6aWYobi5uLnIpe24ucz0zLG49e3VwOm4sbjpuLm4ucixzOjB9O2NvbnRpbnVlfWNhc2UgMzpuPW4udXB9cmV0dXJue2RvbmU6ITB9fX19ZnVuY3Rpb24gV24oZSl7dmFyIHQsbixyPSgobnVsbD09PSh0PWUucil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZCl8fDApLSgobnVsbD09PShuPWUubCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZCl8fDApLGk9MTxyPyJyIjpyPC0xPyJsIjoiIjtpJiYodD0iciI9PWk/ImwiOiJyIixuPWcoe30sZSkscj1lW2ldLGUuZnJvbT1yLmZyb20sZS50bz1yLnRvLGVbaV09cltpXSxuW2ldPXJbdF0sKGVbdF09bikuZD16bihuKSksZS5kPXpuKGUpfWZ1bmN0aW9uIHpuKGUpe3ZhciB0PWUucixlPWUubDtyZXR1cm4odD9lP01hdGgubWF4KHQuZCxlLmQpOnQuZDplP2UuZDowKSsxfXIoTm4ucHJvdG90eXBlLCgoZT17YWRkOmZ1bmN0aW9uKGUpe3JldHVybiBVbih0aGlzLGUpLHRoaXN9LGFkZEtleTpmdW5jdGlvbihlKXtyZXR1cm4gcW4odGhpcyxlLGUpLHRoaXN9LGFkZEtleXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBxbih0LGUsZSl9KSx0aGlzfX0pW0RdPWZ1bmN0aW9uKCl7cmV0dXJuIFZuKHRoaXMpfSxlKSk7dmFyIFluPXtzdGFjazoiZGJjb3JlIixsZXZlbDowLGNyZWF0ZTpmdW5jdGlvbihyKXt2YXIgdj1yLnNjaGVtYS5uYW1lLG09bmV3IE5uKHIuTUlOX0tFWSxyLk1BWF9LRVkpO3JldHVybiBnKGcoe30scikse3RhYmxlOmZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGUoZSl7dmFyIGU9KHQ9ZS5xdWVyeSkuaW5kZXgsdD10LnJhbmdlO3JldHVybltlLG5ldyBObihudWxsIT09KGU9dC5sb3dlcikmJnZvaWQgMCE9PWU/ZTpyLk1JTl9LRVksbnVsbCE9PSh0PXQudXBwZXIpJiZ2b2lkIDAhPT10P3Q6ci5NQVhfS0VZKV19dmFyIHA9ci50YWJsZShkKSx5PXAuc2NoZW1hLHQ9eS5wcmltYXJ5S2V5LGM9dC5leHRyYWN0S2V5LGw9dC5vdXRib3VuZCxuPWcoZyh7fSxwKSx7bXV0YXRlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIHJbZT0iaWRiOi8vIit2KyIvIitkKyIvIitlXXx8KHJbZV09bmV3IE5uKX12YXIgdD1lLnRyYW5zLHI9dC5tdXRhdGVkUGFydHN8fCh0Lm11dGF0ZWRQYXJ0cz17fSksaT1uKCIiKSxzPW4oIjpkZWxzIiksYz1lLnR5cGUsdD0iZGVsZXRlUmFuZ2UiPT09ZS50eXBlP1tlLnJhbmdlXToiZGVsZXRlIj09PWUudHlwZT9bZS5rZXlzXTplLnZhbHVlcy5sZW5ndGg8NTA/W1tdLGUudmFsdWVzXTpbXSxsPXRbMF0sZj10WzFdLGg9ZS50cmFucy5fY2FjaGU7cmV0dXJuIHAubXV0YXRlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQsbyxhLHU7cmV0dXJuIGIobCk/KCJkZWxldGUiIT09YyYmKGw9ZS5yZXN1bHRzKSxpLmFkZEtleXMobCksKHQ9Um4obCxoKSl8fCJhZGQiPT09Y3x8cy5hZGRLZXlzKGwpLCh0fHxmKSYmKG89bixhPXQsdT1mLHkuaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPW8odC5uYW1lfHwiIik7ZnVuY3Rpb24gcihlKXtyZXR1cm4gbnVsbCE9ZT90LmV4dHJhY3RLZXkoZSk6bnVsbH1mdW5jdGlvbiBpKGUpe3JldHVybiB0Lm11bHRpRW50cnkmJmIoZSk/ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmFkZEtleShlKX0pOm4uYWRkS2V5KGUpfShhfHx1KS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49YSYmcihhW3RdKSx0PXUmJnIodVt0XSk7MCE9PVJ0KG4sdCkmJihudWxsIT1uJiZpKG4pLG51bGwhPXQmJmkodCkpfSl9KSkpOmw/KHQ9e2Zyb206bC5sb3dlcix0bzpsLnVwcGVyfSxzLmFkZCh0KSxpLmFkZCh0KSk6KGkuYWRkKG0pLHMuYWRkKG0pLHkuaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUubmFtZSkuYWRkKG0pfSkpLGV9KX19KSxmPXtnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuW3QsbmV3IE5uKGUua2V5KV19LGdldE1hbnk6ZnVuY3Rpb24oZSl7cmV0dXJuW3QsKG5ldyBObikuYWRkS2V5cyhlLmtleXMpXX0sY291bnQ6ZSxxdWVyeTplLG9wZW5DdXJzb3I6ZX07cmV0dXJuIHgoZikuZm9yRWFjaChmdW5jdGlvbihzKXtuW3NdPWZ1bmN0aW9uKGkpe3ZhciB0PU9lLnN1YnNjcjtpZih0KXt2YXIgZT1mdW5jdGlvbihlKXtlPSJpZGI6Ly8iK3YrIi8iK2QrIi8iK2U7cmV0dXJuIHRbZV18fCh0W2VdPW5ldyBObil9LG89ZSgiIiksYT1lKCI6ZGVscyIpLG49ZltzXShpKSxyPW5bMF0sbj1uWzFdO2lmKGUoci5uYW1lfHwiIikuYWRkKG4pLCFyLmlzUHJpbWFyeUtleSl7aWYoImNvdW50IiE9PXMpe3ZhciB1PSJxdWVyeSI9PT1zJiZsJiZpLnZhbHVlcyYmcC5xdWVyeShnKGcoe30saSkse3ZhbHVlczohMX0pKTtyZXR1cm4gcFtzXS5hcHBseSh0aGlzLGFyZ3VtZW50cykudGhlbihmdW5jdGlvbih0KXtpZigicXVlcnkiPT09cyl7aWYobCYmaS52YWx1ZXMpcmV0dXJuIHUudGhlbihmdW5jdGlvbihlKXtlPWUucmVzdWx0O3JldHVybiBvLmFkZEtleXMoZSksdH0pO3ZhciBlPWkudmFsdWVzP3QucmVzdWx0Lm1hcChjKTp0LnJlc3VsdDsoaS52YWx1ZXM/bzphKS5hZGRLZXlzKGUpfWVsc2UgaWYoIm9wZW5DdXJzb3IiPT09cyl7dmFyIG49dCxyPWkudmFsdWVzO3JldHVybiBuJiZPYmplY3QuY3JlYXRlKG4se2tleTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuYWRkS2V5KG4ucHJpbWFyeUtleSksbi5rZXl9fSxwcmltYXJ5S2V5OntnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1uLnByaW1hcnlLZXk7cmV0dXJuIGEuYWRkS2V5KGUpLGV9fSx2YWx1ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHImJm8uYWRkS2V5KG4ucHJpbWFyeUtleSksbi52YWx1ZX19fSl9cmV0dXJuIHR9KX1hLmFkZChtKX19cmV0dXJuIHBbc10uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLG59fSl9fTt2YXIgR249KEhuLnByb3RvdHlwZS52ZXJzaW9uPWZ1bmN0aW9uKHQpe2lmKGlzTmFOKHQpfHx0PC4xKXRocm93IG5ldyBKLlR5cGUoIkdpdmVuIHZlcnNpb24gaXMgbm90IGEgcG9zaXRpdmUgbnVtYmVyIik7aWYodD1NYXRoLnJvdW5kKDEwKnQpLzEwLHRoaXMuaWRiZGJ8fHRoaXMuX3N0YXRlLmlzQmVpbmdPcGVuZWQpdGhyb3cgbmV3IEouU2NoZW1hKCJDYW5ub3QgYWRkIHZlcnNpb24gd2hlbiBkYXRhYmFzZSBpcyBvcGVuIik7dGhpcy52ZXJubz1NYXRoLm1heCh0aGlzLnZlcm5vLHQpO3ZhciBlPXRoaXMuX3ZlcnNpb25zLG49ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2NmZy52ZXJzaW9uPT09dH0pWzBdO3JldHVybiBufHwobj1uZXcgdGhpcy5WZXJzaW9uKHQpLGUucHVzaChuKSxlLnNvcnQoZ24pLG4uc3RvcmVzKHt9KSx0aGlzLl9zdGF0ZS5hdXRvU2NoZW1hPSExLG4pfSxIbi5wcm90b3R5cGUuX3doZW5SZWFkeT1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmlkYmRiJiYodGhpcy5fc3RhdGUub3BlbkNvbXBsZXRlfHxPZS5sZXRUaHJvdWdofHx0aGlzLl92aXApP2UoKTpuZXcgamUoZnVuY3Rpb24oZSx0KXtpZihuLl9zdGF0ZS5vcGVuQ29tcGxldGUpcmV0dXJuIHQobmV3IEouRGF0YWJhc2VDbG9zZWQobi5fc3RhdGUuZGJPcGVuRXJyb3IpKTtpZighbi5fc3RhdGUuaXNCZWluZ09wZW5lZCl7aWYoIW4uX29wdGlvbnMuYXV0b09wZW4pcmV0dXJuIHZvaWQgdChuZXcgSi5EYXRhYmFzZUNsb3NlZCk7bi5vcGVuKCkuY2F0Y2goWil9bi5fc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihlLHQpfSkudGhlbihlKX0sSG4ucHJvdG90eXBlLnVzZT1mdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLG49ZS5jcmVhdGUscj1lLmxldmVsLGk9ZS5uYW1lO2kmJnRoaXMudW51c2Uoe3N0YWNrOnQsbmFtZTppfSk7ZT10aGlzLl9taWRkbGV3YXJlc1t0XXx8KHRoaXMuX21pZGRsZXdhcmVzW3RdPVtdKTtyZXR1cm4gZS5wdXNoKHtzdGFjazp0LGNyZWF0ZTpuLGxldmVsOm51bGw9PXI/MTA6cixuYW1lOml9KSxlLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5sZXZlbC10LmxldmVsfSksdGhpc30sSG4ucHJvdG90eXBlLnVudXNlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2ssbj1lLm5hbWUscj1lLmNyZWF0ZTtyZXR1cm4gdCYmdGhpcy5fbWlkZGxld2FyZXNbdF0mJih0aGlzLl9taWRkbGV3YXJlc1t0XT10aGlzLl9taWRkbGV3YXJlc1t0XS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHI/ZS5jcmVhdGUhPT1yOiEhbiYmZS5uYW1lIT09bn0pKSx0aGlzfSxIbi5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3JldHVybiBDbih0aGlzKX0sSG4ucHJvdG90eXBlLl9jbG9zZT1mdW5jdGlvbigpe3ZhciBuPXRoaXMuX3N0YXRlLGU9eXQuaW5kZXhPZih0aGlzKTtpZigwPD1lJiZ5dC5zcGxpY2UoZSwxKSx0aGlzLmlkYmRiKXt0cnl7dGhpcy5pZGJkYi5jbG9zZSgpfWNhdGNoKGUpe310aGlzLl9ub3ZpcC5pZGJkYj1udWxsfW4uZGJSZWFkeVByb21pc2U9bmV3IGplKGZ1bmN0aW9uKGUpe24uZGJSZWFkeVJlc29sdmU9ZX0pLG4ub3BlbkNhbmNlbGxlcj1uZXcgamUoZnVuY3Rpb24oZSx0KXtuLmNhbmNlbE9wZW49dH0pfSxIbi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpO3ZhciBlPXRoaXMuX3N0YXRlO3RoaXMuX29wdGlvbnMuYXV0b09wZW49ITEsZS5kYk9wZW5FcnJvcj1uZXcgSi5EYXRhYmFzZUNsb3NlZCxlLmlzQmVpbmdPcGVuZWQmJmUuY2FuY2VsT3BlbihlLmRiT3BlbkVycm9yKX0sSG4ucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3ZhciBpPXRoaXMsbj0wPGFyZ3VtZW50cy5sZW5ndGgsbz10aGlzLl9zdGF0ZTtyZXR1cm4gbmV3IGplKGZ1bmN0aW9uKHIsdCl7ZnVuY3Rpb24gZSgpe2kuY2xvc2UoKTt2YXIgZT1pLl9kZXBzLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShpLm5hbWUpO2Uub25zdWNjZXNzPVdlKGZ1bmN0aW9uKCl7dmFyIGUsdCxuO2U9aS5fZGVwcyx0PWkubmFtZSxuPWUuaW5kZXhlZERCLGU9ZS5JREJLZXlSYW5nZSxTbihuKXx8dD09PWJ0fHxPbihuLGUpLmRlbGV0ZSh0KS5jYXRjaChaKSxyKCl9KSxlLm9uZXJyb3I9SnQodCksZS5vbmJsb2NrZWQ9aS5fZmlyZU9uQmxvY2tlZH1pZihuKXRocm93IG5ldyBKLkludmFsaWRBcmd1bWVudCgiQXJndW1lbnRzIG5vdCBhbGxvd2VkIGluIGRiLmRlbGV0ZSgpIik7by5pc0JlaW5nT3BlbmVkP28uZGJSZWFkeVByb21pc2UudGhlbihlKTplKCl9KX0sSG4ucHJvdG90eXBlLmJhY2tlbmREQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlkYmRifSxIbi5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmlkYmRifSxIbi5wcm90b3R5cGUuaGFzQmVlbkNsb3NlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3N0YXRlLmRiT3BlbkVycm9yO3JldHVybiBlJiYiRGF0YWJhc2VDbG9zZWQiPT09ZS5uYW1lfSxIbi5wcm90b3R5cGUuaGFzRmFpbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9zdGF0ZS5kYk9wZW5FcnJvcn0sSG4ucHJvdG90eXBlLmR5bmFtaWNhbGx5T3BlbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlLmF1dG9TY2hlbWF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbi5wcm90b3R5cGUsInRhYmxlcyIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHgodGhpcy5fYWxsVGFibGVzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2FsbFRhYmxlc1tlXX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEhuLnByb3RvdHlwZS50cmFuc2FjdGlvbj1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoO2lmKHI8Mil0aHJvdyBuZXcgSi5JbnZhbGlkQXJndW1lbnQoIlRvbyBmZXcgYXJndW1lbnRzIik7Zm9yKHZhciBpPW5ldyBBcnJheShyLTEpOy0tcjspaVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbj1pLnBvcCgpLFtlLEsoaSksbl19LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uYXBwbHkodGhpcyxlKX0sSG4ucHJvdG90eXBlLl90cmFuc2FjdGlvbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxpPU9lLnRyYW5zO2kmJmkuZGI9PT10aGlzJiYtMT09PWUuaW5kZXhPZigiISIpfHwoaT1udWxsKTt2YXIgbyxhLHU9LTEhPT1lLmluZGV4T2YoIj8iKTtlPWUucmVwbGFjZSgiISIsIiIpLnJlcGxhY2UoIj8iLCIiKTt0cnl7aWYoYT10Lm1hcChmdW5jdGlvbihlKXtlPWUgaW5zdGFuY2VvZiByLlRhYmxlP2UubmFtZTplO2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIHRhYmxlIGFyZ3VtZW50IHRvIERleGllLnRyYW5zYWN0aW9uKCkuIE9ubHkgVGFibGUgb3IgU3RyaW5nIGFyZSBhbGxvd2VkIik7cmV0dXJuIGV9KSwiciI9PWV8fGU9PT1fdClvPV90O2Vsc2V7aWYoInJ3IiE9ZSYmZSE9d3QpdGhyb3cgbmV3IEouSW52YWxpZEFyZ3VtZW50KCJJbnZhbGlkIHRyYW5zYWN0aW9uIG1vZGU6ICIrZSk7bz13dH1pZihpKXtpZihpLm1vZGU9PT1fdCYmbz09PXd0KXtpZighdSl0aHJvdyBuZXcgSi5TdWJUcmFuc2FjdGlvbigiQ2Fubm90IGVudGVyIGEgc3ViLXRyYW5zYWN0aW9uIHdpdGggUkVBRFdSSVRFIG1vZGUgd2hlbiBwYXJlbnQgdHJhbnNhY3Rpb24gaXMgUkVBRE9OTFkiKTtpPW51bGx9aSYmYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGkmJi0xPT09aS5zdG9yZU5hbWVzLmluZGV4T2YoZSkpe2lmKCF1KXRocm93IG5ldyBKLlN1YlRyYW5zYWN0aW9uKCJUYWJsZSAiK2UrIiBub3QgaW5jbHVkZWQgaW4gcGFyZW50IHRyYW5zYWN0aW9uLiIpO2k9bnVsbH19KSx1JiZpJiYhaS5hY3RpdmUmJihpPW51bGwpfX1jYXRjaChuKXtyZXR1cm4gaT9pLl9wcm9taXNlKG51bGwsZnVuY3Rpb24oZSx0KXt0KG4pfSk6bHQobil9dmFyIHM9ZnVuY3Rpb24gaShvLGEsdSxzLGMpe3JldHVybiBqZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3ZhciBlPU9lLnRyYW5zbGVzc3x8T2UsdD1vLl9jcmVhdGVUcmFuc2FjdGlvbihhLHUsby5fZGJTY2hlbWEscyksZT17dHJhbnM6dCx0cmFuc2xlc3M6ZX07aWYocyl0LmlkYnRyYW5zPXMuaWRidHJhbnM7ZWxzZSB0cnl7dC5jcmVhdGUoKSxvLl9zdGF0ZS5QUjEzOThfbWF4TG9vcD0zfWNhdGNoKGUpe3JldHVybiBlLm5hbWU9PT1RLkludmFsaWRTdGF0ZSYmby5pc09wZW4oKSYmMDwtLW8uX3N0YXRlLlBSMTM5OF9tYXhMb29wPyhjb25zb2xlLndhcm4oIkRleGllOiBOZWVkIHRvIHJlb3BlbiBkYiIpLG8uX2Nsb3NlKCksby5vcGVuKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBpKG8sYSx1LG51bGwsYyl9KSk6bHQoZSl9dmFyIG4scj1SKGMpO3JldHVybiByJiYkZSgpLGU9amUuZm9sbG93KGZ1bmN0aW9uKCl7dmFyIGU7KG49Yy5jYWxsKHQsdCkpJiYocj8oZT1aZS5iaW5kKG51bGwsbnVsbCksbi50aGVuKGUsZSkpOiJmdW5jdGlvbiI9PXR5cGVvZiBuLm5leHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBuLnRocm93JiYobj1qbihuKSkpfSxlKSwobiYmImZ1bmN0aW9uIj09dHlwZW9mIG4udGhlbj9qZS5yZXNvbHZlKG4pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuYWN0aXZlP2U6bHQobmV3IEouUHJlbWF0dXJlQ29tbWl0KCJUcmFuc2FjdGlvbiBjb21taXR0ZWQgdG9vIGVhcmx5LiBTZWUgaHR0cDovL2JpdC5seS8ya2Rja01uIikpfSk6ZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gcyYmdC5fcmVzb2x2ZSgpLHQuX2NvbXBsZXRpb24udGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5fcmVqZWN0KGUpLGx0KGUpfSl9KX0uYmluZChudWxsLHRoaXMsbyxhLGksbik7cmV0dXJuIGk/aS5fcHJvbWlzZShvLHMsImxvY2siKTpPZS50cmFucz9pdChPZS50cmFuc2xlc3MsZnVuY3Rpb24oKXtyZXR1cm4gci5fd2hlblJlYWR5KHMpfSk6dGhpcy5fd2hlblJlYWR5KHMpfSxIbi5wcm90b3R5cGUudGFibGU9ZnVuY3Rpb24oZSl7aWYoIW0odGhpcy5fYWxsVGFibGVzLGUpKXRocm93IG5ldyBKLkludmFsaWRUYWJsZSgiVGFibGUgIitlKyIgZG9lcyBub3QgZXhpc3QiKTtyZXR1cm4gdGhpcy5fYWxsVGFibGVzW2VdfSxIbik7ZnVuY3Rpb24gSG4oZSx0KXt2YXIgbz10aGlzO3RoaXMuX21pZGRsZXdhcmVzPXt9LHRoaXMudmVybm89MDt2YXIgbj1Ibi5kZXBlbmRlbmNpZXM7dGhpcy5fb3B0aW9ucz10PWcoe2FkZG9uczpIbi5hZGRvbnMsYXV0b09wZW46ITAsaW5kZXhlZERCOm4uaW5kZXhlZERCLElEQktleVJhbmdlOm4uSURCS2V5UmFuZ2V9LHQpLHRoaXMuX2RlcHM9e2luZGV4ZWREQjp0LmluZGV4ZWREQixJREJLZXlSYW5nZTp0LklEQktleVJhbmdlfTtuPXQuYWRkb25zO3RoaXMuX2RiU2NoZW1hPXt9LHRoaXMuX3ZlcnNpb25zPVtdLHRoaXMuX3N0b3JlTmFtZXM9W10sdGhpcy5fYWxsVGFibGVzPXt9LHRoaXMuaWRiZGI9bnVsbCx0aGlzLl9ub3ZpcD10aGlzO3ZhciBhLHIsdSxpLHMsYz17ZGJPcGVuRXJyb3I6bnVsbCxpc0JlaW5nT3BlbmVkOiExLG9uUmVhZHlCZWluZ0ZpcmVkOm51bGwsb3BlbkNvbXBsZXRlOiExLGRiUmVhZHlSZXNvbHZlOlosZGJSZWFkeVByb21pc2U6bnVsbCxjYW5jZWxPcGVuOlosb3BlbkNhbmNlbGxlcjpudWxsLGF1dG9TY2hlbWE6ITAsUFIxMzk4X21heExvb3A6M307Yy5kYlJlYWR5UHJvbWlzZT1uZXcgamUoZnVuY3Rpb24oZSl7Yy5kYlJlYWR5UmVzb2x2ZT1lfSksYy5vcGVuQ2FuY2VsbGVyPW5ldyBqZShmdW5jdGlvbihlLHQpe2MuY2FuY2VsT3Blbj10fSksdGhpcy5fc3RhdGU9Yyx0aGlzLm5hbWU9ZSx0aGlzLm9uPU90KHRoaXMsInBvcHVsYXRlIiwiYmxvY2tlZCIsInZlcnNpb25jaGFuZ2UiLCJjbG9zZSIse3JlYWR5Olt1ZSxaXX0pLHRoaXMub24ucmVhZHkuc3Vic2NyaWJlPXAodGhpcy5vbi5yZWFkeS5zdWJzY3JpYmUsZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7SG4udmlwKGZ1bmN0aW9uKCl7dmFyIHQsZT1vLl9zdGF0ZTtlLm9wZW5Db21wbGV0ZT8oZS5kYk9wZW5FcnJvcnx8amUucmVzb2x2ZSgpLnRoZW4obiksciYmaShuKSk6ZS5vblJlYWR5QmVpbmdGaXJlZD8oZS5vblJlYWR5QmVpbmdGaXJlZC5wdXNoKG4pLHImJmkobikpOihpKG4pLHQ9byxyfHxpKGZ1bmN0aW9uIGUoKXt0Lm9uLnJlYWR5LnVuc3Vic2NyaWJlKG4pLHQub24ucmVhZHkudW5zdWJzY3JpYmUoZSl9KSl9KX19KSx0aGlzLkNvbGxlY3Rpb249KGE9dGhpcyxTdChOdC5wcm90b3R5cGUsZnVuY3Rpb24oZSx0KXt0aGlzLmRiPWE7dmFyIG49a3Qscj1udWxsO2lmKHQpdHJ5e249dCgpfWNhdGNoKGUpe3I9ZX12YXIgaT1lLl9jdHgsdD1pLnRhYmxlLGU9dC5ob29rLnJlYWRpbmcuZmlyZTt0aGlzLl9jdHg9e3RhYmxlOnQsaW5kZXg6aS5pbmRleCxpc1ByaW1LZXk6IWkuaW5kZXh8fHQuc2NoZW1hLnByaW1LZXkua2V5UGF0aCYmaS5pbmRleD09PXQuc2NoZW1hLnByaW1LZXkubmFtZSxyYW5nZTpuLGtleXNPbmx5OiExLGRpcjoibmV4dCIsdW5pcXVlOiIiLGFsZ29yaXRobTpudWxsLGZpbHRlcjpudWxsLHJlcGxheUZpbHRlcjpudWxsLGp1c3RMaW1pdDohMCxpc01hdGNoOm51bGwsb2Zmc2V0OjAsbGltaXQ6MS8wLGVycm9yOnIsb3I6aS5vcix2YWx1ZU1hcHBlcjplIT09ZWU/ZTpudWxsfX0pKSx0aGlzLlRhYmxlPShyPXRoaXMsU3QoUHQucHJvdG90eXBlLGZ1bmN0aW9uKGUsdCxuKXt0aGlzLmRiPXIsdGhpcy5fdHg9bix0aGlzLm5hbWU9ZSx0aGlzLnNjaGVtYT10LHRoaXMuaG9vaz1yLl9hbGxUYWJsZXNbZV0/ci5fYWxsVGFibGVzW2VdLmhvb2s6T3QobnVsbCx7Y3JlYXRpbmc6W3JlLFpdLHJlYWRpbmc6W3RlLGVlXSx1cGRhdGluZzpbb2UsWl0sZGVsZXRpbmc6W2llLFpdfSl9KSksdGhpcy5UcmFuc2FjdGlvbj0odT10aGlzLFN0KG5uLnByb3RvdHlwZSxmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPXRoaXM7dGhpcy5kYj11LHRoaXMubW9kZT1lLHRoaXMuc3RvcmVOYW1lcz10LHRoaXMuc2NoZW1hPW4sdGhpcy5jaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHk9cix0aGlzLmlkYnRyYW5zPW51bGwsdGhpcy5vbj1PdCh0aGlzLCJjb21wbGV0ZSIsImVycm9yIiwiYWJvcnQiKSx0aGlzLnBhcmVudD1pfHxudWxsLHRoaXMuYWN0aXZlPSEwLHRoaXMuX3JlY3Vsb2NrPTAsdGhpcy5fYmxvY2tlZEZ1bmNzPVtdLHRoaXMuX3Jlc29sdmU9bnVsbCx0aGlzLl9yZWplY3Q9bnVsbCx0aGlzLl93YWl0aW5nRm9yPW51bGwsdGhpcy5fd2FpdGluZ1F1ZXVlPW51bGwsdGhpcy5fc3BpbkNvdW50PTAsdGhpcy5fY29tcGxldGlvbj1uZXcgamUoZnVuY3Rpb24oZSx0KXtvLl9yZXNvbHZlPWUsby5fcmVqZWN0PXR9KSx0aGlzLl9jb21wbGV0aW9uLnRoZW4oZnVuY3Rpb24oKXtvLmFjdGl2ZT0hMSxvLm9uLmNvbXBsZXRlLmZpcmUoKX0sZnVuY3Rpb24oZSl7dmFyIHQ9by5hY3RpdmU7cmV0dXJuIG8uYWN0aXZlPSExLG8ub24uZXJyb3IuZmlyZShlKSxvLnBhcmVudD9vLnBhcmVudC5fcmVqZWN0KGUpOnQmJm8uaWRidHJhbnMmJm8uaWRidHJhbnMuYWJvcnQoKSxsdChlKX0pfSkpLHRoaXMuVmVyc2lvbj0oaT10aGlzLFN0KFBuLnByb3RvdHlwZSxmdW5jdGlvbihlKXt0aGlzLmRiPWksdGhpcy5fY2ZnPXt2ZXJzaW9uOmUsc3RvcmVzU291cmNlOm51bGwsZGJzY2hlbWE6e30sdGFibGVzOnt9LGNvbnRlbnRVcGdyYWRlOm51bGx9fSkpLHRoaXMuV2hlcmVDbGF1c2U9KHM9dGhpcyxTdChRdC5wcm90b3R5cGUsZnVuY3Rpb24oZSx0LG4pe3RoaXMuZGI9cyx0aGlzLl9jdHg9e3RhYmxlOmUsaW5kZXg6IjppZCI9PT10P251bGw6dCxvcjpufTt2YXIgcj1zLl9kZXBzLmluZGV4ZWREQjtpZighcil0aHJvdyBuZXcgSi5NaXNzaW5nQVBJO3RoaXMuX2NtcD10aGlzLl9hc2NlbmRpbmc9ci5jbXAuYmluZChyKSx0aGlzLl9kZXNjZW5kaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY21wKHQsZSl9LHRoaXMuX21heD1mdW5jdGlvbihlLHQpe3JldHVybiAwPHIuY21wKGUsdCk/ZTp0fSx0aGlzLl9taW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jbXAoZSx0KTwwP2U6dH0sdGhpcy5fSURCS2V5UmFuZ2U9cy5fZGVwcy5JREJLZXlSYW5nZX0pKSx0aGlzLm9uKCJ2ZXJzaW9uY2hhbmdlIixmdW5jdGlvbihlKXswPGUubmV3VmVyc2lvbj9jb25zb2xlLndhcm4oIkFub3RoZXIgY29ubmVjdGlvbiB3YW50cyB0byB1cGdyYWRlIGRhdGFiYXNlICciK28ubmFtZSsiJy4gQ2xvc2luZyBkYiBub3cgdG8gcmVzdW1lIHRoZSB1cGdyYWRlLiIpOmNvbnNvbGUud2FybigiQW5vdGhlciBjb25uZWN0aW9uIHdhbnRzIHRvIGRlbGV0ZSBkYXRhYmFzZSAnIitvLm5hbWUrIicuIENsb3NpbmcgZGIgbm93IHRvIHJlc3VtZSB0aGUgZGVsZXRlIHJlcXVlc3QuIiksby5jbG9zZSgpfSksdGhpcy5vbigiYmxvY2tlZCIsZnVuY3Rpb24oZSl7IWUubmV3VmVyc2lvbnx8ZS5uZXdWZXJzaW9uPGUub2xkVmVyc2lvbj9jb25zb2xlLndhcm4oIkRleGllLmRlbGV0ZSgnIitvLm5hbWUrIicpIHdhcyBibG9ja2VkIik6Y29uc29sZS53YXJuKCJVcGdyYWRlICciK28ubmFtZSsiJyBibG9ja2VkIGJ5IG90aGVyIGNvbm5lY3Rpb24gaG9sZGluZyB2ZXJzaW9uICIrZS5vbGRWZXJzaW9uLzEwKX0pLHRoaXMuX21heEtleT1zbih0LklEQktleVJhbmdlKSx0aGlzLl9jcmVhdGVUcmFuc2FjdGlvbj1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3IG8uVHJhbnNhY3Rpb24oZSx0LG4sby5fb3B0aW9ucy5jaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHkscil9LHRoaXMuX2ZpcmVPbkJsb2NrZWQ9ZnVuY3Rpb24odCl7by5vbigiYmxvY2tlZCIpLmZpcmUodCkseXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT1vLm5hbWUmJmUhPT1vJiYhZS5fc3RhdGUudmNGaXJlZH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5vbigidmVyc2lvbmNoYW5nZSIpLmZpcmUodCl9KX0sdGhpcy51c2UoSW4pLHRoaXMudXNlKFRuKSx0aGlzLnVzZShZbiksdGhpcy51c2UoRm4pLHRoaXMudmlwPU9iamVjdC5jcmVhdGUodGhpcyx7X3ZpcDp7dmFsdWU6ITB9fSksbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlKG8pfSl9dmFyIGU9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJiJvYnNlcnZhYmxlImluIFN5bWJvbD9TeW1ib2wub2JzZXJ2YWJsZToiQEBvYnNlcnZhYmxlIixRbj0oWG4ucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuX3N1YnNjcmliZShlJiYiZnVuY3Rpb24iIT10eXBlb2YgZT9lOntuZXh0OmUsZXJyb3I6dCxjb21wbGV0ZTpufSl9LFhuLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxYbik7ZnVuY3Rpb24gWG4oZSl7dGhpcy5fc3Vic2NyaWJlPWV9ZnVuY3Rpb24gSm4odCxuKXtyZXR1cm4geChuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1VuKHRbZV18fCh0W2VdPW5ldyBObiksbltlXSl9KSx0fWZ1bmN0aW9uICRuKGQpe3JldHVybiBuZXcgUW4oZnVuY3Rpb24obil7dmFyIHI9UihkKTt2YXIgaT0hMSxvPXt9LGE9e30sdT17Z2V0IGNsb3NlZCgpe3JldHVybiBpfSx1bnN1YnNjcmliZTpmdW5jdGlvbigpe2k9ITAsdG4uc3RvcmFnZW11dGF0ZWQudW5zdWJzY3JpYmUoZil9fTtuLnN0YXJ0JiZuLnN0YXJ0KHUpO3ZhciBzPSExLGM9ITE7ZnVuY3Rpb24gbCgpe3JldHVybiB4KGEpLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV0mJkxuKG9bZV0sYVtlXSl9KX12YXIgZj1mdW5jdGlvbihlKXtKbihvLGUpLGwoKSYmaCgpfSxoPWZ1bmN0aW9uKCl7dmFyIHQsZTtzfHxpfHwobz17fSxlPWZ1bmN0aW9uKGUpe3ImJiRlKCk7dmFyIHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSmUoZCx7c3Vic2NyOmUsdHJhbnM6bnVsbH0pfSx0PU9lLnRyYW5zP2l0KE9lLnRyYW5zbGVzcyx0KTp0KCk7cmV0dXJuIHImJnQudGhlbihaZSxaZSksdH0odD17fSksY3x8KHRuKFp0LGYpLGM9ITApLHM9ITAsUHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7cz0hMSxpfHwobCgpP2goKToobz17fSxhPXQsbi5uZXh0JiZuLm5leHQoZSkpKX0sZnVuY3Rpb24oZSl7cz0hMSxuLmVycm9yJiZuLmVycm9yKGUpLHUudW5zdWJzY3JpYmUoKX0pKX07cmV0dXJuIGgoKSx1fSl9dHJ5e25yPXtpbmRleGVkREI6aC5pbmRleGVkREJ8fGgubW96SW5kZXhlZERCfHxoLndlYmtpdEluZGV4ZWREQnx8aC5tc0luZGV4ZWREQixJREJLZXlSYW5nZTpoLklEQktleVJhbmdlfHxoLndlYmtpdElEQktleVJhbmdlfX1jYXRjaChlKXtucj17aW5kZXhlZERCOm51bGwsSURCS2V5UmFuZ2U6bnVsbH19dmFyIFpuPUduO2Z1bmN0aW9uIGVyKGUpe3ZhciB0PXJyO3RyeXtycj0hMCx0bi5zdG9yYWdlbXV0YXRlZC5maXJlKGUpfWZpbmFsbHl7cnI9dH19cihabixnKGcoe30sVikse2RlbGV0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFpuKGUse2FkZG9uczpbXX0pLmRlbGV0ZSgpfSxleGlzdHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBabihlLHthZGRvbnM6W119KS5vcGVuKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5jbG9zZSgpLCEwfSkuY2F0Y2goIk5vU3VjaERhdGFiYXNlRXJyb3IiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KX0sZ2V0RGF0YWJhc2VOYW1lczpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIHQ9Wm4uZGVwZW5kZW5jaWVzLG49dC5pbmRleGVkREIsdD10LklEQktleVJhbmdlLChTbihuKT9Qcm9taXNlLnJlc29sdmUobi5kYXRhYmFzZXMoKSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWJ0fSl9KTpPbihuLHQpLnRvQ29sbGVjdGlvbigpLnByaW1hcnlLZXlzKCkpLnRoZW4oZSl9Y2F0Y2goZSl7cmV0dXJuIGx0KG5ldyBKLk1pc3NpbmdBUEkpfXZhciB0LG59LGRlZmluZUNsYXNzOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3UodGhpcyxlKX19LGlnbm9yZVRyYW5zYWN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBPZS50cmFucz9pdChPZS50cmFuc2xlc3MsZSk6ZSgpfSx2aXA6QW4sYXN5bmM6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciBlPWpuKHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKTtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUudGhlbj9lOmplLnJlc29sdmUoZSl9Y2F0Y2goZSl7cmV0dXJuIGx0KGUpfX19LHNwYXduOmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9am4oZS5hcHBseShuLHR8fFtdKSk7cmV0dXJuIHImJiJmdW5jdGlvbiI9PXR5cGVvZiByLnRoZW4/cjpqZS5yZXNvbHZlKHIpfWNhdGNoKGUpe3JldHVybiBsdChlKX19LGN1cnJlbnRUcmFuc2FjdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9lLnRyYW5zfHxudWxsfX0sd2FpdEZvcjpmdW5jdGlvbihlLHQpe3Q9amUucmVzb2x2ZSgiZnVuY3Rpb24iPT10eXBlb2YgZT9abi5pZ25vcmVUcmFuc2FjdGlvbihlKTplKS50aW1lb3V0KHR8fDZlNCk7cmV0dXJuIE9lLnRyYW5zP09lLnRyYW5zLndhaXRGb3IodCk6dH0sUHJvbWlzZTpqZSxkZWJ1Zzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEZ9LHNldDpmdW5jdGlvbihlKXtNKGUsImRleGllIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnQpfX0sZGVyaXZlOm8sZXh0ZW5kOnUscHJvcHM6cixvdmVycmlkZTpwLEV2ZW50czpPdCxvbjp0bixsaXZlUXVlcnk6JG4sZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldDpKbixnZXRCeUtleVBhdGg6ayxzZXRCeUtleVBhdGg6RSxkZWxCeUtleVBhdGg6ZnVuY3Rpb24odCxlKXsic3RyaW5nIj09dHlwZW9mIGU/RSh0LGUsdm9pZCAwKToibGVuZ3RoImluIGUmJltdLm1hcC5jYWxsKGUsZnVuY3Rpb24oZSl7RSh0LGUsdm9pZCAwKX0pfSxzaGFsbG93Q2xvbmU6UCxkZWVwQ2xvbmU6QSxnZXRPYmplY3REaWZmOkJuLGNtcDpSdCxhc2FwOl8sbWluS2V5Oi0xLzAsYWRkb25zOltdLGNvbm5lY3Rpb25zOnl0LGVycm5hbWVzOlEsZGVwZW5kZW5jaWVzOm5yLHNlbVZlcjoiMy4yLjIiLHZlcnNpb246IjMuMi4yIi5zcGxpdCgiLiIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlK3QvTWF0aC5wb3coMTAsMipuKX0pfSkpLFpuLm1heEtleT1zbihabi5kZXBlbmRlbmNpZXMuSURCS2V5UmFuZ2UpLCJ1bmRlZmluZWQiIT10eXBlb2YgZGlzcGF0Y2hFdmVudCYmInVuZGVmaW5lZCIhPXR5cGVvZiBhZGRFdmVudExpc3RlbmVyJiYodG4oWnQsZnVuY3Rpb24oZSl7dmFyIHQ7cnJ8fCh2dD8odD1kb2N1bWVudC5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKSkuaW5pdEN1c3RvbUV2ZW50KGVuLCEwLCEwLGUpOnQ9bmV3IEN1c3RvbUV2ZW50KGVuLHtkZXRhaWw6ZX0pLHJyPSEwLGRpc3BhdGNoRXZlbnQodCkscnI9ITEpfSksYWRkRXZlbnRMaXN0ZW5lcihlbixmdW5jdGlvbihlKXtlPWUuZGV0YWlsO3JyfHxlcihlKX0pKTt2YXIgdHIsbnIscnI9ITE7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBCcm9hZGNhc3RDaGFubmVsPyh0cj1uZXcgQnJvYWRjYXN0Q2hhbm5lbChlbiksdG4oWnQsZnVuY3Rpb24oZSl7cnJ8fHRyLnBvc3RNZXNzYWdlKGUpfSksdHIub25tZXNzYWdlPWZ1bmN0aW9uKGUpe2UuZGF0YSYmZXIoZS5kYXRhKX0pOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJih0bihadCxmdW5jdGlvbih0KXt0cnl7cnJ8fCgidW5kZWZpbmVkIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oZW4sSlNPTi5zdHJpbmdpZnkoe3RyaWc6TWF0aC5yYW5kb20oKSxjaGFuZ2VkUGFydHM6dH0pKSwib2JqZWN0Ij09dHlwZW9mIHNlbGYuY2xpZW50cyYmaShbXSxzZWxmLmNsaWVudHMubWF0Y2hBbGwoe2luY2x1ZGVVbmNvbnRyb2xsZWQ6ITB9KSwhMCkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5wb3N0TWVzc2FnZSh7dHlwZTplbixjaGFuZ2VkUGFydHM6dH0pfSkpfWNhdGNoKGUpe319KSwidW5kZWZpbmVkIiE9dHlwZW9mIGFkZEV2ZW50TGlzdGVuZXImJmFkZEV2ZW50TGlzdGVuZXIoInN0b3JhZ2UiLGZ1bmN0aW9uKGUpe2Uua2V5IT09ZW58fChlPUpTT04ucGFyc2UoZS5uZXdWYWx1ZSkpJiZlcihlLmNoYW5nZWRQYXJ0cyl9KSwobnI9c2VsZi5kb2N1bWVudCYmbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIpJiZuci5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbihlKXtlPWUuZGF0YTtlJiZlLnR5cGU9PT1lbiYmZXIoZS5jaGFuZ2VkUGFydHMpfSkpLGplLnJlamVjdGlvbk1hcHBlcj1mdW5jdGlvbihlLHQpe3JldHVybiFlfHxlIGluc3RhbmNlb2Ygenx8ZSBpbnN0YW5jZW9mIFR5cGVFcnJvcnx8ZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yfHwhZS5uYW1lfHwhJFtlLm5hbWVdP2U6KHQ9bmV3ICRbZS5uYW1lXSh0fHxlLm1lc3NhZ2UsZSksInN0YWNrImluIGUmJmModCwic3RhY2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbm5lci5zdGFja319KSx0KX0sTShGLGZ0KSxnKEduLE9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLERleGllOkduLGxpdmVRdWVyeTokbixkZWZhdWx0OkduLFJhbmdlU2V0Ok5uLG1lcmdlUmFuZ2VzOlVuLHJhbmdlc092ZXJsYXA6TG59KSx7ZGVmYXVsdDpHbn0pLEdufSk7"}]},{"name":"Nitro Type Car Hack _ Literally get ALL the cars","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.nitrotype.com/garage"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1689577126863,"data":{}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/401861-nitro-type-car-hack-literally-get-all-the-cars/code/Nitro%20Type%20Car%20Hack%20_%20Literally%20get%20ALL%20the%20cars.user.js","uuid":"2adddf95-abea-4888-97ca-11e2a800b73c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBOaXRybyBUeXBlIENhciBIYWNrIF8gTGl0ZXJhbGx5IGdldCBBTEwgdGhlIGNhcnMgCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly93d3cueW91dHViZS5jb20vYy9HaW5maW8KLy8gQHZlcnNpb24gICAgICAxLjEKLy8gQGRlc2NyaXB0aW9uICBMaXRlcmFsbHkgZ2V0IGFsbCB0aGUgbml0cm8gdHlwZSBjYXJzLiBVbmZvcnR1bmF0ZWx5IHRob3VnaCwgd2UgYXJlbid0IGFibGUgdG8gc2VsbCAvIG9yIHVzZSB0aGUgY2FycyBvbiByYWNlLgovLyBAYXV0aG9yICAgICAgIEdpbmZpbwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3Lm5pdHJvdHlwZS5jb20vZ2FyYWdlCi8vID09L1VzZXJTY3JpcHQ9PQoKLy9OSVRSTyBUWVBFIExJVEVSQUxMWSBHRVQgQUxMIFRIRSBDQVJTLgoKdmFyIGdhcmFnZVNwb3RSb3dzTmVlZGVkPTY7dmFyIG1vcmU9KGdhcmFnZVNwb3RSb3dzTmVlZGVkKjE1KSoyO3ZhciBlbXB0eV9zcG90czt2YXIgbW90aGVyPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5nYXJhZ2UiKTt2YXIgbm9uZT1bIm5vbmUiXQp2YXIgYXJyPUFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmdhcmFnZS1zcG90ID4gLmdhcmFnZS12ZWhpY2xlID4gLmdhcmFnZS12ZWhpY2hsZUltYWdlIikpLm1hcChpdGVtPT53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpdGVtLCExKS5iYWNrZ3JvdW5kSW1hZ2UpO3ZhciBwYWludGVkPWFyci5maWx0ZXIodj0+KG5vbmUuaW5kZXhPZih2KT09PS0xKSk7cGFpbnRlZD1wYWludGVkLm1hcChteUZ1bmN0aW9uKQpmdW5jdGlvbiBteUZ1bmN0aW9uKG51bSl7aWYobnVtLmluY2x1ZGVzKCJwYWludGVkLyIpKXtyZXR1cm4gbnVtLnNsaWNlKDQ0LC0xOCl9fQpwYWludGVkPXBhaW50ZWQuZmlsdGVyKGZ1bmN0aW9uKGVsKXtyZXR1cm4gZWwhPW51bGx9KTtwYWludGVkPXBhaW50ZWQubWFwKE51bWJlcik7Y29uc29sZS5sb2coInBhaW50ZWQgIitwYWludGVkKQphcnI9YXJyLmZpbHRlcih2PT4obm9uZS5pbmRleE9mKHYpPT09LTEpKTthcnI9YXJyLm1hcChlbD0+ZWwuc2xpY2UoMzYsLTE0KSk7YXJyPWFyci5tYXAoTnVtYmVyKTthcnI9YXJyLmZpbHRlcihmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIU51bWJlci5pc05hTih2YWx1ZSl9KTthcnI9YXJyLmNvbmNhdChwYWludGVkKQpjb25zb2xlLmxvZygiT3JpZ2luYWwgY2FyczogIithcnIpCnZhciBybXZOYW1lcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FyYWdlLXNwb3QgPiAuZ2FyYWdlLXZlaGljbGUgPiAuZ2FyYWdlLXZlaGljaGxlSW1hZ2VbZGF0YS10aXBdJyksYXJyYXk9W10saTtmb3IoaT0wO2k8cm12TmFtZXMubGVuZ3RoO2krPTEpe2FycmF5LnB1c2gocm12TmFtZXNbaV0uZGF0YXNldC50aXApfQpjb25zb2xlLmxvZygibmFtZXMgcmVtb3ZlZDogIithcnJheSk7Zm9yKHZhciBnUz0wO2dTPG1vcmU7Z1MrKyl7dmFyIG5ld1Nwb3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bmV3U3BvdC5jbGFzc05hbWU9ImdhcmFnZS1zcG90IGlzLWVtcHR5IjtuZXdTcG90LmlubmVySFRNTD0nPGRpdiBkcmFnZ2FibGU9InRydWUiIGNsYXNzPSJnYXJhZ2UtdmVoaWNsZSI+PGRpdiBjbGFzcz0iZ2FyYWdlLXZlaGljaGxlSW1hZ2UiPjwvZGl2PjwvZGl2PicrJzxidXR0b24gY2xhc3M9ImJ0biBidG4tLXRlcnRpYXJ5IGJ0bi0teHMgYnRuLS10aGlubmVyIGdhcmFnZS1zcG90QnRuIj5TZWxsPC9idXR0b24+Jzttb3RoZXIuYXBwZW5kQ2hpbGQobmV3U3BvdCk7ZW1wdHlfc3BvdHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmlzLWVtcHR5ID4gLmdhcmFnZS12ZWhpY2xlID4gLmdhcmFnZS12ZWhpY2hsZUltYWdlIil9CndpbmRvdy5vbmxvYWQ9ZnVuY3Rpb24oKXtta0FjdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuaXMtZW1wdHkiKTtjdXJyZW50X2ltYWdlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLWNhcicpO3ZhciBuYW1lcz1bIkxhbWJvcmdvdHRpIE1lcGhpc3RvIFNTIiwiTGFtYm9yZ290dGkgTWVwaGlzdG8iLCJKZWVwZXJzIFJ1Ymljb3JuIiwiUG9ydGNoIFBpY2FudGUiLCJCYW50bHkgU3VwZXIgU3BvcnQiLCJUaGUgUm9sbHMiLCJXaW5zdG9uIENpdHJvZW4iLCJXaW5zdG9uIEFnaWxlIiwiUmVudGFsIENhciIsIk1pc3Npb24gQWNjb21wbGlzaGVkIiwiQnVnZ2FuaSBWeXJ1cyBTUyIsIkF1dHRpZSBCOSIsIk5pdHN1YSBMYW5jZSA3MjIiLCJNaXNvdXggTGlvbiIsIk1pc291eCBUb2FkIiwiTWlubmllIHRoZSBDb29wZXIiLCJOaXp6YSAzNTB4IiwiT25lIEFjZSIsIkNvdWdhciBBY2UiLCJSYW5kIFJvdmVyIFIvVCIsIkItVGVhbSBWYW4iLCJNZXJjZWRleCBCZW5zIFYtMjAiLCJNZXJjZWRleCBCZW5zIEMtNjQiLCJQb3J0Y2ggU3B5ZGVyIiwiQXV0dGllIFJvYWRzdGVyIiwiQmltbWVyIE0yLjAiLCJCaW1tZXIgOS4wdCIsIlRodW5kZXIgQ291Z2FyYmlyZCIsIlJhdCBSb2QgU2t1bGx5IiwiT3V0dGllIFIxMSIsIlRoZSBGbGFtZXJvZCIsIlZhbGVudCBQZXJmb3JtbyIsIlBvcnRjaCBHVDMgUlMiLCJQb25jZSBkZSBMZW9uIChmb3JtZXJseSBHZW5lcmFsIEJlYXVyZWdhcmQpIiwiJzY3IFNoZWxsYmFjayBHVC01MDAiLCJSb2FkIFdhcnJpb3IiLCJMaW51eCBFbGlzZSIsIic2OSBTaGVsbGJhY2sgUlQtNTAwIiwiVGhlIEdhdG9yIiwiQmFzdG9rIFN1cHJpbGxpYSIsIlRoZSBKdWRnZSIsIlRoZSBTdGFsbGlvbiIsIlRoZSBNYWNybyIsIlRoZSBGYXN0YmFjayIsIlRoZSBDb3ZlbmFudCIsIlRoZSBUcmlmZWN0YSIsIjggQml0IFJhY2VyIiwiTWluaSBTaGVybWFuIiwiVHlwaWFubyBQaXp6YSBDYXIiLCJSb2NrZXQgTWFuIiwiQWxsIFRlcnJhaW4gVmVoaWNsZSIsIk1QIDQyNyIsIldhbWJ1bGFuY2UiLCJIb3Rkb2cgTW9iaWxlIiwiRi0zNSBKU0YiLCJOQVNBIFNodXR0bGUiLCJDYXRlcmhhbSBSYWNlciIsIk1hY2sgRGFkZHkiLCJCaWcgSGF1bGVyIiwiQmlnIEJsdWUiLCJGb3J0IEdUNDAiLCJEb20gVmlwcGVyIEdTVC1SIiwiQWxwaGEgUm9tZXJvIDjOqSIsIkJsYXppbmcgQnVnZ3kiLCJGNFUtQ29yc2FpciIsIlJvY2tldCBTbGVpZ2giLCJYTWF4eCBUcmVlIFJhY2VyIiwiU2hhZG93IFhtYXh4IFRyZWUiLCJQYXJ0eSBTbGVpZ2giLCJab25kYXkgVHJpY29sb3JlIiwiVGhlIE1vbnN0ZXIiLCJGbHV4IENhcGFjaXRvciIsIlRoZSBHb3RoYW0iLCJUaGUgUGlyYyIsIlN1emlraSBHWFJTIDEyMDAiLCJFWiBSaWRlciIsIkxhbWJvcmdvdHRpIEFkdmVudFgiLCJTdW1tZXIgQ2xhc3NpYyIsIkhhbmcgVGVuIiwiJzQxIFdvb2RpZSBEZWx1eHgiLCJIYW5nIEVsZXZlbiIsIic0MSBXb29kaWUgU3Vuc2hpbmUiLCJUaGUgWGNlbHNpb3IgVjEyIiwiJzY4IFJvYWR0cmlwcGVyIiwiSGFuZyBGaWZ0ZWVuIiwiV2FjaCA2IiwiRm9ydCBGLTEyNSIsIldpc2tlciBFbGVjdHJpYyIsIic2NyBWZXR0ZSIsIk1TRyAwMSIsIkZvcnQgU3RhbGxpb24iLCJQb2xpY2UgQmltbWVyIiwiQXV0dGllIFItOC4xIiwiV2FtcHVzIiwiUHVtcGtpbiBIYXVsZXIiLCJXcmVhdGggUmFjZXIiLCJTYW50YSdzIEJ1Z2d5IiwiVHJhdmlzJ3MgQ2FyIiwiRGFyayBFbGYiLCJUaGUgR29sZGVuIEdpZnQiLCJDb3JuZG9nJ3MgQ2FyIiwiJzE0IE1hbnRhcmF5IiwiRmVycmV0aSBTYW1zaGVyIDQ1OCIsIkxhY2FuIEh5cGVyc3BvcnQiLCJTdW4gQnVnZ2llIiwiSGFtbWVyIFdoZWVscyIsIktyaW5nbGUgNDAwMCIsIkJ1ZGR5J3MgU25vd21vYmlsZSIsIktyaW5nbGUgNDAwMCBYTCIsIkJ1ZGR5J3MgU25vd21vcm9ja2V0IiwiU2l4IEZvdXIiLCJTaXggRm91ciBQbHVzIFRocmVlIiwiQ2FyIDExNzogVGhlIE1pZG5pZ2h0IEhhdWxlciIsIlRoZSBDYW5keSBIYXVsZXIiLCJLcmluZ2xlIDUwMDAiLCJXcmFwcGVkIFdyYWNlciIsIldyYXBwZWQgV3JhY2VyIEdUIiwiSG9saWRheSBIZXJvIiwiS3JpbmdsZSA1MDAwIEwuVC4iLCJNZXJjZWRleCBNY0xhcm8gU0xSIiwiRmxvYXR5IEJsdWUiLCJCLk8uQS5ULiIsIkknbSBTcGljeSEiLCJZLkEuQy5ILlQuIiwiTWVyY2VkZXggTWNMYXJvIFNMUiAxMi41IiwiTml0ci1vJy1MYW50ZXJuIiwiTml0ci1vJy10aGUtV2lzcCIsIlhtYXh4IFh4cHJlc3MiLCJYTWF4eCBYeHByZXNzIFhYTCIsIkdpbGRlZCBYeHByZXNzIiwiTGFtYm9yZ290dGkgWG1heHggTFQiLCJMYW1ib3Jnb3R0aSBYbWF4eCBMVC1DIiwiTWVyY2VkZXggTWNMYXJvIFNIUyAxNS4wIiwiU3RyeWtpc3QgMTMwMCIsIlJhbmdlIFJ1bm5lciIsIlN0cnlraXN0IDEzMDAgWFQtTFIiLCJUcmFjay1vJy1MYW50ZXJuIiwiR2luZ2VyYnJlYWQgUmFjZXIiLCJHaW5nZXJicmVhZCBSYWNlciBIJlQiLCJNaXNzaWxlIFRvZSIsIk1pc3NpbGUgVG9lIEgmVCIsIlRoZSBEYXJrIENob2NvbGF0ZSBLbmlnaHQiLCJUZWdnc2xhIiwiRWdnIEJlYXRlciIsIkVnZ2NlZGVzIiwiRWdnIEhhdWxlciIsIk1lcmNlZGV4IEdUIDIwLjAiLCJSb2NreSBSb28iLCJOaXRyb1BBQyIsIk1hdGNoYm94IiwiTHVja3kgTnVtYmVyIDciLCJFYXN5IEJyZWV6eSIsIkhvdmVySmV0IDUwMDAgTWsuIDMiLCJHb2xkZW4gQnJlZXplIiwiQi5VLlMuIiwiUydjb29sIEIuVS5TLiIsIkFVLTc5IiwiVGhlIFVuZGVyYWNoaWV2ZXIiLCJUaGUgT3ZlcmFjaGlldmVyIiwiVGhlIFdpbGRmbG93ZXIiLCJKb2xseSBSUyIsIm9sbHkgR1RYIExHIiwiVGhlIEdvbGRyYXkiLCJjYW4gaGF2IG50IGcwbGQgcGx4PyIsIlRoZSBXcmFwdG9yIiwiVHJhdmlzJyBUcnVjayIsIlRoZSBXcmFwdG9yIEdHIiwiVGhlIFNpbGVudCBLbmlnaHQiLCJOVCBHb2xkIiwiTGFtYm9yZ290dGkgVGllc3RvIiwiUG9ydGNoIENvYmFsdCIsIkFscGhhIFJvbWVybyAxMjPOqSIsIlRyYXZpcycgQmlnIFRydWNrIiwiQnJpZ2h0IElkZWEiLCJTYW5kc3Rvcm0iLCJUaGUgSnVyeSIsIlRoZSBHb2xkZmlzaCIsIlNob2NrIFZhbHVlIiwiR29sZCBTdGFuZGFyZCIsIlNvbGFyIFJvbGxlciIsIkgyR08iLCJUaGUgRGV2YXNUYXRlciIsIkNyZWVweSBDcmF3bGVyIiwiVGhlIEdvYmxpbiIsIlNvbWV0aGluZyBXaWNrZWQiLCJGcm9zdGVkIFJvbGxlciIsIkdpbmdlcmJyZWFkIEdUIiwiSG9saWRheSBIZWF0IiwiQ29sZCBTbmFwIiwiVGhlIFNub3d5IEtuaWdodCIsIlRoZSBSb2NrZXQgS2xhdXMiLCJHb2xkZW4gVGlja2V0IiwiV2F2ZWJyZWFrZXIiLCJCcm9hZHdpbmciLCJCaW1tZXIgUHJpc20gaTIwIiwiSGVhcnRicmVha2VyIiwiVGhlIERhbmdlciA5IiwiVGhlIFdpbGQgNTAwIiwiVGlncmVlbiIsIlgxIEVjbGlwc2UiLCJFcnJvciA1MDAiLCJWYXBvciJdO25hbWVzLnJldmVyc2UoKTt2YXIgcm12PVsxMiwzMiw0MSwxMDgsMTQ3LDE0OF07dmFyIGNhcklkPVtdO2Zvcih2YXIgbT0yMDg7bT49MTttLS0pe2lmKHJtdi5pbmNsdWRlcyhtKSl7Y29udGludWV9CmlmKGFyci5pbmNsdWRlcyhtKSl7Y29udGludWV9CmNhcklkLnB1c2gobSl9Cm5hbWVzPW5hbWVzLmZpbHRlcih2PT4oYXJyYXkuaW5kZXhPZih2KT09PS0xKSk7Y29uc29sZS5sb2cobmFtZXMpOwp2YXIgaW1hZ2VzID0gbmV3IEFycmF5KCk7IGZvcihsZXQgaSBvZiBjYXJJZCl7aW1hZ2VzLnB1c2goYGh0dHBzOi8vd3d3Lm5pdHJvdHlwZS5jb20vY2Fycy8ke2l9X2xhcmdlXzEucG5nYCl9CnZhciBhdWRpbz1uZXcgQXVkaW8oJ2h0dHBzOi8vd3d3Lm5pdHJvdHlwZS5jb20vZGlzdC9zaXRlL21pc2Mvc291bmRzL2dsb2JhbC9vZ2cvc3dvb3NoLm9nZycpO2F1ZGlvLnZvbHVtZT0wLjU7dmFyIHN0YXJ0PXNldFRpbWVvdXQoZGVsYXksMTAwKQpmdW5jdGlvbiBkZWxheSgpe2ZvcihsZXQgcj0wO3I8aW1hZ2VzLmxlbmd0aDtyKyspe2VtcHR5X3Nwb3RzW3JdLnNldEF0dHJpYnV0ZSgnZGF0YS10aXAnLG5hbWVzW3JdKTtta0FjdFtyXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXthdWRpby5wbGF5KCk7c2V0VGltZW91dChmdW5jdGlvbigpe2N1cnJlbnRfaW1hZ2Uuc3JjPWltYWdlc1tyXTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucHJvZmlsZS1jYXJJbnRlcmlvciA+IC5tdG0iKS5pbm5lckhUTUw9bmFtZXNbcl19LDUwMCk7c2V0VGltZW91dChmdW5jdGlvbigpe2N1cnJlbnRfaW1hZ2UuY2xhc3NMaXN0LmFkZCgiaXMtZXhpdGluZyIpO2N1cnJlbnRfaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZSgiaXMtZW50ZXJpbmciKX0sMjAwKQpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Y3VycmVudF9pbWFnZS5jbGFzc0xpc3QuYWRkKCJpcy1lbnRlcmluZyIpO2N1cnJlbnRfaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZSgiaXMtZXhpdGluZyIpfSw1MDApfSl9fQpzbWFsbEltYWdlPWltYWdlcy5tYXAoYT0+YS5yZXBsYWNlKCJsYXJnZSIsInNtYWxsIikpO2ZvcihsZXQgaT0wO2k8aW1hZ2VzLmxlbmd0aDtpKyspe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlbXB0eV9zcG90c1tpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK3NtYWxsSW1hZ2VbaV0rIikifSwxMDApCnNldFRpbWVvdXQoZnVuY3Rpb24oKXtta0FjdFtpXS5jbGFzc0xpc3QucmVtb3ZlKCJpcy1lbXB0eSIpO3ZhciBnYXJhZ2U9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmdhcmFnZSIpO3ZhciBidG5zPWdhcmFnZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJnYXJhZ2Utc3BvdCIpO2ZvcihsZXQgaT0wO2k8YnRucy5sZW5ndGg7aSsrKXtidG5zW2ldLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpe3ZhciBjdXJyZW50PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImlzLWFjdGl2ZSIpO2lmKGN1cnJlbnQubGVuZ3RoPjApe2N1cnJlbnRbMF0uY2xhc3NOYW1lPWN1cnJlbnRbMF0uY2xhc3NOYW1lLnJlcGxhY2UoIiBpcy1hY3RpdmUiLCIiKX0KdGhpcy5jbGFzc05hbWUrPSIgaXMtYWN0aXZlIn0pfX0sMTAwMCl9fQ=="},{"name":"Nitro Type and Math Gold For Free","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.nitrotype.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1687976036995,"data":{}},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/454143-nitro-type-and-math-gold-for-free/code/Nitro%20Type%20and%20Math%20Gold%20For%20Free.user.js","uuid":"04c02f5b-fa80-4fbe-886c-b779d35caa8f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBOaXRybyBUeXBlIGFuZCBNYXRoIEdvbGQgRm9yIEZyZWUKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL3NpbmdkZXZlbG9wbWVudHNibG9nLndvcmRwcmVzcy5jb20KLy8gQHZlcnNpb24gICAgICA0LjAKLy8gQGRlc2NyaXB0aW9uICBHaXZlcyB5b3UgTlQgR29sZCBsb29rIG9uIE5pdHJvIFR5cGUgYW5kIE1hdGggZ2FyYWdlIHBhZ2UhIFNvbWV0aW1lcywgaXQgb25seSB3b3JrcyBmb3IgYSBzZWNvbmQuCi8vIEBhdXRob3IgICAgICAgU2luZyBEZXZlbG9wbWVudHMKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5uaXRyb3R5cGUuY29tLyogCi8vIEBtYXRjaC4gICAgICAgaHR0cHM6Ly93d3cubml0cm9tYXRoLmNvbS8qCi8vIEBsaWNlbnNlIE1JVAovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vc2luZ2RldmVsb3BtZW50c2Jsb2cuZmlsZXMud29yZHByZXNzLmNvbS8yMDIyLzExL25pdHJvdHlwZS1sb2dvLmpwZyAgICAgIAovLyA9PS9Vc2VyU2NyaXB0PT0KKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICB2YXIgYSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWyJwZXJzaXN0Om50Il0pOwogICAgICAgIHZhciBiID0gSlNPTi5wYXJzZShhLnVzZXIpOwogICAgICAgIGIubWVtYmVyc2hpcCA9ICJnb2xkIjsKICAgICAgICBhYnVzZXIgPSBKU09OLnN0cmluZ2lmeShiKTsKICAgICAgICBsb2NhbFN0b3JhZ2VbInBlcnNpc3Q6bnQiXSA9IEpTT04uc3RyaW5naWZ5KGEpOwogICAgIH0sIDgwMDApOwp9KSgpOwovL0NyZWRpdDogU2luZy5EZXYuQ29kaW5nIEBzaWRhc3R1ZmYK"}],"settings":{"script_blacklist_server":[{"rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"],"severity":2},{"name":"SaveFrom.net helper","reason":"Shows advertisements","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"severity":3},{"reasons":{"en":"Used for a phishing compain to compromise users of baon-nutrition.com"},"rules":["/https?:\\/\\/files\\.ulysse\\.travel\\/.*\\.user\\.js/"],"severity":8}]}}